import{generateKeyPair as ac,decodeJwt as sc,createRemoteJWKSet as lc,jwtVerify as uc,calculateJwkThumbprint as oc,exportJWK as pl,SignJWT as cc}from"https://esm.sh/jose@5";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function yr(i){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(i)}function dc(i,e){if(yr(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(yr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function hc(i){var e=dc(i,"string");return yr(e)=="symbol"?e:e+""}function ae(i,e,t){return(e=hc(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}const Yt={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7};let Ye=class{constructor(e){ae(this,"termType",void 0),ae(this,"classOrder",void 0),ae(this,"value",void 0),this.value=e}substitute(e){return this}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e?this.termType===e.termType&&this.value===e.value:!1}hashString(){return this.toCanonical()}sameTerm(e){return this.equals(e)}toCanonical(){return this.toNT()}toNT(){return this.toString()}toNQ(){return this.toNT()}toString(){throw new Error("Node.toString() is abstract - see the subclasses instead")}};ae(Ye,"fromValue",void 0);ae(Ye,"toJS",void 0);const Ln="NamedNode",Rn="BlankNode",Yn="Literal",gn="Variable",In="DefaultGraph",vn="Collection",ml="Empty",xr="Graph",ms="text/html",Gi="application/ld+json",gl="text/n3",fc="application/n3",Xi="application/nquads",Wi="application/n-quads",pc="application/n-triples",wr="application/rdf+xml",mc="application/sparql-update",gc="application/sparql-update-single-match",kn="text/turtle",vc="application/x-turtle",Qi="application/xhtml+xml";let Zt=class qn extends Ye{static getId(e){if(e){if(typeof e!="string")throw new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){let t=e.split("#");return t[t.length-1]}return e}return"n"+qn.nextId++}constructor(e){super(qn.getId(e)),ae(this,"termType",Rn),ae(this,"classOrder",Yt.BlankNode),ae(this,"isBlank",1),ae(this,"isVar",1)}get id(){return this.value}set id(e){this.value=e}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}copy(e){var t=new qn;return e.copyTo(this,t),t}toCanonical(){return qn.NTAnonymousNodePrefix+this.value}toString(){return qn.NTAnonymousNodePrefix+this.id}};ae(Zt,"nextId",0);ae(Zt,"NTAnonymousNodePrefix","_:");function Hn(i){return typeof i=="string"?i:i.value}function yc(i){return typeof i=="object"&&i!==null&&"subject"in i}function gs(i){return typeof i=="object"&&i!==null&&"statements"in i}function ca(i){return dn(i)&&i.termType===vn}function wc(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ln||i.termType===gn||i.termType===Rn||i.termType===vn||i.termType===Yn||i.termType===xr)}function Ec(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ln||i.termType===gn||i.termType===Rn||i.termType===vn||i.termType===Yn||i.termType===xr)}function Cc(i){return dn(i)&&(i.termType===Ln||i.termType===Rn||i.termType===gn)}function bc(i){return dn(i)&&i.termType===gn}function dn(i){return typeof i=="object"&&i!==null&&"termType"in i}function vl(i){return i.termType===Yn}function zn(i){return typeof i=="object"&&i!==null&&"subject"in i&&"predicate"in i&&"object"in i}function vs(i){return dn(i)&&i.termType==="NamedNode"}function xc(i){return dn(i)&&(i.termType===Ln||i.termType===gn||i.termType===Rn||i.termType===In)}let mt=class jn extends Ye{constructor(e){if(super(Hn(e)),ae(this,"termType",Ln),ae(this,"classOrder",Yt.NamedNode),!this.value)throw new Error("Missing IRI for NamedNode");if(!this.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(this.value.includes(" ")){var t='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(t)}}dir(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new jn(e.slice(0,t+1))}site(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return n<0?new jn(e.slice(0)+"/"):new jn(e.slice(0,n+1))}doc(){return this.value.indexOf("#")<0?this:new jn(this.value.split("#")[0])}toString(){return"<"+this.value+">"}id(){return this.value.split("#")[1]}get uri(){return this.value}set uri(e){this.value=e}static fromValue(e){return typeof e>"u"||e===null||dn(e)?e:new jn(e)}};const an={boolean:new mt("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new mt("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new mt("http://www.w3.org/2001/XMLSchema#decimal"),double:new mt("http://www.w3.org/2001/XMLSchema#double"),integer:new mt("http://www.w3.org/2001/XMLSchema#integer"),langString:new mt("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new mt("http://www.w3.org/2001/XMLSchema#string")};let Qt=class Xt extends Ye{constructor(e,t,n){super(e),ae(this,"termType",Yn),ae(this,"classOrder",Yt.Literal),ae(this,"datatype",an.string),ae(this,"isVar",0),ae(this,"language",""),t?(this.language=t,this.datatype=an.langString):n?this.datatype=mt.fromValue(n):this.datatype=an.string}copy(){return new Xt(this.value,this.lang,this.datatype)}equals(e){return e?this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)):!1}get lang(){return this.language}set lang(e){this.language=e||""}toNT(){return Xt.toNT(this)}static toNT(e){if(typeof e.value=="number")return""+e.value;if(typeof e.value!="string")throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\"/g,'\\"'),t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t='"'+t+'"',e.language?t+="@"+e.language:e.datatype.equals(an.string)||(t+="^^"+e.datatype.toCanonical()),t}toString(){return""+this.value}static fromBoolean(e){let t=e?"1":"0";return new Xt(t,null,an.boolean)}static fromDate(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");let t=function(a){return(""+(100+a)).slice(1,3)},n=""+e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new Xt(n,null,an.dateTime)}static fromNumber(e){if(typeof e!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");let t;const n=e.toString();return n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?t=Number.isInteger(e)?an.integer:an.decimal:t=an.double,new Xt(n,null,t)}static fromValue(e){if(vl(e))return e;switch(typeof e){case"object":if(e instanceof Date)return Xt.fromDate(e);case"boolean":return Xt.fromBoolean(e);case"number":return Xt.fromNumber(e);case"string":return new Xt(e)}throw new Error("Can't make literal from "+e+" of type "+typeof e)}};function yl(i){return typeof i>"u"||i===null||dn(i)?i:Array.isArray(i)?new Pt(i):Qt.fromValue(i)}class Pt extends Ye{constructor(e){super((Zt.nextId++).toString()),ae(this,"termType",vn),ae(this,"classOrder",Yt.Collection),ae(this,"closed",!1),ae(this,"compareTerm",Zt.prototype.compareTerm),ae(this,"elements",[]),ae(this,"isVar",0),e&&e.length>0&&e.forEach(t=>{this.elements.push(yl(t))})}get id(){return this.value}set id(e){this.value=e}append(e){return this.elements.push(e)}close(){return this.closed=!0,this.closed}shift(){return this.elements.shift()}substitute(e){const t=this.elements.map(n=>n.substitute(e));return new Pt(t)}toNT(){return Pt.toNT(this)}static toNT(e){return Zt.NTAnonymousNodePrefix+e.id}toString(){return"("+this.elements.join(" ")+")"}unshift(e){return this.elements.unshift(e)}}ae(Pt,"termType",vn);const Er="chrome:theSession";new mt(Er);let da=class extends Ye{constructor(){super(""),ae(this,"value",""),ae(this,"termType",In),ae(this,"uri",Er)}toCanonical(){return this.value}toString(){return"DefaultGraph"}};function ys(i){return!!i&&i.termType===In}const Nc=new da;class cn{constructor(e,t,n,a){ae(this,"subject",void 0),ae(this,"predicate",void 0),ae(this,"object",void 0),ae(this,"graph",void 0),this.subject=Ye.fromValue(e),this.predicate=Ye.fromValue(t),this.object=Ye.fromValue(n),this.graph=a==null?Nc:Ye.fromValue(a)}get why(){return this.graph}set why(e){this.graph=e}equals(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}substitute(e){return new cn(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),ys(this.graph)?this.graph:this.graph.substitute(e))}toCanonical(){let e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==In&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}toNT(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}toNQ(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),ys(this.graph)?"":this.graph.toNT()].join(" ")+" ."}toString(){return this.toNT()}}var wl=wl||console.log;function Gn(i){var e;return e=i.indexOf("#"),e<0?i:i.slice(0,e)}function Tc(i){var e=/[^\/]*\/\/([^\/]*)\//.exec(i);return e?e[1]:""}function Bt(i,e){var t,n,a,s,r,l,o=e.indexOf("#");if(o>0&&(e=e.slice(0,o)),i.length===0)return e;if(i.indexOf("#")===0)return e+i;if(s=i.indexOf(":"),s>=0||(t=e.indexOf(":"),e.length===0))return i;if(t<0)return wl("Invalid base: "+e+" in join with given: "+i),i;if(n=e.slice(0,+t+1||9e9),i.indexOf("//")===0)return n+i;if(e.indexOf("//",t)===t+1){if(a=e.indexOf("/",t+3),a<0)return e.length-t-3>0?e+"/"+i:n+i}else if(a=e.indexOf("/",t+1),a<0)return e.length-t-1>0?e+"/"+i:n+i;if(i.indexOf("/")===0)return e.slice(0,a)+i;if(l=e.slice(a),r=l.lastIndexOf("/"),r<0)return n+i;for(r>=0&&r<l.length-1&&(l=l.slice(0,+r+1||9e9)),l+=i;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=l.replace(/\.\//g,""),l=l.replace(/\/\.$/,"/"),e.slice(0,a)+l}function ws(i){const e=i.indexOf(":");return e<0?null:i.slice(0,e)}function ki(i,e){var t,n,a,s,r,l,o,c,h,p,m,y,w,x=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!i)return e;if(i===e)return"";for(n=c=0,r=e.length;c<r&&e[n]===i[n];n=++c);if(i.slice(0,n).match(x)&&(a=e.indexOf("//"),a<0&&(a=-2),s=e.indexOf("/",a+2),e[s+1]!=="/"&&i[s+1]!=="/"&&e.slice(0,s)===i.slice(0,s)))return e.slice(s);if(e[n]==="#"&&i.length===n)return e.slice(n);for(;n>0&&e[n-1]!=="/";)n--;if(n<3||i.indexOf("//",n-2)>0||e.indexOf("//",n-2)>0||i.indexOf(":",n)>0)return e;for(o=0,m=i.slice(n),h=0,l=m.length;h<l;h++)t=m[h],t==="/"&&o++;if(o===0&&n<e.length&&e[n]==="#")return"./"+e.slice(n);if(o===0&&n===e.length)return"./";if(w="",o>0)for(p=1,y=o;y>=1?p<=y:p>=y;y>=1?++p:--p)w+="../";return w+e.slice(n)}let Bn=class El extends Ye{constructor(e=""){super(e),ae(this,"termType",gn),ae(this,"base","varid:"),ae(this,"classOrder",Yt.Variable),ae(this,"isVar",1),ae(this,"uri",void 0),this.base="varid:",this.uri=Bt(e,this.base)}equals(e){return e?this.termType===e.termType&&this.value===e.value:!1}hashString(){return this.toString()}substitute(e){var t;return(t=e[this.toNT()])!=null?t:this}toString(){return El.toString(this)}static toString(e){return e.uri.slice(0,e.base.length)===e.base?`?${e.uri.slice(e.base.length)}`:`?${e.uri}`}},At=(function(i){return i.collections="COLLECTIONS",i.defaultGraphType="DEFAULT_GRAPH_TYPE",i.equalsMethod="EQUALS_METHOD",i.id="ID",i.identity="IDENTITY",i.reversibleId="REVERSIBLE_ID",i.variableType="VARIABLE_TYPE",i})({});const Es=new da,Mt={supports:{[At.collections]:!1,[At.defaultGraphType]:!1,[At.equalsMethod]:!0,[At.identity]:!1,[At.id]:!0,[At.reversibleId]:!1,[At.variableType]:!0},blankNode(i){return new Zt(i)},defaultGraph:()=>Es,equals(i,e){return i===e||!i||!e?!0:zn(i)||zn(e)?zn(i)&&zn(e)?this.equals(i.subject,e.subject)&&this.equals(i.predicate,e.predicate)&&this.equals(i.object,e.object)&&this.equals(i.graph,e.graph):!1:dn(i)&&dn(e)?this.id(i)===this.id(e):!1},id(i){if(!i)return"undefined";if(zn(i))return this.quadToNQ(i);switch(i.termType){case In:return"defaultGraph";case gn:return Bn.toString(i);default:const e=this.termToNQ(i);if(e)return e;throw new Error(`Can't id term with type '${i.termType}'`)}},isQuad(i){return i instanceof cn},literal(i,e){if(typeof i!="string"&&!e)return Qt.fromValue(i);const t=typeof i=="string"?i:""+i;return typeof e=="string"?e.indexOf(":")===-1?new Qt(t,e):new Qt(t,null,this.namedNode(e)):new Qt(t,null,e)},namedNode(i){return new mt(i)},quad(i,e,t,n){return new cn(i,e,t,n||Es)},triple(i,e,t,n){return this.quad(i,e,t,n)},quadToNQ(i){return`${this.termToNQ(i.subject)} ${this.termToNQ(i.predicate)} ${this.termToNQ(i.object)} ${this.termToNQ(i.graph)} .`},termToNQ(i){switch(i.termType){case Rn:return"_:"+i.value;case In:return"";case ml:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case Yn:return Qt.toNT(i);case xr:case Ln:return"<"+i.value+">";case vn:return"("+i.elements.map(e=>this.termToNQ(e)).join(" ")+")";default:throw new Error(`Can't serialize nonstandard term type (was '${i.termType}')`)}},toNQ(i){return this.isQuad(i)?this.quadToNQ(i):this.termToNQ(i)},variable(i){return new Bn(i)}},Gt={debug(i){},warn(i){},info(i){},error(i){},success(i){},msg(i){}};function Ie(i,e){const t=e||{namedNode:n=>new mt(n)};return function(n){return t.namedNode(i+(n||""))}}var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ni={exports:{}},Ac=ni.exports,Cs;function Dc(){return Cs||(Cs=1,(function(i){(function(e,t){i.exports?i.exports=t():e.ttl2jsonld=t()})(Ac,function(){function e(a,s){function r(){this.constructor=a}r.prototype=s.prototype,a.prototype=new r}function t(a,s,r,l){this.message=a,this.expected=s,this.found=r,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}e(t,Error),t.buildMessage=function(a,s){var r={literal:function(y){return'"'+o(y.text)+'"'},class:function(y){var w="",x;for(x=0;x<y.parts.length;x++)w+=y.parts[x]instanceof Array?c(y.parts[x][0])+"-"+c(y.parts[x][1]):c(y.parts[x]);return"["+(y.inverted?"^":"")+w+"]"},any:function(y){return"any character"},end:function(y){return"end of input"},other:function(y){return y.description}};function l(y){return y.charCodeAt(0).toString(16).toUpperCase()}function o(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(w){return"\\x0"+l(w)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(w){return"\\x"+l(w)})}function c(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(w){return"\\x0"+l(w)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(w){return"\\x"+l(w)})}function h(y){return r[y.type](y)}function p(y){var w=new Array(y.length),x,D;for(x=0;x<y.length;x++)w[x]=h(y[x]);if(w.sort(),w.length>0){for(x=1,D=1;x<w.length;x++)w[x-1]!==w[x]&&(w[D]=w[x],D++);w.length=D}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function m(y){return y?'"'+o(y)+'"':"end of input"}return"Expected "+p(a)+" but "+m(s)+" found."};function n(a,s){s=s!==void 0?s:{};var r={},l={turtleDoc:is},o=is,c=function(u){var v=$e.toJSON();return v["@graph"]=[],u.filter(E=>Array.isArray(E)).forEach(E=>{E.forEach(A=>{v["@graph"].push(A)})}),v["@graph"].length===1&&(Object.assign(v,v["@graph"][0]),delete v["@graph"]),v},h="\uFEFF",p=Ne("\uFEFF",!1),m=".",y=Ne(".",!1),w=function(u){return u},x="#",D=Ne("#",!1),M=/^[^\n]/,R=Ve([`
`],!0,!1),Z=`
`,Y=Ne(`
`,!1),T=function(u){return u.join("")},V="@prefix",$=Ne("@prefix",!1),q=function(u,v){return $e.addPrefix(u===""?"0":u,v),{}},F="@base",P=Ne("@base",!1),j=function(u){return $e.addBase(u),{}},H=/^[Bb]/,K=Ve(["B","b"],!1,!1),te=/^[Aa]/,I=Ve(["A","a"],!1,!1),G=/^[Ss]/,J=Ve(["S","s"],!1,!1),re=/^[Ee]/,ie=Ve(["E","e"],!1,!1),ue=/^[Pp]/,ne=Ve(["P","p"],!1,!1),ge=/^[Rr]/,Fe=Ve(["R","r"],!1,!1),pe=/^[Ff]/,Ee=Ve(["F","f"],!1,!1),Pe=/^[Ii]/,Ke=Ve(["I","i"],!1,!1),Te=/^[Xx]/,ze=Ve(["X","x"],!1,!1),ft=function(u,v){var E={};return typeof u=="string"&&u!=="[]"?E["@id"]=u:typeof u=="object"&&Object.assign(E,u),v&&Object.assign(E,v),[E]},at=function(u,v){var E={};return u&&Object.assign(E,u),v&&Object.assign(E,v),[E]},Ae=";",Le=Ne(";",!1),De=function(u,v,E,A){var _={};return _[E]=A,_},bt=function(u,v,E){return E},Ge=function(u,v,E){var A={};return E.unshift(ic(u,v)),E.forEach(_=>{_&&Object.keys(_).forEach(O=>{_[O].forEach(U=>{O==="@type"&&U["@id"]!==void 0&&(U=U["@id"]),A[O]===void 0?A[O]=U:Array.isArray(A[O])?A[O].push(U):A[O]=[A[O],U]})})}),A},se=",",ke=Ne(",",!1),lt=function(u,v){return v},Dt=function(u,v){return v.unshift(u),v},Oe="a",Re=Ne("a",!1),kt=function(){return"@type"},en=function(u){return _i(u,!0)},xt=function(u){return _i(u,!1)},wn=function(u){return u==="[]"?{}:{"@id":u}},b=function(u){return{"@id":u}},f="[",g=Ne("[",!1),k="]",z=Ne("]",!1),W="(",ee=Ne("(",!1),xe=")",Xe=Ne(")",!1),qe=function(u){return{"@list":u}},je=function(u,v){return{"@value":u,"@language":v}},Se="^^",Dr=Ne("^^",!1),Zn=function(u,v){if(v==="http://www.w3.org/2001/XMLSchema#boolean"&&u==="true")return!0;if(v==="http://www.w3.org/2001/XMLSchema#boolean"&&u==="false")return!1;if(v==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(u);if(v==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(u);const E=$e.resolve(v,!0);if(E){const A=v.split(":")[0];if(E==="http://www.w3.org/2001/XMLSchema#boolean"&&u==="true")return $e.decrement(A),!0;if(E==="http://www.w3.org/2001/XMLSchema#boolean"&&u==="false")return $e.decrement(A),!1;if(E==="http://www.w3.org/2001/XMLSchema#integer")return $e.decrement(A),parseInt(u);if(E==="http://www.w3.org/2001/XMLSchema#double")return $e.decrement(A),parseFloat(u)}return{"@value":u,"@type":v}},Jn="true",C=Ne("true",!1),N=function(){return!0},L="false",Q=Ne("false",!1),le=function(){return!1},we=function(u){return u+":"},We="<",gt=Ne("<",!1),Nt=/^[^\0- <>"{}|\^`\\]/,Rt=Ve([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Ot=">",tn=Ne(">",!1),nn=function(u){const v=u.map(A=>65536<=A.codePointAt(0)&&A.codePointAt(0)<=983039?"a":A.length===1?A:A.length===6?String.fromCharCode("0x"+A.substring(2)):A.length===10?String.fromCodePoint("0x"+A.substring(2)):A).join("");if(v.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var E=u.join("");try{return $e.resolve(E)}catch{Ei("Invalid IRIREF "+E)}}else Ei("Invalid IRIREF "+u.join("")+" / "+v)},pt=":",rt=Ne(":",!1),rn=function(u){return u=u||"0",$e.hasPrefix(u)===!1&&Ei("undefined prefix "+u),u},En=function(u){return u||""},ut=function(u,v){return $e.increment(u),$e.resolve(u+":"+v)},Kn="_:",fn=Ne("_:",!1),et=/^[0-9]/,st=Ve([["0","9"]],!1,!1),Nu="@",Tu=Ne("@",!1),Sa=/^[a-zA-Z]/,Ia=Ve([["a","z"],["A","Z"]],!1,!1),vi="-",yi=Ne("-",!1),_r=/^[a-zA-Z0-9]/,kr=Ve([["a","z"],["A","Z"],["0","9"]],!1,!1),Ba=function(u,v){return"-"+v.join("")},Au=function(u,v){return u.join("")+v.join("")},Sr=/^[+\-]/,Ir=Ve(["+","-"],!1,!1),Du=function(u){return u.match(/^[0+][0-9]+$/)?{"@value":u,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(u)},_u=function(u){return{"@value":u,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},ku=function(u){return{"@value":u,"@type":"http://www.w3.org/2001/XMLSchema#double"}},Su=/^[eE]/,Iu=Ve(["e","E"],!1,!1),Br='"',Fr=Ne('"',!1),Fa=/^[^"\\\n\r]/,La=Ve(['"',"\\",`
`,"\r"],!0,!1),Lr="'",Rr=Ne("'",!1),Ra=/^[^'\\\n\r]/,Oa=Ve(["'","\\",`
`,"\r"],!0,!1),Or="'''",$a=Ne("'''",!1),qt=/^[^'\\]/,Ht=Ve(["'","\\"],!0,!1),$r="''",Ma=Ne("''",!1),Ua=function(u,v){return"''"+v.join("")},Pa=function(u,v){return"'"+v.join("")},qa=function(u,v){return u.join("")+v.join("")},Mr='"""',Ha=Ne('"""',!1),zt=/^[^"\\]/,jt=Ve(['"',"\\"],!0,!1),Ur='""',za=Ne('""',!1),ja=function(u,v){return'""'+v.join("")},Va=function(u,v){return'"'+v.join("")},Ga="\\U",Bu=Ne("\\U",!1),Fu=function(u){return String.fromCodePoint(parseInt(u.join(""),16))},Xa="\\u",Lu=Ne("\\u",!1),Ru=function(u){return String.fromCharCode(parseInt(u.join(""),16))},Wa="\\t",Ou=Ne("\\t",!1),$u=function(){return"	"},Qa="\\b",Mu=Ne("\\b",!1),Uu=function(){return"\b"},Ya="\\n",Pu=Ne("\\n",!1),qu=function(){return`
`},Za="\\r",Hu=Ne("\\r",!1),zu=function(){return"\r"},Ja="\\f",ju=Ne("\\f",!1),Vu=function(){return"\f"},Ka='\\"',Gu=Ne('\\"',!1),Xu=function(){return'"'},es="\\'",Wu=Ne("\\'",!1),Qu=function(){return"'"},ts="\\\\",Yu=Ne("\\\\",!1),Zu=function(){return"\\"},Ju=/^[ \t\r\n]/,Ku=Ve([" ","	","\r",`
`],!1,!1),eo=function(){return"[]"},to=/^[\uD800-\uDBFF]/,no=Ve([["\uD800","\uDBFF"]],!1,!1),ro=/^[\uDC00-\uDFFF]/,io=Ve([["\uDC00","\uDFFF"]],!1,!1),ao=function(u,v){return u+v},so=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,lo=Ve([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),uo="_",oo=Ne("_",!1),co="·",ho=Ne("·",!1),fo=/^[\u0300-\u036F]/,po=Ve([["̀","ͯ"]],!1,!1),mo=/^[\u203F-\u2040]/,go=Ve([["‿","⁀"]],!1,!1),ns=function(u,v,E,A){return E.join("")+A.join("")},vo=function(u,v,E){return u+v.join("")+E.join("")},yo="%",wo=Ne("%",!1),Eo=/^[0-9A-Fa-f]/,Co=Ve([["0","9"],["A","F"],["a","f"]],!1,!1),bo="\\",xo=Ne("\\",!1),No=/^[_~.!$&'()*+,;=\/?#@%\-]/,To=Ve(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),d=0,oe=0,Pr=[{line:1,column:1}],Vt=0,wi=[],qr;if("startRule"in s){if(!(s.startRule in l))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');o=l[s.startRule]}function Ei(u,v){throw v=v!==void 0?v:Ci(oe,d),Do(u,v)}function Ne(u,v){return{type:"literal",text:u,ignoreCase:v}}function Ve(u,v,E){return{type:"class",parts:u,inverted:v,ignoreCase:E}}function Ao(){return{type:"end"}}function rs(u){var v=Pr[u],E;if(v)return v;for(E=u-1;!Pr[E];)E--;for(v=Pr[E],v={line:v.line,column:v.column};E<u;)a.charCodeAt(E)===10?(v.line++,v.column=1):v.column++,E++;return Pr[u]=v,v}function Ci(u,v){var E=rs(u),A=rs(v);return{start:{offset:u,line:E.line,column:E.column},end:{offset:v,line:A.line,column:A.column}}}function X(u){d<Vt||(d>Vt&&(Vt=d,wi=[]),wi.push(u))}function Do(u,v){return new t(u,null,null,v)}function _o(u,v,E){return new t(t.buildMessage(u,v),u,v,E)}function is(){var u,v,E,A,_;for(u=d,v=[],E=as();E!==r;)v.push(E),E=as();if(v!==r){for(E=[],A=ss();A!==r;)E.push(A),A=ss();if(E!==r){for(A=[],_=ce();_!==r;)A.push(_),_=ce();A!==r?(oe=u,v=c(E),u=v):(d=u,u=r)}else d=u,u=r}else d=u,u=r;return u}function as(){var u;return a.charCodeAt(d)===65279?(u=h,d++):(u=r,X(p)),u}function ss(){var u,v,E,A;if(u=So(),u===r)if(u=d,v=Ro(),v!==r){for(E=[],A=ce();A!==r;)E.push(A),A=ce();E!==r?(a.charCodeAt(d)===46?(A=m,d++):(A=r,X(y)),A!==r?(oe=u,v=w(v),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function ko(){var u,v,E,A;if(u=d,a.charCodeAt(d)===35?(v=x,d++):(v=r,X(D)),v!==r){for(E=[],M.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(R));A!==r;)E.push(A),M.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(R));E!==r?(a.charCodeAt(d)===10?(A=Z,d++):(A=r,X(Y)),A!==r?(oe=u,v=T(E),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function ce(){var u;return u=Ko(),u===r&&(u=ko()),u}function So(){var u;return u=Io(),u===r&&(u=Bo(),u===r&&(u=Lo(),u===r&&(u=Fo()))),u}function Io(){var u,v,E,A,_,O,U,S,he;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(a.substr(d,7)===V?(E=V,d+=7):(E=r,X($)),E!==r){for(A=[],_=ce();_!==r;)A.push(_),_=ce();if(A!==r)if(_=ds(),_!==r){for(O=[],U=ce();U!==r;)O.push(U),U=ce();if(O!==r)if(U=tr(),U!==r){for(S=[],he=ce();he!==r;)S.push(he),he=ce();S!==r?(a.charCodeAt(d)===46?(he=m,d++):(he=r,X(y)),he!==r?(oe=u,v=q(_,U),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r}else d=u,u=r;else d=u,u=r}else d=u,u=r;else d=u,u=r;return u}function Bo(){var u,v,E,A,_,O,U;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(a.substr(d,5)===F?(E=F,d+=5):(E=r,X(P)),E!==r){for(A=[],_=ce();_!==r;)A.push(_),_=ce();if(A!==r)if(_=tr(),_!==r){for(O=[],U=ce();U!==r;)O.push(U),U=ce();O!==r?(a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y)),U!==r?(oe=u,v=j(_),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r}else d=u,u=r;else d=u,u=r;return u}function Fo(){var u,v,E,A,_,O,U,S;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(H.test(a.charAt(d))?(E=a.charAt(d),d++):(E=r,X(K)),E!==r)if(te.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(I)),A!==r)if(G.test(a.charAt(d))?(_=a.charAt(d),d++):(_=r,X(J)),_!==r)if(re.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(ie)),O!==r){for(U=[],S=ce();S!==r;)U.push(S),S=ce();U!==r?(S=tr(),S!==r?(oe=u,v=j(S),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;return u}function Lo(){var u,v,E,A,_,O,U,S,he,He,bn,xn;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(ue.test(a.charAt(d))?(E=a.charAt(d),d++):(E=r,X(ne)),E!==r)if(ge.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Fe)),A!==r)if(re.test(a.charAt(d))?(_=a.charAt(d),d++):(_=r,X(ie)),_!==r)if(pe.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(Ee)),O!==r)if(Pe.test(a.charAt(d))?(U=a.charAt(d),d++):(U=r,X(Ke)),U!==r)if(Te.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(ze)),S!==r){for(he=[],He=ce();He!==r;)he.push(He),He=ce();if(he!==r)if(He=ds(),He!==r){for(bn=[],xn=ce();xn!==r;)bn.push(xn),xn=ce();bn!==r?(xn=tr(),xn!==r?(oe=u,v=q(He,xn),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r}else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;else d=u,u=r;return u}function Ro(){var u,v,E;return u=d,v=Oo(),v!==r?(E=bi(),E!==r?(oe=u,v=ft(v,E),u=v):(d=u,u=r)):(d=u,u=r),u===r&&(u=d,v=ls(),v!==r?(E=bi(),E===r&&(E=null),E!==r?(oe=u,v=at(v,E),u=v):(d=u,u=r)):(d=u,u=r)),u}function bi(){var u,v,E,A,_,O,U,S,he,He;if(u=d,v=Ni(),v!==r)if(E=xi(),E!==r){for(A=[],_=d,O=[],U=ce();U!==r;)O.push(U),U=ce();for(O!==r?(a.charCodeAt(d)===59?(U=Ae,d++):(U=r,X(Le)),U!==r?(S=d,he=Ni(),he!==r?(He=xi(),He!==r?(oe=S,he=De(v,E,he,He),S=he):(d=S,S=r)):(d=S,S=r),S===r&&(S=null),S!==r?(oe=_,O=bt(v,E,S),_=O):(d=_,_=r)):(d=_,_=r)):(d=_,_=r);_!==r;){for(A.push(_),_=d,O=[],U=ce();U!==r;)O.push(U),U=ce();O!==r?(a.charCodeAt(d)===59?(U=Ae,d++):(U=r,X(Le)),U!==r?(S=d,he=Ni(),he!==r?(He=xi(),He!==r?(oe=S,he=De(v,E,he,He),S=he):(d=S,S=r)):(d=S,S=r),S===r&&(S=null),S!==r?(oe=_,O=bt(v,E,S),_=O):(d=_,_=r)):(d=_,_=r)):(d=_,_=r)}A!==r?(oe=u,v=Ge(v,E,A),u=v):(d=u,u=r)}else d=u,u=r;else d=u,u=r;return u}function xi(){var u,v,E,A,_,O,U;if(u=d,v=er(),v!==r){for(E=[],A=d,_=[],O=ce();O!==r;)_.push(O),O=ce();for(_!==r?(a.charCodeAt(d)===44?(O=se,d++):(O=r,X(ke)),O!==r?(U=er(),U!==r?(oe=A,_=lt(v,U),A=_):(d=A,A=r)):(d=A,A=r)):(d=A,A=r);A!==r;){for(E.push(A),A=d,_=[],O=ce();O!==r;)_.push(O),O=ce();_!==r?(a.charCodeAt(d)===44?(O=se,d++):(O=r,X(ke)),O!==r?(U=er(),U!==r?(oe=A,_=lt(v,U),A=_):(d=A,A=r)):(d=A,A=r)):(d=A,A=r)}E!==r?(oe=u,v=Dt(v,E),u=v):(d=u,u=r)}else d=u,u=r;return u}function Ni(){var u,v,E;if(u=d,v=$o(),v!==r&&(oe=u,v=w(v)),u=v,u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();v!==r?(a.charCodeAt(d)===97?(E=Oe,d++):(E=r,X(Re)),E!==r?(oe=u,v=kt(),u=v):(d=u,u=r)):(d=u,u=r)}return u}function Oo(){var u,v;return u=d,v=us(),v!==r&&(oe=u,v=en(v)),u=v,u===r&&(u=os(),u===r&&(u=Hr())),u}function $o(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();return v!==r?(E=Hr(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u}function er(){var u,v;return u=Mo(),u===r&&(u=d,v=us(),v!==r&&(oe=u,v=xt(v)),u=v,u===r&&(u=d,v=os(),v!==r&&(oe=u,v=wn(v)),u=v,u===r&&(u=d,v=ls(),v!==r&&(oe=u,v=w(v)),u=v,u===r&&(u=d,v=Hr(),v!==r&&(oe=u,v=b(v)),u=v)))),u}function Mo(){var u;return u=Po(),u===r&&(u=Uo(),u===r&&(u=qo())),u}function ls(){var u,v,E,A,_,O;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(a.charCodeAt(d)===91?(E=f,d++):(E=r,X(g)),E!==r)if(A=bi(),A!==r){for(_=[],O=ce();O!==r;)_.push(O),O=ce();_!==r?(a.charCodeAt(d)===93?(O=k,d++):(O=r,X(z)),O!==r?(oe=u,v=w(A),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r;else d=u,u=r;return u}function us(){var u,v,E,A,_,O;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(a.charCodeAt(d)===40?(E=W,d++):(E=r,X(ee)),E!==r){for(A=[],_=er();_!==r;)A.push(_),_=er();if(A!==r){for(_=[],O=ce();O!==r;)_.push(O),O=ce();_!==r?(a.charCodeAt(d)===41?(O=xe,d++):(O=r,X(Xe)),O!==r?(oe=u,v=qe(A),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r}else d=u,u=r;else d=u,u=r;return u}function Uo(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();return v!==r?(E=Wo(),E===r&&(E=Xo(),E===r&&(E=Go())),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u}function Po(){var u,v,E,A,_,O,U;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(E=Ti(),E!==r){for(A=[],_=ce();_!==r;)A.push(_),_=ce();A!==r?(_=Vo(),_!==r?(oe=u,v=je(E,_),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r;if(u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r)if(E=Ti(),E!==r){for(A=[],_=ce();_!==r;)A.push(_),_=ce();if(A!==r)if(a.substr(d,2)===Se?(_=Se,d+=2):(_=r,X(Dr)),_!==r){for(O=[],U=ce();U!==r;)O.push(U),U=ce();O!==r?(U=Hr(),U!==r?(oe=u,v=Zn(E,U),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;else d=u,u=r}else d=u,u=r;else d=u,u=r;if(u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();v!==r?(E=Ti(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r)}}return u}function qo(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r?(a.substr(d,4)===Jn?(E=Jn,d+=4):(E=r,X(C)),E!==r?(oe=u,v=N(),u=v):(d=u,u=r)):(d=u,u=r),u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();v!==r?(a.substr(d,5)===L?(E=L,d+=5):(E=r,X(Q)),E!==r?(oe=u,v=le(),u=v):(d=u,u=r)):(d=u,u=r)}return u}function Ti(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();return v!==r?(E=Zo(),E===r&&(E=Jo(),E===r&&(E=Yo(),E===r&&(E=Qo()))),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u}function Hr(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r?(E=tr(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();v!==r?(E=Ho(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r)}return u}function Ho(){var u,v;return u=zo(),u===r&&(u=d,v=cs(),v!==r&&(oe=u,v=we(v)),u=v),u}function os(){var u,v,E;for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();if(v!==r?(E=jo(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u===r){for(u=d,v=[],E=ce();E!==r;)v.push(E),E=ce();v!==r?(E=ec(),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r)}return u}function tr(){var u,v,E,A;if(u=d,a.charCodeAt(d)===60?(v=We,d++):(v=r,X(gt)),v!==r){for(E=[],Nt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Rt)),A===r&&(A=Qe());A!==r;)E.push(A),Nt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Rt)),A===r&&(A=Qe());E!==r?(a.charCodeAt(d)===62?(A=Ot,d++):(A=r,X(tn)),A!==r?(oe=u,v=nn(E),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function cs(){var u,v,E;return u=d,v=fs(),v===r&&(v=null),v!==r?(a.charCodeAt(d)===58?(E=pt,d++):(E=r,X(rt)),E!==r?(oe=u,v=rn(v),u=v):(d=u,u=r)):(d=u,u=r),u}function ds(){var u,v,E;return u=d,v=fs(),v===r&&(v=null),v!==r?(a.charCodeAt(d)===58?(E=pt,d++):(E=r,X(rt)),E!==r?(oe=u,v=En(v),u=v):(d=u,u=r)):(d=u,u=r),u}function zo(){var u,v,E;return u=d,v=cs(),v!==r?(E=tc(),E!==r?(oe=u,v=ut(v,E),u=v):(d=u,u=r)):(d=u,u=r),u}function jo(){var u,v,E,A,_,O,U,S,he,He;if(u=d,v=d,a.substr(d,2)===Kn?(E=Kn,d+=2):(E=r,X(fn)),E!==r)if(A=Di(),A===r&&(et.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(st))),A!==r){for(_=[],O=ot();O!==r;)_.push(O),O=ot();if(_!==r){if(O=[],U=d,S=[],a.charCodeAt(d)===46?(he=m,d++):(he=r,X(y)),he!==r)for(;he!==r;)S.push(he),a.charCodeAt(d)===46?(he=m,d++):(he=r,X(y));else S=r;if(S!==r){if(he=[],He=ot(),He!==r)for(;He!==r;)he.push(He),He=ot();else he=r;he!==r?(S=[S,he],U=S):(d=U,U=r)}else d=U,U=r;for(;U!==r;){if(O.push(U),U=d,S=[],a.charCodeAt(d)===46?(he=m,d++):(he=r,X(y)),he!==r)for(;he!==r;)S.push(he),a.charCodeAt(d)===46?(he=m,d++):(he=r,X(y));else S=r;if(S!==r){if(he=[],He=ot(),He!==r)for(;He!==r;)he.push(He),He=ot();else he=r;he!==r?(S=[S,he],U=S):(d=U,U=r)}else d=U,U=r}O!==r?(E=[E,A,_,O],v=E):(d=v,v=r)}else d=v,v=r}else d=v,v=r;else d=v,v=r;return v!==r?u=a.substring(u,d):u=v,u}function Vo(){var u,v,E,A,_,O,U,S;if(u=d,a.charCodeAt(d)===64?(v=Nu,d++):(v=r,X(Tu)),v!==r){if(E=[],Sa.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ia)),A!==r)for(;A!==r;)E.push(A),Sa.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ia));else E=r;if(E!==r){if(A=[],_=d,a.charCodeAt(d)===45?(O=vi,d++):(O=r,X(yi)),O!==r){if(U=[],_r.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(kr)),S!==r)for(;S!==r;)U.push(S),_r.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(kr));else U=r;U!==r?(oe=_,O=Ba(E,U),_=O):(d=_,_=r)}else d=_,_=r;for(;_!==r;)if(A.push(_),_=d,a.charCodeAt(d)===45?(O=vi,d++):(O=r,X(yi)),O!==r){if(U=[],_r.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(kr)),S!==r)for(;S!==r;)U.push(S),_r.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(kr));else U=r;U!==r?(oe=_,O=Ba(E,U),_=O):(d=_,_=r)}else d=_,_=r;A!==r?(oe=u,v=Au(E,A),u=v):(d=u,u=r)}else d=u,u=r}else d=u,u=r;return u}function Go(){var u,v,E,A,_,O;if(u=d,v=d,E=d,Sr.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ir)),A===r&&(A=null),A!==r){if(_=[],et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st)),O!==r)for(;O!==r;)_.push(O),et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st));else _=r;_!==r?(A=[A,_],E=A):(d=E,E=r)}else d=E,E=r;return E!==r?v=a.substring(v,d):v=E,v!==r&&(oe=u,v=Du(v)),u=v,u}function Xo(){var u,v,E,A,_,O,U,S;if(u=d,v=d,E=d,Sr.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ir)),A===r&&(A=null),A!==r){for(_=[],et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st));O!==r;)_.push(O),et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st));if(_!==r)if(a.charCodeAt(d)===46?(O=m,d++):(O=r,X(y)),O!==r){if(U=[],et.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(st)),S!==r)for(;S!==r;)U.push(S),et.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(st));else U=r;U!==r?(A=[A,_,O,U],E=A):(d=E,E=r)}else d=E,E=r;else d=E,E=r}else d=E,E=r;return E!==r?v=a.substring(v,d):v=E,v!==r&&(oe=u,v=_u(v)),u=v,u}function Wo(){var u,v,E,A,_,O,U,S,he;if(u=d,v=d,E=d,Sr.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ir)),A===r&&(A=null),A!==r){if(_=d,O=[],et.test(a.charAt(d))?(U=a.charAt(d),d++):(U=r,X(st)),U!==r)for(;U!==r;)O.push(U),et.test(a.charAt(d))?(U=a.charAt(d),d++):(U=r,X(st));else O=r;if(O!==r)if(a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y)),U!==r){for(S=[],et.test(a.charAt(d))?(he=a.charAt(d),d++):(he=r,X(st));he!==r;)S.push(he),et.test(a.charAt(d))?(he=a.charAt(d),d++):(he=r,X(st));S!==r?(he=Ai(),he!==r?(O=[O,U,S,he],_=O):(d=_,_=r)):(d=_,_=r)}else d=_,_=r;else d=_,_=r;if(_===r){if(_=d,a.charCodeAt(d)===46?(O=m,d++):(O=r,X(y)),O!==r){if(U=[],et.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(st)),S!==r)for(;S!==r;)U.push(S),et.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(st));else U=r;U!==r?(S=Ai(),S!==r?(O=[O,U,S],_=O):(d=_,_=r)):(d=_,_=r)}else d=_,_=r;if(_===r){if(_=d,O=[],et.test(a.charAt(d))?(U=a.charAt(d),d++):(U=r,X(st)),U!==r)for(;U!==r;)O.push(U),et.test(a.charAt(d))?(U=a.charAt(d),d++):(U=r,X(st));else O=r;O!==r?(U=Ai(),U!==r?(O=[O,U],_=O):(d=_,_=r)):(d=_,_=r)}}_!==r?(A=[A,_],E=A):(d=E,E=r)}else d=E,E=r;return E!==r?v=a.substring(v,d):v=E,v!==r&&(oe=u,v=ku(v)),u=v,u}function Ai(){var u,v,E,A,_,O;if(u=d,v=d,Su.test(a.charAt(d))?(E=a.charAt(d),d++):(E=r,X(Iu)),E!==r)if(Sr.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ir)),A===r&&(A=null),A!==r){if(_=[],et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st)),O!==r)for(;O!==r;)_.push(O),et.test(a.charAt(d))?(O=a.charAt(d),d++):(O=r,X(st));else _=r;_!==r?(E=[E,A,_],v=E):(d=v,v=r)}else d=v,v=r;else d=v,v=r;return v!==r?u=a.substring(u,d):u=v,u}function Qo(){var u,v,E,A;if(u=d,a.charCodeAt(d)===34?(v=Br,d++):(v=r,X(Fr)),v!==r){for(E=[],Fa.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(La)),A===r&&(A=Je(),A===r&&(A=Qe()));A!==r;)E.push(A),Fa.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(La)),A===r&&(A=Je(),A===r&&(A=Qe()));E!==r?(a.charCodeAt(d)===34?(A=Br,d++):(A=r,X(Fr)),A!==r?(oe=u,v=T(E),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function Yo(){var u,v,E,A;if(u=d,a.charCodeAt(d)===39?(v=Lr,d++):(v=r,X(Rr)),v!==r){for(E=[],Ra.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Oa)),A===r&&(A=Je(),A===r&&(A=Qe()));A!==r;)E.push(A),Ra.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Oa)),A===r&&(A=Je(),A===r&&(A=Qe()));E!==r?(a.charCodeAt(d)===39?(A=Lr,d++):(A=r,X(Rr)),A!==r?(oe=u,v=T(E),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function Zo(){var u,v,E,A,_,O,U,S;if(u=d,a.substr(d,3)===Or?(v=Or,d+=3):(v=r,X($a)),v!==r){for(E=[],qt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ht)),A===r&&(A=Je(),A===r&&(A=Qe()));A!==r;)E.push(A),qt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(Ht)),A===r&&(A=Je(),A===r&&(A=Qe()));if(E!==r){if(A=[],_=d,a.substr(d,2)===$r?(O=$r,d+=2):(O=r,X(Ma)),O!==r){if(U=[],qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Ua(E,U),_=O):(d=_,_=r)}else d=_,_=r;if(_===r)if(_=d,a.charCodeAt(d)===39?(O=Lr,d++):(O=r,X(Rr)),O!==r){if(U=[],qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Pa(E,U),_=O):(d=_,_=r)}else d=_,_=r;for(;_!==r;){if(A.push(_),_=d,a.substr(d,2)===$r?(O=$r,d+=2):(O=r,X(Ma)),O!==r){if(U=[],qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Ua(E,U),_=O):(d=_,_=r)}else d=_,_=r;if(_===r)if(_=d,a.charCodeAt(d)===39?(O=Lr,d++):(O=r,X(Rr)),O!==r){if(U=[],qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),qt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(Ht)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Pa(E,U),_=O):(d=_,_=r)}else d=_,_=r}A!==r?(a.substr(d,3)===Or?(_=Or,d+=3):(_=r,X($a)),_!==r?(oe=u,v=qa(E,A),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r}else d=u,u=r;return u}function Jo(){var u,v,E,A,_,O,U,S;if(u=d,a.substr(d,3)===Mr?(v=Mr,d+=3):(v=r,X(Ha)),v!==r){for(E=[],zt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(jt)),A===r&&(A=Je(),A===r&&(A=Qe()));A!==r;)E.push(A),zt.test(a.charAt(d))?(A=a.charAt(d),d++):(A=r,X(jt)),A===r&&(A=Je(),A===r&&(A=Qe()));if(E!==r){if(A=[],_=d,a.substr(d,2)===Ur?(O=Ur,d+=2):(O=r,X(za)),O!==r){if(U=[],zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=ja(E,U),_=O):(d=_,_=r)}else d=_,_=r;if(_===r)if(_=d,a.charCodeAt(d)===34?(O=Br,d++):(O=r,X(Fr)),O!==r){if(U=[],zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Va(E,U),_=O):(d=_,_=r)}else d=_,_=r;for(;_!==r;){if(A.push(_),_=d,a.substr(d,2)===Ur?(O=Ur,d+=2):(O=r,X(za)),O!==r){if(U=[],zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=ja(E,U),_=O):(d=_,_=r)}else d=_,_=r;if(_===r)if(_=d,a.charCodeAt(d)===34?(O=Br,d++):(O=r,X(Fr)),O!==r){if(U=[],zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe())),S!==r)for(;S!==r;)U.push(S),zt.test(a.charAt(d))?(S=a.charAt(d),d++):(S=r,X(jt)),S===r&&(S=Je(),S===r&&(S=Qe()));else U=r;U!==r?(oe=_,O=Va(E,U),_=O):(d=_,_=r)}else d=_,_=r}A!==r?(a.substr(d,3)===Mr?(_=Mr,d+=3):(_=r,X(Ha)),_!==r?(oe=u,v=qa(E,A),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r}else d=u,u=r;return u}function Qe(){var u,v,E,A,_,O,U,S,he,He,bn;return u=d,a.substr(d,2)===Ga?(v=Ga,d+=2):(v=r,X(Bu)),v!==r?(E=d,A=Tt(),A!==r?(_=Tt(),_!==r?(O=Tt(),O!==r?(U=Tt(),U!==r?(S=Tt(),S!==r?(he=Tt(),he!==r?(He=Tt(),He!==r?(bn=Tt(),bn!==r?(A=[A,_,O,U,S,he,He,bn],E=A):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r),E!==r?(oe=u,v=Fu(E),u=v):(d=u,u=r)):(d=u,u=r),u===r&&(u=d,a.substr(d,2)===Xa?(v=Xa,d+=2):(v=r,X(Lu)),v!==r?(E=d,A=Tt(),A!==r?(_=Tt(),_!==r?(O=Tt(),O!==r?(U=Tt(),U!==r?(A=[A,_,O,U],E=A):(d=E,E=r)):(d=E,E=r)):(d=E,E=r)):(d=E,E=r),E!==r?(oe=u,v=Ru(E),u=v):(d=u,u=r)):(d=u,u=r)),u}function Je(){var u,v;return u=d,a.substr(d,2)===Wa?(v=Wa,d+=2):(v=r,X(Ou)),v!==r&&(oe=u,v=$u()),u=v,u===r&&(u=d,a.substr(d,2)===Qa?(v=Qa,d+=2):(v=r,X(Mu)),v!==r&&(oe=u,v=Uu()),u=v,u===r&&(u=d,a.substr(d,2)===Ya?(v=Ya,d+=2):(v=r,X(Pu)),v!==r&&(oe=u,v=qu()),u=v,u===r&&(u=d,a.substr(d,2)===Za?(v=Za,d+=2):(v=r,X(Hu)),v!==r&&(oe=u,v=zu()),u=v,u===r&&(u=d,a.substr(d,2)===Ja?(v=Ja,d+=2):(v=r,X(ju)),v!==r&&(oe=u,v=Vu()),u=v,u===r&&(u=d,a.substr(d,2)===Ka?(v=Ka,d+=2):(v=r,X(Gu)),v!==r&&(oe=u,v=Xu()),u=v,u===r&&(u=d,a.substr(d,2)===es?(v=es,d+=2):(v=r,X(Wu)),v!==r&&(oe=u,v=Qu()),u=v,u===r&&(u=d,a.substr(d,2)===ts?(v=ts,d+=2):(v=r,X(Yu)),v!==r&&(oe=u,v=Zu()),u=v))))))),u}function Ko(){var u;return Ju.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(Ku)),u}function ec(){var u,v,E,A;if(u=d,a.charCodeAt(d)===91?(v=f,d++):(v=r,X(g)),v!==r){for(E=[],A=ce();A!==r;)E.push(A),A=ce();E!==r?(a.charCodeAt(d)===93?(A=k,d++):(A=r,X(z)),A!==r?(oe=u,v=eo(),u=v):(d=u,u=r)):(d=u,u=r)}else d=u,u=r;return u}function hs(){var u,v,E;return u=d,to.test(a.charAt(d))?(v=a.charAt(d),d++):(v=r,X(no)),v!==r?(ro.test(a.charAt(d))?(E=a.charAt(d),d++):(E=r,X(io)),E!==r?(oe=u,v=ao(v,E),u=v):(d=u,u=r)):(d=u,u=r),u===r&&(so.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(lo))),u}function Di(){var u;return u=hs(),u===r&&(a.charCodeAt(d)===95?(u=uo,d++):(u=r,X(oo))),u}function ot(){var u;return u=Di(),u===r&&(a.charCodeAt(d)===45?(u=vi,d++):(u=r,X(yi)),u===r&&(et.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(st)),u===r&&(a.charCodeAt(d)===183?(u=co,d++):(u=r,X(ho)),u===r&&(fo.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(po)),u===r&&(mo.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(go))))))),u}function fs(){var u,v,E,A,_,O,U,S,he;if(u=d,v=d,E=hs(),E!==r){for(A=[],_=ot();_!==r;)A.push(_),_=ot();if(A!==r){if(_=[],O=d,U=[],a.charCodeAt(d)===46?(S=m,d++):(S=r,X(y)),S!==r)for(;S!==r;)U.push(S),a.charCodeAt(d)===46?(S=m,d++):(S=r,X(y));else U=r;if(U!==r){if(S=[],he=ot(),he!==r)for(;he!==r;)S.push(he),he=ot();else S=r;S!==r?(U=[U,S],O=U):(d=O,O=r)}else d=O,O=r;for(;O!==r;){if(_.push(O),O=d,U=[],a.charCodeAt(d)===46?(S=m,d++):(S=r,X(y)),S!==r)for(;S!==r;)U.push(S),a.charCodeAt(d)===46?(S=m,d++):(S=r,X(y));else U=r;if(U!==r){if(S=[],he=ot(),he!==r)for(;he!==r;)S.push(he),he=ot();else S=r;S!==r?(U=[U,S],O=U):(d=O,O=r)}else d=O,O=r}_!==r?(E=[E,A,_],v=E):(d=v,v=r)}else d=v,v=r}else d=v,v=r;return v!==r?u=a.substring(u,d):u=v,u}function tc(){var u,v,E,A,_,O,U,S;if(u=d,v=Di(),v===r&&(a.charCodeAt(d)===58?(v=pt,d++):(v=r,X(rt)),v===r&&(et.test(a.charAt(d))?(v=a.charAt(d),d++):(v=r,X(st)),v===r&&(v=Cn()))),v!==r){for(E=[],A=ot(),A===r&&(a.charCodeAt(d)===58?(A=pt,d++):(A=r,X(rt)),A===r&&(A=Cn()));A!==r;)E.push(A),A=ot(),A===r&&(a.charCodeAt(d)===58?(A=pt,d++):(A=r,X(rt)),A===r&&(A=Cn()));if(E!==r){if(A=[],_=d,O=[],a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y)),U!==r)for(;U!==r;)O.push(U),a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y));else O=r;if(O!==r){if(U=[],S=ot(),S===r&&(a.charCodeAt(d)===58?(S=pt,d++):(S=r,X(rt)),S===r&&(S=Cn())),S!==r)for(;S!==r;)U.push(S),S=ot(),S===r&&(a.charCodeAt(d)===58?(S=pt,d++):(S=r,X(rt)),S===r&&(S=Cn()));else U=r;U!==r?(oe=_,O=ns(v,E,O,U),_=O):(d=_,_=r)}else d=_,_=r;for(;_!==r;){if(A.push(_),_=d,O=[],a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y)),U!==r)for(;U!==r;)O.push(U),a.charCodeAt(d)===46?(U=m,d++):(U=r,X(y));else O=r;if(O!==r){if(U=[],S=ot(),S===r&&(a.charCodeAt(d)===58?(S=pt,d++):(S=r,X(rt)),S===r&&(S=Cn())),S!==r)for(;S!==r;)U.push(S),S=ot(),S===r&&(a.charCodeAt(d)===58?(S=pt,d++):(S=r,X(rt)),S===r&&(S=Cn()));else U=r;U!==r?(oe=_,O=ns(v,E,O,U),_=O):(d=_,_=r)}else d=_,_=r}A!==r?(oe=u,v=vo(v,E,A),u=v):(d=u,u=r)}else d=u,u=r}else d=u,u=r;return u}function Cn(){var u;return u=nc(),u===r&&(u=rc()),u}function nc(){var u,v,E,A,_;return u=d,v=d,a.charCodeAt(d)===37?(E=yo,d++):(E=r,X(wo)),E!==r?(A=Tt(),A!==r?(_=Tt(),_!==r?(E=[E,A,_],v=E):(d=v,v=r)):(d=v,v=r)):(d=v,v=r),v!==r?u=a.substring(u,d):u=v,u}function Tt(){var u;return Eo.test(a.charAt(d))?(u=a.charAt(d),d++):(u=r,X(Co)),u}function rc(){var u,v,E;return u=d,a.charCodeAt(d)===92?(v=bo,d++):(v=r,X(xo)),v!==r?(No.test(a.charAt(d))?(E=a.charAt(d),d++):(E=r,X(To)),E!==r?(oe=u,v=w(E),u=v):(d=u,u=r)):(d=u,u=r),u}var ps=function(u){return u.match(/^[a-z](.*?):(.+?)/g)};function ic(u,v){var E={};return E[u]=v,E}var $e={base:[],data:{},addBase:function(u){if($e.base.length===0){$e.base.push(u);return}const v=$e.base[$e.base.length-1];v!==u&&$e.base.push(new URL(u,v).toString())},addPrefix:function(u,v){const E=$e.data[u];E===void 0?$e.data[u]=[{uri:v,count:0}]:E[E.length-1].uri!==v&&E.push({uri:v,count:0})},hasPrefix:function(u){return this.data[u]!==void 0},resolve:function(u,v){const E=Object.keys($e.data).find(_=>u.indexOf(_+":")===0);if(E!==void 0){const _=$e.data[E];if(_.length===1&&v!==!0&&ps(_[0].uri))return u;const O=_[_.length-1].uri;return u.replace(E+":",O)}else{var A=$e.base.length===0?s.baseIRI:$e.base[$e.base.length-1];return!A||u.match(/^(http:|https:|urn:|file:)/)?u:u.indexOf("//")===0&&A?A.split("//")[0]+u:new URL(u,A).toString()}},increment:function(u){const v=$e.data[u];v!==void 0&&v[v.length-1].count++},decrement:function(u){const v=$e.data[u];v!==void 0&&v[v.length-1].count--},toJSON:function(){const u={};return $e.base.length>0&&(u["@context"]===void 0&&(u["@context"]={}),u["@context"]["@base"]=$e.base[0]),Object.keys($e.data).forEach(v=>{const E=$e.data[v][0];E.uri==="http://www.w3.org/2001/XMLSchema#"&&E.count<1||ps(E.uri)&&(u["@context"]===void 0&&(u["@context"]={}),u["@context"][v]=E.uri)}),u}};function _i(u,v){if(u["@list"]===void 0||!v&&!u["@list"].find(_=>_["@list"]!==void 0))return u;if(u["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var E={},A=null;return u["@list"].forEach(_=>{A===null?A=E:(A["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},A=A["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),A["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=_i(_,!0),A["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),E}if(qr=o(),qr!==r&&d===a.length)return qr;throw qr!==r&&d<a.length&&X(Ao()),_o(wi,Vt<a.length?a.charAt(Vt):null,Vt<a.length?Ci(Vt,Vt+1):Ci(Vt,Vt))}return{SyntaxError:t,parse:n}})})(ni)),ni.exports}var _c=Dc(),Si,bs;function kc(){if(bs)return Si;bs=1;const i={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};function e(t={namedNode:n=>n}){const n={};for(const a in i){const s=i[a];n[a]=function(r=""){return t.namedNode(s+r)}}return n}return Si=e,Si}var Sc=kc();const xs=Cl(Sc);var nr={},sn={},Nn={},Ns;function hi(){if(Ns)return Nn;Ns=1;function i(s,r,l){if(l===void 0&&(l=Array.prototype),s&&typeof l.find=="function")return l.find.call(s,r);for(var o=0;o<s.length;o++)if(Object.prototype.hasOwnProperty.call(s,o)){var c=s[o];if(r.call(void 0,c,o,s))return c}}function e(s,r){return r===void 0&&(r=Object),r&&typeof r.freeze=="function"?r.freeze(s):s}function t(s,r){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),a=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===a.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Nn.assign=t,Nn.find=i,Nn.freeze=e,Nn.MIME_TYPE=n,Nn.NAMESPACE=a,Nn}var Ts;function bl(){if(Ts)return sn;Ts=1;var i=hi(),e=i.find,t=i.NAMESPACE;function n(C){return C!==""}function a(C){return C?C.split(/[\t\n\f\r ]+/).filter(n):[]}function s(C,N){return C.hasOwnProperty(N)||(C[N]=!0),C}function r(C){if(!C)return[];var N=a(C);return Object.keys(N.reduce(s,{}))}function l(C){return function(N){return C&&C.indexOf(N)!==-1}}function o(C,N){for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&(N[L]=C[L])}function c(C,N){var L=C.prototype;if(!(L instanceof N)){let Q=function(){};Q.prototype=N.prototype,Q=new Q,o(L,Q),C.prototype=L=Q}L.constructor!=C&&(typeof C!="function"&&console.error("unknown Class:"+C),L.constructor=C)}var h={},p=h.ELEMENT_NODE=1,m=h.ATTRIBUTE_NODE=2,y=h.TEXT_NODE=3,w=h.CDATA_SECTION_NODE=4,x=h.ENTITY_REFERENCE_NODE=5,D=h.ENTITY_NODE=6,M=h.PROCESSING_INSTRUCTION_NODE=7,R=h.COMMENT_NODE=8,Z=h.DOCUMENT_NODE=9,Y=h.DOCUMENT_TYPE_NODE=10,T=h.DOCUMENT_FRAGMENT_NODE=11,V=h.NOTATION_NODE=12,$={},q={};$.INDEX_SIZE_ERR=(q[1]="Index size error",1),$.DOMSTRING_SIZE_ERR=(q[2]="DOMString size error",2);var F=$.HIERARCHY_REQUEST_ERR=(q[3]="Hierarchy request error",3);$.WRONG_DOCUMENT_ERR=(q[4]="Wrong document",4),$.INVALID_CHARACTER_ERR=(q[5]="Invalid character",5),$.NO_DATA_ALLOWED_ERR=(q[6]="No data allowed",6),$.NO_MODIFICATION_ALLOWED_ERR=(q[7]="No modification allowed",7);var P=$.NOT_FOUND_ERR=(q[8]="Not found",8);$.NOT_SUPPORTED_ERR=(q[9]="Not supported",9);var j=$.INUSE_ATTRIBUTE_ERR=(q[10]="Attribute in use",10);$.INVALID_STATE_ERR=(q[11]="Invalid state",11),$.SYNTAX_ERR=(q[12]="Syntax error",12),$.INVALID_MODIFICATION_ERR=(q[13]="Invalid modification",13),$.NAMESPACE_ERR=(q[14]="Invalid namespace",14),$.INVALID_ACCESS_ERR=(q[15]="Invalid access",15);function H(C,N){if(N instanceof Error)var L=N;else L=this,Error.call(this,q[C]),this.message=q[C],Error.captureStackTrace&&Error.captureStackTrace(this,H);return L.code=C,N&&(this.message=this.message+": "+N),L}H.prototype=Error.prototype,o($,H);function K(){}K.prototype={length:0,item:function(C){return C>=0&&C<this.length?this[C]:null},toString:function(C,N){for(var L=[],Q=0;Q<this.length;Q++)Se(this[Q],L,C,N);return L.join("")},filter:function(C){return Array.prototype.filter.call(this,C)},indexOf:function(C){return Array.prototype.indexOf.call(this,C)}};function te(C,N){this._node=C,this._refresh=N,I(this)}function I(C){var N=C._node._inc||C._node.ownerDocument._inc;if(C._inc!==N){var L=C._refresh(C._node);if(Jn(C,"length",L.length),!C.$$length||L.length<C.$$length)for(var Q=L.length;Q in C;Q++)Object.prototype.hasOwnProperty.call(C,Q)&&delete C[Q];o(L,C),C._inc=N}}te.prototype.item=function(C){return I(this),this[C]||null},c(te,K);function G(){}function J(C,N){for(var L=C.length;L--;)if(C[L]===N)return L}function re(C,N,L,Q){if(Q?N[J(N,Q)]=L:N[N.length++]=L,C){L.ownerElement=C;var le=C.ownerDocument;le&&(Q&&Pe(le,C,Q),Ee(le,C,L))}}function ie(C,N,L){var Q=J(N,L);if(Q>=0){for(var le=N.length-1;Q<le;)N[Q]=N[++Q];if(N.length=le,C){var we=C.ownerDocument;we&&(Pe(we,C,L),L.ownerElement=null)}}else throw new H(P,new Error(C.tagName+"@"+L))}G.prototype={length:0,item:K.prototype.item,getNamedItem:function(C){for(var N=this.length;N--;){var L=this[N];if(L.nodeName==C)return L}},setNamedItem:function(C){var N=C.ownerElement;if(N&&N!=this._ownerElement)throw new H(j);var L=this.getNamedItem(C.nodeName);return re(this._ownerElement,this,C,L),L},setNamedItemNS:function(C){var N=C.ownerElement,L;if(N&&N!=this._ownerElement)throw new H(j);return L=this.getNamedItemNS(C.namespaceURI,C.localName),re(this._ownerElement,this,C,L),L},removeNamedItem:function(C){var N=this.getNamedItem(C);return ie(this._ownerElement,this,N),N},removeNamedItemNS:function(C,N){var L=this.getNamedItemNS(C,N);return ie(this._ownerElement,this,L),L},getNamedItemNS:function(C,N){for(var L=this.length;L--;){var Q=this[L];if(Q.localName==N&&Q.namespaceURI==C)return Q}return null}};function ue(){}ue.prototype={hasFeature:function(C,N){return!0},createDocument:function(C,N,L){var Q=new pe;if(Q.implementation=this,Q.childNodes=new K,Q.doctype=L||null,L&&Q.appendChild(L),N){var le=Q.createElementNS(C,N);Q.appendChild(le)}return Q},createDocumentType:function(C,N,L){var Q=new f;return Q.name=C,Q.nodeName=C,Q.publicId=N||"",Q.systemId=L||"",Q}};function ne(){}ne.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(C,N){return lt(this,C,N)},replaceChild:function(C,N){lt(this,C,N,ke),N&&this.removeChild(N)},removeChild:function(C){return Te(this,C)},appendChild:function(C){return this.insertBefore(C,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(C){return Zn(this.ownerDocument||this,this,C)},normalize:function(){for(var C=this.firstChild;C;){var N=C.nextSibling;N&&N.nodeType==y&&C.nodeType==y?(this.removeChild(N),C.appendData(N.data)):(C.normalize(),C=N)}},isSupported:function(C,N){return this.ownerDocument.implementation.hasFeature(C,N)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(C){for(var N=this;N;){var L=N._nsMap;if(L){for(var Q in L)if(Object.prototype.hasOwnProperty.call(L,Q)&&L[Q]===C)return Q}N=N.nodeType==m?N.ownerDocument:N.parentNode}return null},lookupNamespaceURI:function(C){for(var N=this;N;){var L=N._nsMap;if(L&&Object.prototype.hasOwnProperty.call(L,C))return L[C];N=N.nodeType==m?N.ownerDocument:N.parentNode}return null},isDefaultNamespace:function(C){var N=this.lookupPrefix(C);return N==null}};function ge(C){return C=="<"&&"&lt;"||C==">"&&"&gt;"||C=="&"&&"&amp;"||C=='"'&&"&quot;"||"&#"+C.charCodeAt()+";"}o(h,ne),o(h,ne.prototype);function Fe(C,N){if(N(C))return!0;if(C=C.firstChild)do if(Fe(C,N))return!0;while(C=C.nextSibling)}function pe(){this.ownerDocument=this}function Ee(C,N,L){C&&C._inc++;var Q=L.namespaceURI;Q===t.XMLNS&&(N._nsMap[L.prefix?L.localName:""]=L.value)}function Pe(C,N,L,Q){C&&C._inc++;var le=L.namespaceURI;le===t.XMLNS&&delete N._nsMap[L.prefix?L.localName:""]}function Ke(C,N,L){if(C&&C._inc){C._inc++;var Q=N.childNodes;if(L)Q[Q.length++]=L;else{for(var le=N.firstChild,we=0;le;)Q[we++]=le,le=le.nextSibling;Q.length=we,delete Q[Q.length]}}}function Te(C,N){var L=N.previousSibling,Q=N.nextSibling;return L?L.nextSibling=Q:C.firstChild=Q,Q?Q.previousSibling=L:C.lastChild=L,N.parentNode=null,N.previousSibling=null,N.nextSibling=null,Ke(C.ownerDocument,C),N}function ze(C){return C&&(C.nodeType===ne.DOCUMENT_NODE||C.nodeType===ne.DOCUMENT_FRAGMENT_NODE||C.nodeType===ne.ELEMENT_NODE)}function ft(C){return C&&(Ae(C)||Le(C)||at(C)||C.nodeType===ne.DOCUMENT_FRAGMENT_NODE||C.nodeType===ne.COMMENT_NODE||C.nodeType===ne.PROCESSING_INSTRUCTION_NODE)}function at(C){return C&&C.nodeType===ne.DOCUMENT_TYPE_NODE}function Ae(C){return C&&C.nodeType===ne.ELEMENT_NODE}function Le(C){return C&&C.nodeType===ne.TEXT_NODE}function De(C,N){var L=C.childNodes||[];if(e(L,Ae)||at(N))return!1;var Q=e(L,at);return!(N&&Q&&L.indexOf(Q)>L.indexOf(N))}function bt(C,N){var L=C.childNodes||[];function Q(we){return Ae(we)&&we!==N}if(e(L,Q))return!1;var le=e(L,at);return!(N&&le&&L.indexOf(le)>L.indexOf(N))}function Ge(C,N,L){if(!ze(C))throw new H(F,"Unexpected parent node type "+C.nodeType);if(L&&L.parentNode!==C)throw new H(P,"child not in parent");if(!ft(N)||at(N)&&C.nodeType!==ne.DOCUMENT_NODE)throw new H(F,"Unexpected node type "+N.nodeType+" for parent node type "+C.nodeType)}function se(C,N,L){var Q=C.childNodes||[],le=N.childNodes||[];if(N.nodeType===ne.DOCUMENT_FRAGMENT_NODE){var we=le.filter(Ae);if(we.length>1||e(le,Le))throw new H(F,"More than one element or text in fragment");if(we.length===1&&!De(C,L))throw new H(F,"Element in fragment can not be inserted before doctype")}if(Ae(N)&&!De(C,L))throw new H(F,"Only one element can be added and only after doctype");if(at(N)){if(e(Q,at))throw new H(F,"Only one doctype is allowed");var We=e(Q,Ae);if(L&&Q.indexOf(We)<Q.indexOf(L))throw new H(F,"Doctype can only be inserted before an element");if(!L&&We)throw new H(F,"Doctype can not be appended since element is present")}}function ke(C,N,L){var Q=C.childNodes||[],le=N.childNodes||[];if(N.nodeType===ne.DOCUMENT_FRAGMENT_NODE){var we=le.filter(Ae);if(we.length>1||e(le,Le))throw new H(F,"More than one element or text in fragment");if(we.length===1&&!bt(C,L))throw new H(F,"Element in fragment can not be inserted before doctype")}if(Ae(N)&&!bt(C,L))throw new H(F,"Only one element can be added and only after doctype");if(at(N)){if(e(Q,function(Nt){return at(Nt)&&Nt!==L}))throw new H(F,"Only one doctype is allowed");var We=e(Q,Ae);if(L&&Q.indexOf(We)<Q.indexOf(L))throw new H(F,"Doctype can only be inserted before an element")}}function lt(C,N,L,Q){Ge(C,N,L),C.nodeType===ne.DOCUMENT_NODE&&(Q||se)(C,N,L);var le=N.parentNode;if(le&&le.removeChild(N),N.nodeType===T){var we=N.firstChild;if(we==null)return N;var We=N.lastChild}else we=We=N;var gt=L?L.previousSibling:C.lastChild;we.previousSibling=gt,We.nextSibling=L,gt?gt.nextSibling=we:C.firstChild=we,L==null?C.lastChild=We:L.previousSibling=We;do{we.parentNode=C;var Nt=C.ownerDocument||C;Dt(we,Nt)}while(we!==We&&(we=we.nextSibling));return Ke(C.ownerDocument||C,C),N.nodeType==T&&(N.firstChild=N.lastChild=null),N}function Dt(C,N){if(C.ownerDocument!==N){if(C.ownerDocument=N,C.nodeType===p&&C.attributes)for(var L=0;L<C.attributes.length;L++){var Q=C.attributes.item(L);Q&&(Q.ownerDocument=N)}for(var le=C.firstChild;le;)Dt(le,N),le=le.nextSibling}}function Oe(C,N){N.parentNode&&N.parentNode.removeChild(N),N.parentNode=C,N.previousSibling=C.lastChild,N.nextSibling=null,N.previousSibling?N.previousSibling.nextSibling=N:C.firstChild=N,C.lastChild=N,Ke(C.ownerDocument,C,N);var L=C.ownerDocument||C;return Dt(N,L),N}pe.prototype={nodeName:"#document",nodeType:Z,doctype:null,documentElement:null,_inc:1,insertBefore:function(C,N){if(C.nodeType==T){for(var L=C.firstChild;L;){var Q=L.nextSibling;this.insertBefore(L,N),L=Q}return C}return lt(this,C,N),Dt(C,this),this.documentElement===null&&C.nodeType===p&&(this.documentElement=C),C},removeChild:function(C){return this.documentElement==C&&(this.documentElement=null),Te(this,C)},replaceChild:function(C,N){lt(this,C,N,ke),Dt(C,this),N&&this.removeChild(N),Ae(C)&&(this.documentElement=C)},importNode:function(C,N){return Dr(this,C,N)},getElementById:function(C){var N=null;return Fe(this.documentElement,function(L){if(L.nodeType==p&&L.getAttribute("id")==C)return N=L,!0}),N},getElementsByClassName:function(C){var N=r(C);return new te(this,function(L){var Q=[];return N.length>0&&Fe(L.documentElement,function(le){if(le!==L&&le.nodeType===p){var we=le.getAttribute("class");if(we){var We=C===we;if(!We){var gt=r(we);We=N.every(l(gt))}We&&Q.push(le)}}}),Q})},createElement:function(C){var N=new Re;N.ownerDocument=this,N.nodeName=C,N.tagName=C,N.localName=C,N.childNodes=new K;var L=N.attributes=new G;return L._ownerElement=N,N},createDocumentFragment:function(){var C=new W;return C.ownerDocument=this,C.childNodes=new K,C},createTextNode:function(C){var N=new xt;return N.ownerDocument=this,N.appendData(C),N},createComment:function(C){var N=new wn;return N.ownerDocument=this,N.appendData(C),N},createCDATASection:function(C){var N=new b;return N.ownerDocument=this,N.appendData(C),N},createProcessingInstruction:function(C,N){var L=new ee;return L.ownerDocument=this,L.tagName=L.nodeName=L.target=C,L.nodeValue=L.data=N,L},createAttribute:function(C){var N=new kt;return N.ownerDocument=this,N.name=C,N.nodeName=C,N.localName=C,N.specified=!0,N},createEntityReference:function(C){var N=new z;return N.ownerDocument=this,N.nodeName=C,N},createElementNS:function(C,N){var L=new Re,Q=N.split(":"),le=L.attributes=new G;return L.childNodes=new K,L.ownerDocument=this,L.nodeName=N,L.tagName=N,L.namespaceURI=C,Q.length==2?(L.prefix=Q[0],L.localName=Q[1]):L.localName=N,le._ownerElement=L,L},createAttributeNS:function(C,N){var L=new kt,Q=N.split(":");return L.ownerDocument=this,L.nodeName=N,L.name=N,L.namespaceURI=C,L.specified=!0,Q.length==2?(L.prefix=Q[0],L.localName=Q[1]):L.localName=N,L}},c(pe,ne);function Re(){this._nsMap={}}Re.prototype={nodeType:p,hasAttribute:function(C){return this.getAttributeNode(C)!=null},getAttribute:function(C){var N=this.getAttributeNode(C);return N&&N.value||""},getAttributeNode:function(C){return this.attributes.getNamedItem(C)},setAttribute:function(C,N){var L=this.ownerDocument.createAttribute(C);L.value=L.nodeValue=""+N,this.setAttributeNode(L)},removeAttribute:function(C){var N=this.getAttributeNode(C);N&&this.removeAttributeNode(N)},appendChild:function(C){return C.nodeType===T?this.insertBefore(C,null):Oe(this,C)},setAttributeNode:function(C){return this.attributes.setNamedItem(C)},setAttributeNodeNS:function(C){return this.attributes.setNamedItemNS(C)},removeAttributeNode:function(C){return this.attributes.removeNamedItem(C.nodeName)},removeAttributeNS:function(C,N){var L=this.getAttributeNodeNS(C,N);L&&this.removeAttributeNode(L)},hasAttributeNS:function(C,N){return this.getAttributeNodeNS(C,N)!=null},getAttributeNS:function(C,N){var L=this.getAttributeNodeNS(C,N);return L&&L.value||""},setAttributeNS:function(C,N,L){var Q=this.ownerDocument.createAttributeNS(C,N);Q.value=Q.nodeValue=""+L,this.setAttributeNode(Q)},getAttributeNodeNS:function(C,N){return this.attributes.getNamedItemNS(C,N)},getElementsByTagName:function(C){return new te(this,function(N){var L=[];return Fe(N,function(Q){Q!==N&&Q.nodeType==p&&(C==="*"||Q.tagName==C)&&L.push(Q)}),L})},getElementsByTagNameNS:function(C,N){return new te(this,function(L){var Q=[];return Fe(L,function(le){le!==L&&le.nodeType===p&&(C==="*"||le.namespaceURI===C)&&(N==="*"||le.localName==N)&&Q.push(le)}),Q})}},pe.prototype.getElementsByTagName=Re.prototype.getElementsByTagName,pe.prototype.getElementsByTagNameNS=Re.prototype.getElementsByTagNameNS,c(Re,ne);function kt(){}kt.prototype.nodeType=m,c(kt,ne);function en(){}en.prototype={data:"",substringData:function(C,N){return this.data.substring(C,C+N)},appendData:function(C){C=this.data+C,this.nodeValue=this.data=C,this.length=C.length},insertData:function(C,N){this.replaceData(C,0,N)},appendChild:function(C){throw new Error(q[F])},deleteData:function(C,N){this.replaceData(C,N,"")},replaceData:function(C,N,L){var Q=this.data.substring(0,C),le=this.data.substring(C+N);L=Q+L+le,this.nodeValue=this.data=L,this.length=L.length}},c(en,ne);function xt(){}xt.prototype={nodeName:"#text",nodeType:y,splitText:function(C){var N=this.data,L=N.substring(C);N=N.substring(0,C),this.data=this.nodeValue=N,this.length=N.length;var Q=this.ownerDocument.createTextNode(L);return this.parentNode&&this.parentNode.insertBefore(Q,this.nextSibling),Q}},c(xt,en);function wn(){}wn.prototype={nodeName:"#comment",nodeType:R},c(wn,en);function b(){}b.prototype={nodeName:"#cdata-section",nodeType:w},c(b,en);function f(){}f.prototype.nodeType=Y,c(f,ne);function g(){}g.prototype.nodeType=V,c(g,ne);function k(){}k.prototype.nodeType=D,c(k,ne);function z(){}z.prototype.nodeType=x,c(z,ne);function W(){}W.prototype.nodeName="#document-fragment",W.prototype.nodeType=T,c(W,ne);function ee(){}ee.prototype.nodeType=M,c(ee,ne);function xe(){}xe.prototype.serializeToString=function(C,N,L){return Xe.call(C,N,L)},ne.prototype.toString=Xe;function Xe(C,N){var L=[],Q=this.nodeType==9&&this.documentElement||this,le=Q.prefix,we=Q.namespaceURI;if(we&&le==null){var le=Q.lookupPrefix(we);if(le==null)var We=[{namespace:we,prefix:null}]}return Se(this,L,C,N,We),L.join("")}function qe(C,N,L){var Q=C.prefix||"",le=C.namespaceURI;if(!le||Q==="xml"&&le===t.XML||le===t.XMLNS)return!1;for(var we=L.length;we--;){var We=L[we];if(We.prefix===Q)return We.namespace!==le}return!0}function je(C,N,L){C.push(" ",N,'="',L.replace(/[<>&"\t\n\r]/g,ge),'"')}function Se(C,N,L,Q,le){if(le||(le=[]),Q)if(C=Q(C),C){if(typeof C=="string"){N.push(C);return}}else return;switch(C.nodeType){case p:var we=C.attributes,We=we.length,ut=C.firstChild,gt=C.tagName;L=t.isHTML(C.namespaceURI)||L;var Nt=gt;if(!L&&!C.prefix&&C.namespaceURI){for(var Rt,Ot=0;Ot<we.length;Ot++)if(we.item(Ot).name==="xmlns"){Rt=we.item(Ot).value;break}if(!Rt)for(var tn=le.length-1;tn>=0;tn--){var nn=le[tn];if(nn.prefix===""&&nn.namespace===C.namespaceURI){Rt=nn.namespace;break}}if(Rt!==C.namespaceURI)for(var tn=le.length-1;tn>=0;tn--){var nn=le[tn];if(nn.namespace===C.namespaceURI){nn.prefix&&(Nt=nn.prefix+":"+gt);break}}}N.push("<",Nt);for(var pt=0;pt<We;pt++){var rt=we.item(pt);rt.prefix=="xmlns"?le.push({prefix:rt.localName,namespace:rt.value}):rt.nodeName=="xmlns"&&le.push({prefix:"",namespace:rt.value})}for(var pt=0;pt<We;pt++){var rt=we.item(pt);if(qe(rt,L,le)){var rn=rt.prefix||"",En=rt.namespaceURI;je(N,rn?"xmlns:"+rn:"xmlns",En),le.push({prefix:rn,namespace:En})}Se(rt,N,L,Q,le)}if(gt===Nt&&qe(C,L,le)){var rn=C.prefix||"",En=C.namespaceURI;je(N,rn?"xmlns:"+rn:"xmlns",En),le.push({prefix:rn,namespace:En})}if(ut||L&&!/^(?:meta|link|img|br|hr|input)$/i.test(gt)){if(N.push(">"),L&&/^script$/i.test(gt))for(;ut;)ut.data?N.push(ut.data):Se(ut,N,L,Q,le.slice()),ut=ut.nextSibling;else for(;ut;)Se(ut,N,L,Q,le.slice()),ut=ut.nextSibling;N.push("</",Nt,">")}else N.push("/>");return;case Z:case T:for(var ut=C.firstChild;ut;)Se(ut,N,L,Q,le.slice()),ut=ut.nextSibling;return;case m:return je(N,C.name,C.value);case y:return N.push(C.data.replace(/[<&>]/g,ge));case w:return N.push("<![CDATA[",C.data,"]]>");case R:return N.push("<!--",C.data,"-->");case Y:var Kn=C.publicId,fn=C.systemId;if(N.push("<!DOCTYPE ",C.name),Kn)N.push(" PUBLIC ",Kn),fn&&fn!="."&&N.push(" ",fn),N.push(">");else if(fn&&fn!=".")N.push(" SYSTEM ",fn,">");else{var et=C.internalSubset;et&&N.push(" [",et,"]"),N.push(">")}return;case M:return N.push("<?",C.target," ",C.data,"?>");case x:return N.push("&",C.nodeName,";");default:N.push("??",C.nodeName)}}function Dr(C,N,L){var Q;switch(N.nodeType){case p:Q=N.cloneNode(!1),Q.ownerDocument=C;case T:break;case m:L=!0;break}if(Q||(Q=N.cloneNode(!1)),Q.ownerDocument=C,Q.parentNode=null,L)for(var le=N.firstChild;le;)Q.appendChild(Dr(C,le,L)),le=le.nextSibling;return Q}function Zn(C,N,L){var Q=new N.constructor;for(var le in N)if(Object.prototype.hasOwnProperty.call(N,le)){var we=N[le];typeof we!="object"&&we!=Q[le]&&(Q[le]=we)}switch(N.childNodes&&(Q.childNodes=new K),Q.ownerDocument=C,Q.nodeType){case p:var We=N.attributes,gt=Q.attributes=new G,Nt=We.length;gt._ownerElement=Q;for(var Rt=0;Rt<Nt;Rt++)Q.setAttributeNode(Zn(C,We.item(Rt),!0));break;case m:L=!0}if(L)for(var Ot=N.firstChild;Ot;)Q.appendChild(Zn(C,Ot,L)),Ot=Ot.nextSibling;return Q}function Jn(C,N,L){C[N]=L}try{if(Object.defineProperty){let C=function(N){switch(N.nodeType){case p:case T:var L=[];for(N=N.firstChild;N;)N.nodeType!==7&&N.nodeType!==8&&L.push(C(N)),N=N.nextSibling;return L.join("");default:return N.nodeValue}};Object.defineProperty(te.prototype,"length",{get:function(){return I(this),this.$$length}}),Object.defineProperty(ne.prototype,"textContent",{get:function(){return C(this)},set:function(N){switch(this.nodeType){case p:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(N||String(N))&&this.appendChild(this.ownerDocument.createTextNode(N));break;default:this.data=N,this.value=N,this.nodeValue=N}}}),Jn=function(N,L,Q){N["$$"+L]=Q}}}catch{}return sn.DocumentType=f,sn.DOMException=H,sn.DOMImplementation=ue,sn.Element=Re,sn.Node=ne,sn.NodeList=K,sn.XMLSerializer=xe,sn}var rr={},Ii={},As;function Ic(){return As||(As=1,(function(i){var e=hi().freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),i.entityMap=i.HTML_ENTITIES})(Ii)),Ii}var jr={},Ds;function Bc(){if(Ds)return jr;Ds=1;var i=hi().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),a=0,s=1,r=2,l=3,o=4,c=5,h=6,p=7;function m(F,P){this.message=F,this.locator=P,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function y(){}y.prototype={parse:function(F,P,j){var H=this.domBuilder;H.startDocument(),Y(P,P={}),w(F,P,j,H,this.errorHandler),H.endDocument()}};function w(F,P,j,H,K){function te(Oe){if(Oe>65535){Oe-=65536;var Re=55296+(Oe>>10),kt=56320+(Oe&1023);return String.fromCharCode(Re,kt)}else return String.fromCharCode(Oe)}function I(Oe){var Re=Oe.slice(1,-1);return Object.hasOwnProperty.call(j,Re)?j[Re]:Re.charAt(0)==="#"?te(parseInt(Re.substr(1).replace("x","0x"))):(K.error("entity not found:"+Oe),Oe)}function G(Oe){if(Oe>pe){var Re=F.substring(pe,Oe).replace(/&#?\w+;/g,I);ne&&J(pe),H.characters(Re,0,Oe-pe),pe=Oe}}function J(Oe,Re){for(;Oe>=ie&&(Re=ue.exec(F));)re=Re.index,ie=re+Re[0].length,ne.lineNumber++;ne.columnNumber=Oe-re+1}for(var re=0,ie=0,ue=/.*(?:\r\n?|\n)|.*$/g,ne=H.locator,ge=[{currentNSMap:P}],Fe={},pe=0;;){try{var Ee=F.indexOf("<",pe);if(Ee<0){if(!F.substr(pe).match(/^\s*$/)){var Pe=H.doc,Ke=Pe.createTextNode(F.substr(pe));Pe.appendChild(Ke),H.currentElement=Ke}return}switch(Ee>pe&&G(Ee),F.charAt(Ee+1)){case"/":var Ge=F.indexOf(">",Ee+3),Te=F.substring(Ee+2,Ge).replace(/[ \t\n\r]+$/g,""),ze=ge.pop();Ge<0?(Te=F.substring(Ee+2).replace(/[\s<].*/,""),K.error("end tag name: "+Te+" is not complete:"+ze.tagName),Ge=Ee+1+Te.length):Te.match(/\s</)&&(Te=Te.replace(/[\s<].*/,""),K.error("end tag name: "+Te+" maybe not complete"),Ge=Ee+1+Te.length);var ft=ze.localNSMap,at=ze.tagName==Te,Ae=at||ze.tagName&&ze.tagName.toLowerCase()==Te.toLowerCase();if(Ae){if(H.endElement(ze.uri,ze.localName,Te),ft)for(var Le in ft)Object.prototype.hasOwnProperty.call(ft,Le)&&H.endPrefixMapping(Le);at||K.fatalError("end tag name: "+Te+" is not match the current start tagName:"+ze.tagName)}else ge.push(ze);Ge++;break;case"?":ne&&J(Ee),Ge=V(F,Ee,H);break;case"!":ne&&J(Ee),Ge=T(F,Ee,H,K);break;default:ne&&J(Ee);var De=new $,bt=ge[ge.length-1].currentNSMap,Ge=D(F,Ee,De,bt,I,K),se=De.length;if(!De.closed&&Z(F,Ge,De.tagName,Fe)&&(De.closed=!0,j.nbsp||K.warning("unclosed xml attribute")),ne&&se){for(var ke=x(ne,{}),lt=0;lt<se;lt++){var Dt=De[lt];J(Dt.offset),Dt.locator=x(ne,{})}H.locator=ke,M(De,H,bt)&&ge.push(De),H.locator=ne}else M(De,H,bt)&&ge.push(De);i.isHTML(De.uri)&&!De.closed?Ge=R(F,Ge,De.tagName,I,H):Ge++}}catch(Oe){if(Oe instanceof m)throw Oe;K.error("element parse error: "+Oe),Ge=-1}Ge>pe?pe=Ge:G(Math.max(Ee,pe)+1)}}function x(F,P){return P.lineNumber=F.lineNumber,P.columnNumber=F.columnNumber,P}function D(F,P,j,H,K,te){function I(ne,ge,Fe){j.attributeNames.hasOwnProperty(ne)&&te.fatalError("Attribute "+ne+" redefined"),j.addValue(ne,ge.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,K),Fe)}for(var G,J,re=++P,ie=a;;){var ue=F.charAt(re);switch(ue){case"=":if(ie===s)G=F.slice(P,re),ie=l;else if(ie===r)ie=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ie===l||ie===s)if(ie===s&&(te.warning('attribute value must after "="'),G=F.slice(P,re)),P=re+1,re=F.indexOf(ue,P),re>0)J=F.slice(P,re),I(G,J,P-1),ie=c;else throw new Error("attribute value no end '"+ue+"' match");else if(ie==o)J=F.slice(P,re),I(G,J,P),te.warning('attribute "'+G+'" missed start quot('+ue+")!!"),P=re+1,ie=c;else throw new Error('attribute value must after "="');break;case"/":switch(ie){case a:j.setTagName(F.slice(P,re));case c:case h:case p:ie=p,j.closed=!0;case o:case s:break;case r:j.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return te.error("unexpected end of input"),ie==a&&j.setTagName(F.slice(P,re)),re;case">":switch(ie){case a:j.setTagName(F.slice(P,re));case c:case h:case p:break;case o:case s:J=F.slice(P,re),J.slice(-1)==="/"&&(j.closed=!0,J=J.slice(0,-1));case r:ie===r&&(J=G),ie==o?(te.warning('attribute "'+J+'" missed quot(")!'),I(G,J,P)):((!i.isHTML(H[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&te.warning('attribute "'+J+'" missed value!! "'+J+'" instead!!'),I(J,J,P));break;case l:throw new Error("attribute value missed!!")}return re;case"":ue=" ";default:if(ue<=" ")switch(ie){case a:j.setTagName(F.slice(P,re)),ie=h;break;case s:G=F.slice(P,re),ie=r;break;case o:var J=F.slice(P,re);te.warning('attribute "'+J+'" missed quot(")!!'),I(G,J,P);case c:ie=h;break}else switch(ie){case r:j.tagName,(!i.isHTML(H[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&te.warning('attribute "'+G+'" missed value!! "'+G+'" instead2!!'),I(G,G,P),P=re,ie=s;break;case c:te.warning('attribute space is required"'+G+'"!!');case h:ie=s,P=re;break;case l:ie=o,P=re;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}re++}}function M(F,P,j){for(var H=F.tagName,K=null,ue=F.length;ue--;){var te=F[ue],I=te.qName,G=te.value,ne=I.indexOf(":");if(ne>0)var J=te.prefix=I.slice(0,ne),re=I.slice(ne+1),ie=J==="xmlns"&&re;else re=I,J=null,ie=I==="xmlns"&&"";te.localName=re,ie!==!1&&(K==null&&(K={},Y(j,j={})),j[ie]=K[ie]=G,te.uri=i.XMLNS,P.startPrefixMapping(ie,G))}for(var ue=F.length;ue--;){te=F[ue];var J=te.prefix;J&&(J==="xml"&&(te.uri=i.XML),J!=="xmlns"&&(te.uri=j[J||""]))}var ne=H.indexOf(":");ne>0?(J=F.prefix=H.slice(0,ne),re=F.localName=H.slice(ne+1)):(J=null,re=F.localName=H);var ge=F.uri=j[J||""];if(P.startElement(ge,re,H,F),F.closed){if(P.endElement(ge,re,H),K)for(J in K)Object.prototype.hasOwnProperty.call(K,J)&&P.endPrefixMapping(J)}else return F.currentNSMap=j,F.localNSMap=K,!0}function R(F,P,j,H,K){if(/^(?:script|textarea)$/i.test(j)){var te=F.indexOf("</"+j+">",P),I=F.substring(P+1,te);if(/[&<]/.test(I))return/^script$/i.test(j)?(K.characters(I,0,I.length),te):(I=I.replace(/&#?\w+;/g,H),K.characters(I,0,I.length),te)}return P+1}function Z(F,P,j,H){var K=H[j];return K==null&&(K=F.lastIndexOf("</"+j+">"),K<P&&(K=F.lastIndexOf("</"+j)),H[j]=K),K<P}function Y(F,P){for(var j in F)Object.prototype.hasOwnProperty.call(F,j)&&(P[j]=F[j])}function T(F,P,j,H){var K=F.charAt(P+2);switch(K){case"-":if(F.charAt(P+3)==="-"){var te=F.indexOf("-->",P+4);return te>P?(j.comment(F,P+4,te-P-4),te+3):(H.error("Unclosed comment"),-1)}else return-1;default:if(F.substr(P+3,6)=="CDATA["){var te=F.indexOf("]]>",P+9);return j.startCDATA(),j.characters(F,P+9,te-P-9),j.endCDATA(),te+3}var I=q(F,P),G=I.length;if(G>1&&/!doctype/i.test(I[0][0])){var J=I[1][0],re=!1,ie=!1;G>3&&(/^public$/i.test(I[2][0])?(re=I[3][0],ie=G>4&&I[4][0]):/^system$/i.test(I[2][0])&&(ie=I[3][0]));var ue=I[G-1];return j.startDTD(J,re,ie),j.endDTD(),ue.index+ue[0].length}}return-1}function V(F,P,j){var H=F.indexOf("?>",P);if(H){var K=F.substring(P,H).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return K?(K[0].length,j.processingInstruction(K[1],K[2]),H+2):-1}return-1}function $(){this.attributeNames={}}$.prototype={setTagName:function(F){if(!n.test(F))throw new Error("invalid tagName:"+F);this.tagName=F},addValue:function(F,P,j){if(!n.test(F))throw new Error("invalid attribute:"+F);this.attributeNames[F]=this.length,this[this.length++]={qName:F,value:P,offset:j}},length:0,getLocalName:function(F){return this[F].localName},getLocator:function(F){return this[F].locator},getQName:function(F){return this[F].qName},getURI:function(F){return this[F].uri},getValue:function(F){return this[F].value}};function q(F,P){var j,H=[],K=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(K.lastIndex=P,K.exec(F);j=K.exec(F);)if(H.push(j),j[1])return H}return jr.XMLReader=y,jr.ParseError=m,jr}var _s;function Fc(){if(_s)return rr;_s=1;var i=hi(),e=bl(),t=Ic(),n=Bc(),a=e.DOMImplementation,s=i.NAMESPACE,r=n.ParseError,l=n.XMLReader;function o(D){return D.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(D){this.options=D||{locator:{}}}c.prototype.parseFromString=function(D,M){var R=this.options,Z=new l,Y=R.domBuilder||new p,T=R.errorHandler,V=R.locator,$=R.xmlns||{},q=/\/x?html?$/.test(M),F=q?t.HTML_ENTITIES:t.XML_ENTITIES;V&&Y.setDocumentLocator(V),Z.errorHandler=h(T,Y,V),Z.domBuilder=R.domBuilder||Y,q&&($[""]=s.HTML),$.xml=$.xml||s.XML;var P=R.normalizeLineEndings||o;return D&&typeof D=="string"?Z.parse(P(D),$,F):Z.errorHandler.error("invalid doc source"),Y.doc};function h(D,M,R){if(!D){if(M instanceof p)return M;D=M}var Z={},Y=D instanceof Function;R=R||{};function T(V){var $=D[V];!$&&Y&&($=D.length==2?function(q){D(V,q)}:D),Z[V]=$&&function(q){$("[xmldom "+V+"]	"+q+y(R))}||function(){}}return T("warning"),T("error"),T("fatalError"),Z}function p(){this.cdata=!1}function m(D,M){M.lineNumber=D.lineNumber,M.columnNumber=D.columnNumber}p.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(D,M,R,Z){var Y=this.doc,T=Y.createElementNS(D,R||M),V=Z.length;x(this,T),this.currentElement=T,this.locator&&m(this.locator,T);for(var $=0;$<V;$++){var D=Z.getURI($),q=Z.getValue($),R=Z.getQName($),F=Y.createAttributeNS(D,R);this.locator&&m(Z.getLocator($),F),F.value=F.nodeValue=q,T.setAttributeNode(F)}},endElement:function(D,M,R){var Z=this.currentElement;Z.tagName,this.currentElement=Z.parentNode},startPrefixMapping:function(D,M){},endPrefixMapping:function(D){},processingInstruction:function(D,M){var R=this.doc.createProcessingInstruction(D,M);this.locator&&m(this.locator,R),x(this,R)},ignorableWhitespace:function(D,M,R){},characters:function(D,M,R){if(D=w.apply(this,arguments),D){if(this.cdata)var Z=this.doc.createCDATASection(D);else var Z=this.doc.createTextNode(D);this.currentElement?this.currentElement.appendChild(Z):/^\s*$/.test(D)&&this.doc.appendChild(Z),this.locator&&m(this.locator,Z)}},skippedEntity:function(D){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(D){(this.locator=D)&&(D.lineNumber=0)},comment:function(D,M,R){D=w.apply(this,arguments);var Z=this.doc.createComment(D);this.locator&&m(this.locator,Z),x(this,Z)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(D,M,R){var Z=this.doc.implementation;if(Z&&Z.createDocumentType){var Y=Z.createDocumentType(D,M,R);this.locator&&m(this.locator,Y),x(this,Y),this.doc.doctype=Y}},warning:function(D){console.warn("[xmldom warning]	"+D,y(this.locator))},error:function(D){console.error("[xmldom error]	"+D,y(this.locator))},fatalError:function(D){throw new r(D,this.locator)}};function y(D){if(D)return`
@`+(D.systemId||"")+"#[line:"+D.lineNumber+",col:"+D.columnNumber+"]"}function w(D,M,R){return typeof D=="string"?D.substr(M,R):D.length>=M+R||M?new java.lang.String(D,M,R)+"":D}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(D){p.prototype[D]=function(){return null}});function x(D,M){D.currentElement?D.currentElement.appendChild(M):D.doc.appendChild(M)}return rr.__DOMHandler=p,rr.normalizeLineEndings=o,rr.DOMParser=c,rr}var ks;function Lc(){if(ks)return nr;ks=1;var i=bl();return nr.DOMImplementation=i.DOMImplementation,nr.XMLSerializer=i.XMLSerializer,nr.DOMParser=Fc().DOMParser,nr}var Ss=Lc();function Rc(i){return i=i.split(";")[0].trim(),new mt("http://www.w3.org/ns/iana/media-types/"+i+"#Resource")}function Oc(i,e){i.callbacks={};for(var t=e.length-1;t>=0;t--)i.callbacks[e[t]]=[];i.addHook=function(n){i.callbacks[n]||(i.callbacks[n]=[])},i.addCallback=function(n,a){i.callbacks[n].push(a)},i.removeCallback=function(n,a){for(var s=0;s<i.callbacks[n].length;s++)if(i.callbacks[n][s].name===a)return i.callbacks[n].splice(s,1),!0;return!1},i.insertCallback=function(n,a){i.callbacks[n].unshift(a)},i.fireCallbacks=function(a,s){var r=[],l=[],o=i.callbacks[a].length,c;let h;for(c=o-1;c>=0;c--)h=i.callbacks[a][c],h&&h.apply(i,s)&&r.push(h);for(c=r.length-1;c>=0;c--)l.push(r[c]);for(c=o;c<i.callbacks[a].length;c++)l.push(i.callbacks[a][c]);i.callbacks[a]=l}}function $c(i,e){e=e||{};var t=[];e&&e.selfClosing&&e.selfClosing.split(" ").forEach(function(a){t[a]=!0});var n=[];return e&&e.skipAttributes&&e.skipAttributes.split(" ").forEach(function(a){n[a]=!0}),xl(i,e,t,n)}function xl(i,e,t,n){var a,s="",r=[!1];if(typeof i.nodeType>"u")return s;if(i.nodeType===1){if(i.hasAttribute("class")&&e&&e.classWithChildText&&i.matches(e.classWithChildText.class))s+=i.querySelector(e.classWithChildText.element).textContent;else if(!(e&&e.skipNodeWithClass&&i.matches("."+e.skipNodeWithClass))){var l=i.nodeName.toLowerCase();s+="<"+l;var o=[];for(a=i.attributes.length-1;a>=0;a--){var c=i.attributes[a];if(!(n&&n.length>0&&n[c.name])&&!/^\d+$/.test(c.name)){if(c.name==="class"&&e&&e.replaceClassItemWith&&c.value.split(" ").indexOf(e.replaceClassItemWith.source)>-1){var h=new RegExp(e.replaceClassItemWith.source,"g");c.value=c.value.replace(h,e.replaceClassItemWith.target).trim()}c.name==="class"&&e&&e.skipClassWithValue&&e.skipClassWithValue===c.value||o.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(o.length>0&&(e&&e.sortAttributes&&o.sort(function(m,y){return m.toLowerCase().localeCompare(y.toLowerCase())}),s+=" "+o.join(" ")),t&&t.ename)s+=" />";else{for(s+=">",s+=l==="html"?`
  `:"",r.push(l==="style"||l==="script"),a=0;a<i.childNodes.length;a++)s+=xl(i.childNodes[a]);r.pop(),s+=l==="body"?"</"+l+`>
`:"</"+l+">"}}}else if(i.nodeType===8)s+="<!--"+i.nodeValue+"-->";else if(i.nodeType===3||i.nodeType===4){var p=i.nodeValue.replace(/\n+$/,"");s+=r[r.length-1]?p:p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+i.nodeType),console.log(i);return s}function Bi(i,e,t,n){var a=function(l){return l.termType==="BlankNode"?null:l},s=function(l){var o=t.statementsMatching(l).map(function(c){return""+a(c.subject)+" "+a(c.predicate)+" "+a(c.object)}).concat(t.statementsMatching(void 0,void 0,l).map(function(c){return""+a(c.subject)+" "+a(c.predicate)+" "+a(c.object)}));return o.sort(),o.join(`
`)};const r=Object.prototype.hasOwnProperty.call(t,"compareTerms")?t.compareTerms(i,e):i.compareTerm(e);return i.termType==="BlankNode"&&e.termType==="BlankNode"?r===0?0:s(i)>s(e)?1:s(i)<s(e)?-1:r:n&&i.uri&&e.uri?(n[i.uri]||i.uri).localeCompare(n[e.uri]||e.uri):r}function Mc(i,e,t,n){return Bi(i.subject,e.subject,t,n)||Bi(i.predicate,e.predicate,t,n)||Bi(i.object,e.object,t,n)}function Xn(i,e){var t;if(e=e||{},typeof module<"u"&&module&&module.exports){var n=new Ss.DOMParser().parseFromString(i,e.contentType||"application/xhtml+xml");return n}else typeof window<"u"&&window.DOMParser?t=new window.DOMParser:t=new Ss.DOMParser;return t.parseFromString(i,"application/xml")}function Uc(i,e){for(var t=0;t<i.length;t++)if(i[t].subject.equals(e.subject)&&i[t].predicate.equals(e.predicate)&&i[t].object.equals(e.object)&&i[t].why.equals(e.why)){i.splice(t,1);return}throw new Error("RDFArrayRemove: Array did not contain "+e+" "+e.why)}function Nl(i=Mt){return{boolean:i.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:i.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:i.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:i.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:i.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:i.namedNode("http://www.w3.org/2001/XMLSchema#string")}}Nl(Mt);function Pc(i){return new ha(i)}class ha{constructor(e){ae(this,"_notQNameChars",`	\r
 !"#$%&'()*,+/;<=>?@[\\]^\`{|}~`),ae(this,"_notNameChars",this._notQNameChars+":"),ae(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),ae(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),ae(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];const t=Object.keys(xs());for(const n in t){const a=xs()[t[n]](""),s=t[n];this.prefixes[a]=s,this.namespaces[s]=a}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||Mt,this.xsd=Nl(this.rdfFactory)}setBase(e){return this.base=e,this}setFlags(e){return this.flags=e||"",this}toStr(e){var t=e.toNT();return e.termType==="Graph"&&(this.formulas[t]=e),t}fromStr(e){if(e[0]==="{"){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)}setNamespaces(e){for(var t in e)this.setPrefix(t,e[t]);return this}setPrefix(e,t){if(e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&!(!e||!t)){for(let n in this.prefixes)this.prefixes[n]==e&&delete this.prefixes[n];this.prefixes[t]=e,this.namespaces[e]=t}}suggestPrefix(e,t){e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&(!e||!t||e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}suggestNamespaces(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}checkIntegrity(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}makeUpPrefix(e){var t=e;function n(o){return!this.validPrefix.test(o)||o==="ns"||o in this.namespaces?!1:(this.prefixes[e]=o,this.namespaces[o]=e,o)}var a=n.bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var s=t.lastIndexOf("/");s>=0&&(t=t.slice(s+1));for(var r=0;r<t.length&&this.prefixchars.indexOf(t[r])>=0;)r++;if(t=t.slice(0,r),t.length<6&&a(t))return t;if(a(t.slice(0,3)))return t.slice(0,3);if(a(t.slice(0,2)))return t.slice(0,2);if(a(t.slice(0,4)))return t.slice(0,4);if(a(t.slice(0,1)))return t.slice(0,1);if(a(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var l=0;;l++)if(a(t.slice(0,3)+l))return t.slice(0,3)+l}rootSubjects(e){for(var t={},n={},a={},s=0;s<e.length;s++){var r=e[s],l=function(x){t.hasOwnProperty(x)||(t[x]=[]),t[x].push(r.subject)},o=[r.subject,r.predicate,r.object];o.map(function(x){x.termType==="BlankNode"?a[x.toNT()]=!0:x.termType==="Collection"&&x.elements.forEach(function(D){l(D)})}),l(e[s].object);var c=n[this.toStr(r.subject)];c||(c=[]),c.push(r),n[this.toStr(r.subject)]=c}var h=[];for(var p in n)if(n.hasOwnProperty(p)){var m=this.fromStr(p);if(m.termType!=="BlankNode"||!t[m]||t[m].length!==1){h.push(m);continue}}this.incoming=t;for(var y={},w=0;w<h.length;w++)y[h[w].toNT()]=!0;return{roots:h,subjects:n,rootsHash:y,incoming:t}}toN3(e){return this.statementsToN3(e.statements)}isValidPNLocal(e){if(e.length===0)return!0;if(e[e.length-1]===".")return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n!=="."&&this._notNameChars.indexOf(n)>=0)return!1}return!0}explicitURI(e){return this.flags.indexOf("r")<0&&this.base?e=ki(this.base,e):this.flags.indexOf("u")>=0?e=Hc(e):e=qc(decodeURI(e)),"<"+e+">"}statementsToNTriples(e){var t=e.slice();t.sort();for(var n="",a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s=this,r=this.store,l=this.rdfFactory,o=function(m){if(m.termType!=="Collection")return s.atomicTermToN3(m);for(var y=m.elements,w=r.sym(a+"nill"),x=y.length-1;x>=0;x--){var D=l.blankNode();n+=o(D)+" "+o(r.sym(a+"first"))+" "+o(y[x])+`.
`,n+=o(D)+" "+o(r.sym(a+"rest"))+" "+o(w)+`.
`,w=D}return s.atomicTermToN3(w)},c=0;c<t.length;c++){var h=t[c],p="";p+=o(h.subject)+" ",p+=o(h.predicate)+" ",p+=o(h.object)+" ",this.flags.indexOf("q")>=0&&(p+=o(h.why)+" "),p+=`.
`,n+=p}return n}statementsToN3(e){var t=4,n=80,a=this.store,s={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},r=function($,q){return Mc($,q,a,s)};e.sort(r),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var l={};this.flags.indexOf("s")<0&&(l["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(l["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(l["http://www.w3.org/2000/10/swap/log#implies"]="=>");var o=function($){for(var q="",F=0;F<$;F++)q+=" ";return q},c=function($){for(var q="",F=0;F<$.length;F++){var P=$[F],j=typeof P=="string"?P:c(P);if(F!==0){var H=q.slice(-1)||" ";j===","||j===";"||j==="."&&!"0123456789.:".includes(H)||(q+=" ")}q+=j}return q},h=function($,q){var F="",P=1e5;q===void 0&&(q=-1);for(var j=0;j<$.length;j++){var H=$[j];if(typeof H!="string"){var K=h(H,q+1);if(K.length<10*(n-t*q)&&K.indexOf('"""')<0){var te=c(H);te.length<n-t*q&&(H=te,K="")}K&&(P=1e4),F+=K}if(typeof H=="string"){if(H.length===1&&F.slice(-1)===`
`&&",.;".indexOf(H)>=0){F=F.slice(0,-1),H=="."&&"0123456789.:".includes(F.charAt(F.length-1))&&(F+=" ",P+=1),F+=H+`
`,P+=1;continue}if(P<t*q+4||P+H.length+1<n&&";.".indexOf(F[F.length-2])<0)F=F.slice(0,-1)+" "+H+`
`,P+=H.length+1;else{let I=o(t*q)+H;F+=I+`
`,P=I.length,q<0&&(F+=`
`,P=1e5)}}}return F};function p($){for(var q=this.rootSubjects($),F=q.roots,P=[],j=0;j<F.length;j++){var H=F[j];P.push(y(H,q))}return P}var m=p.bind(this);function y($,q){return $.termType==="BlankNode"&&!q.incoming[$]?M($,q,!0).concat(["."]):[Z($,q)].concat([x($,q)]).concat(["."])}function w($,q){var F=[],P=null,j=q.subjects[this.toStr($)]||[];if(typeof j>"u")throw new Error("Cant find statements for "+$);for(var H=[],K=0;K<j.length;K++){var te=j[K];te.predicate.uri===P?H.push(","):(P&&(F=F.concat([H]).concat([";"]),H=[]),F.push(l[te.predicate.uri]?l[te.predicate.uri]:Z(te.predicate,q))),P=te.predicate.uri,H.push(M(te.object,q))}return F=F.concat([H]),F}var x=w.bind(this);function D($,q,F){return $.termType==="BlankNode"&&(F||q.rootsHash[$.toNT()]===void 0)?q.subjects[this.toStr($)]?["[",x($,q),"]"]:"[]":Z($,q)}var M=D.bind(this);function R($,q){var F,P;switch($.termType){case"Graph":return P=["{"],P=P.concat(m($.statements)),P.concat(["}"]);case"Collection":for(P=["("],F=0;F<$.elements.length;F++)P.push([M($.elements[F],q)]);return P.push(")"),P;default:return this.atomicTermToN3($)}}ha.prototype.termToN3=Z;var Z=R.bind(this);function Y(){var $="";this.flags.indexOf("d")<0&&this.defaultNamespace&&($+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var q in this.prefixes)this.prefixes.hasOwnProperty(q)&&this.namespacesUsed[q]&&($+="@prefix "+this.prefixes[q]+": "+this.explicitURI(q)+`.
`);return $+`
`}var T=Y.bind(this),V=m(e);return T()+h(V)}atomicTermToN3(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var n=e.value;if(typeof n!="string")throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":{const s=n.toLowerCase().indexOf("e")>0;return n.indexOf(".")<0&&!s&&(n+=".0"),s||(n+="e0"),n}case"http://www.w3.org/2001/XMLSchema#boolean":return e.value==="1"?"true":"false"}var a=this.stringToN3(e.value,this.flags);return e.language?a+="@"+e.language:e.datatype.equals(this.xsd.string)||(a+="^^"+this.atomicTermToN3(e.datatype,t)),a;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}stringToN3(e,t){t||(t="e");var n="",a,s,r,l,o;for(e.length>20&&e.slice(-1)!=='"'&&t.indexOf("n")<0&&(e.indexOf(`
`)>0||e.indexOf('"')>0)?(l='"""',o=this.forbidden3):(l='"',o=this.forbidden1),a=0;a<e.length;){o.lastIndex=0;var c=o.exec(e.slice(a));if(c==null)break;s=a+o.lastIndex-1,n+=e.slice(a,s);var h=e[s];h==='"'&&l==='"""'&&e.slice(s,s+3)!=='"""'?n+=h:(r=`\b\f\r	\v
\\"`.indexOf(h),r>=0?n+="\\"+'bfrtvn\\"'[r]:t.indexOf("e")>=0?n+="\\u"+("000"+h.charCodeAt(0).toString(16).toLowerCase()).slice(-4):n+=h),a=s+1}return l+n+e.slice(a)+l}symbolToN3(e){var t=e.uri,n=t.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=t.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(t.indexOf("http")===0||t.indexOf("ws")===0||t.indexOf("file")===0)){var a=t.slice(n+1),s=t.slice(0,n+1),r=t.indexOf("://")+4,l=this.base?this.base.slice(0,Math.max(this.base.lastIndexOf("/"),this.base.lastIndexOf("#"))+1):null,o=l&&s===l,c=this.flags.indexOf("o")>=0&&a.indexOf(".")>=0,h=!o&&!c&&s.length>r&&this.isValidPNLocal(a);if(h){if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(a)<0?a:":"+a;var p=this.prefixes[s];if(p||(p=this.makeUpPrefix(s)),p)return this.namespacesUsed[s]=!0,p+":"+a}}return this.explicitURI(t)}writeStore(e){var t=this.store,n=t.fetcher,a=n&&n.appNode,s=this.store.index[3];for(var r in s){var l=t.fromNT(r);a&&l.equals(a)||e(`
`+this.atomicTermToN3(l)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,l))+` }.
`)}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(h){e(`
<`+h.object.value+`> log:metadata {
`);var p=t.statementsMatching(void 0,void 0,void 0,h.subject);e(this.statementsToN3(this.statementsToN3(p))),e(`}.
`)});var o=[];a&&o.push(a);var c=[];o.map(function(h){c=c.concat(t.statementsMatching(void 0,void 0,void 0,h))}),e(this.statementsToN3(c))}statementsToXML(e){var t=4,n=80,a=[];a["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var s="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",r=function(P){for(var j="",H=0;H<P;H++)j+=" ";return j},l=function(P){for(var j="",H=0;H<P.length;H++){var K=P[H],te=typeof K=="string"?K:l(K);j+=te}return j},o=function(P,j){var H="",K,te=1e5;j||(j=0);for(var I=0;I<P.length;I++){var G=P[I];if(typeof G!="string"){var J=o(G,j+1);J.length<10*(n-t*j)&&J.indexOf('"""')<0&&(K=l(G),K.length<n-t*j&&(G="   "+K,J="")),J&&(te=1e4),H+=J}typeof G=="string"&&(te<t*j+4?(H=H.slice(0,-1)+" "+G+`
`,te+=G.length+1):(K=r(t*j)+G,H+=K+`
`,te=K.length))}return H};function c(P){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var j=this.rootSubjects(P),H=j.roots,K=[],te=0;te<H.length;te++){var I=H[te];K.push(x(I,j))}return K}var h=c.bind(this);function p(P){return typeof P>"u"?"@@@undefined@@@@":P.replace(/[&<"]/g,function(j){switch(j[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function m(P){return p(this.base?ki(this.base,P.uri):P.uri)}var y=m.bind(this);function w(P,j){var H=[],K,te,I,G,J=j.subjects[this.toStr(P)];if(typeof J>"u")return R(P,j);J.sort(function(Fe,pe){var Ee=Fe.predicate.uri,Pe=pe.predicate.uri;if(Ee.substring(0,s.length)===s||Pe.substring(0,s.length)===s)return Ee.localeCompare(Pe);var Ke=Ee.substring(s.length),Te=Pe.substring(s.length),ze=parseInt(Ke,10),ft=parseInt(Te,10);return isNaN(ze)||isNaN(ft)||ze!==Ke||ft!==Te?Ee.localeCompare(Pe):ze-ft});for(var re=0;re<J.length;re++){if(I=J[re],I.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!K&&I.object.termType==="NamedNode"){K=I.object;continue}if(G=I.predicate,G.uri.substr(0,s.length)===s){var ie=G.uri.substr(s.length),ue=parseInt(ie,10);ie===ue.toString()&&(G=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(te=Y(G),I.object.termType){case"BlankNode":j.incoming[I.object].length===1?H=H.concat(["<"+te+' rdf:parseType="Resource">',x(I.object,j),"</"+te+">"]):H=H.concat(["<"+te+' rdf:nodeID="'+I.object.toNT().slice(2)+'"/>']);break;case"NamedNode":H=H.concat(["<"+te+' rdf:resource="'+y(I.object)+'"/>']);break;case"Literal":H=H.concat(["<"+te+(I.object.language?' xml:lang="'+I.object.language+'"':I.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(I.object.datatype.uri)+'"')+">"+p(I.object.value)+"</"+te+">"]);break;case"Collection":H=H.concat(["<"+te+' rdf:parseType="Collection">',D(I.object,j),"</"+te+">"]);break;default:throw new Error("Can't serialize object of type "+I.object.termType+" into XML")}}var ne=K?Y(K):"rdf:Description",ge="";return P.termType==="BlankNode"?(!j.incoming[P]||j.incoming[P].length!==1)&&(ge=' rdf:nodeID="'+P.toNT().slice(2)+'"'):ge=' rdf:about="'+y(P)+'"',["<"+ne+ge+">"].concat([H]).concat(["</"+ne+">"])}var x=w.bind(this);function D(P,j){for(var H=[],K=0;K<P.elements.length;K++)H.push(x(P.elements[K],j));return H}function M(P,j){var H=[],K=j.subjects[this.toStr(P)];if(!K)return H;K.sort();for(var te=0;te<K.length;te++){var I=K[te];switch(I.object.termType){case"BlankNode":j.rootsHash[I.object.toNT()]?H=H.concat(["<"+Y(I.predicate)+' rdf:nodeID="'+I.object.toNT().slice(2)+'">',"</"+Y(I.predicate)+">"]):H=H.concat(["<"+Y(I.predicate)+' rdf:parseType="Resource">',R(I.object,j),"</"+Y(I.predicate)+">"]);break;case"NamedNode":H=H.concat(["<"+Y(I.predicate)+' rdf:resource="'+y(I.object)+'"/>']);break;case"Literal":H=H.concat(["<"+Y(I.predicate)+(I.object.language?' xml:lang="'+I.object.language+'"':I.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(I.object.datatype.value)+'"')+">"+p(I.object.value)+"</"+Y(I.predicate)+">"]);break;case"Collection":H=H.concat(["<"+Y(I.predicate)+' rdf:parseType="Collection">',D(I.object,j),"</"+Y(I.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+I.object.termType+" into XML")}}return H}var R=M.bind(this);function Z(P){var j=P.uri,H=j.indexOf("#");if(H<0&&this.flags.indexOf("/")<0&&(H=j.lastIndexOf("/")),H<0)throw new Error("Cannot make qname out of <"+j+">");for(var K=H+1;K<j.length;K++)if(this._notNameChars.indexOf(j[K])>=0)throw new Error('Invalid character "'+j[K]+'" cannot be in XML qname for URI: '+j);var te=j.slice(H+1),I=j.slice(0,H+1);if(this.defaultNamespace&&this.defaultNamespace===I&&this.flags.indexOf("d")<0)return te;var G=this.prefixes[I];return G||(G=this.makeUpPrefix(I)),a[I]=!0,G+":"+te}var Y=Z.bind(this),T=h(e),V="<rdf:RDF";this.defaultNamespace&&(V+=' xmlns="'+p(this.defaultNamespace)+'"');for(var $ in a)if(a.hasOwnProperty($)){var q=this.base&&this.flags.includes("z")?ki(this.base,$):$;V+=`
 xmlns:`+this.prefixes[$]+'="'+p(q)+'"'}V+=">";var F=[V,T,"</rdf:RDF>"];return o(F,-1)}statementsToJsonld(e){const t=this.statementsToN3(e),n=_c.parse(t);return JSON.stringify(n,null,2)}}function qc(i){return encodeURI(i)}function Hc(i){for(var e="",t,n=0;n<i.length;n++)t=i.charCodeAt(n),t>65535?e+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?e+="\\u"+("0000"+t.toString(16)).slice(-4):e+=i[n];return e}function Cr(i,e,t,n,a,s){t=t||i?.value;const r=s||{};n=n||kn;var l=void 0;try{var o=Pc(e);r.flags&&o.setFlags(r.flags);var c=e.statementsMatching(void 0,void 0,void 0,i);switch("namespaces"in e&&o.suggestNamespaces(e.namespaces),r.namespaces&&o.setNamespaces(r.namespaces),o.setBase(t),n){case wr:return l=o.statementsToXML(c),h(null,l);case gl:case fc:return l=o.statementsToN3(c),h(null,l);case kn:case vc:return o.setFlags("si"+(r.flags?" "+r.flags:"")),l=o.statementsToN3(c),h(null,l);case pc:return o.setFlags("deinprstux"),l=o.statementsToNTriples(c),h(null,l);case Gi:return o.setFlags("si dr"+(r.flags?" "+r.flags:"")),l=o.statementsToJsonld(c),h(null,l);case Wi:case Xi:return o.setFlags("deinprstux q"),l=o.statementsToNTriples(c),h(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(p){if(a)return a(p,void 0);throw p}function h(p,m){if(a){a(p,m);return}else return m}}const zc=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],Vr={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function Tl(i,e,t){const n=[];return t.reduce((a,s,r,l)=>{n.push(i.quad(a,i.namedNode(Vr.first),l[r]));let o;return r<l.length-1?(o=i.blankNode(),n.push(i.quad(a,i.namedNode(Vr.rest),o))):n.push(i.quad(a,i.namedNode(Vr.rest),i.namedNode(Vr.nil))),o},e),n}function It(i,e,t=0){var n=i.length;for(t<0&&(t=n+t);t<n;t++)if(i[t]===e)return t;return-1}class br extends Ye{constructor(e=[],t=[],n=[],a=[],s={}){super(""),this.statements=e,this.constraints=t,this.initBindings=n,this.optional=a,ae(this,"termType",xr),ae(this,"classOrder",Yt.Graph),ae(this,"fetcher",void 0),ae(this,"isVar",0),ae(this,"ns",Ie),ae(this,"rdfFactory",void 0),this.rdfFactory=s&&s.rdfFactory||Mt;for(const r of zc)this[r]=(...l)=>this.rdfFactory[r](...l)}add(e,t,n,a){return arguments.length===1&&e.forEach(s=>this.add(s.subject,s.predicate,s.object,s.graph)),this.statements.push(this.rdfFactory.quad(e,t,n,a))}addStatement(e){return this.add(e)}bnode(e){return this.rdfFactory.blankNode(e)}addAll(e){e.forEach(t=>{this.add(t.subject,t.predicate,t.object,t.graph)})}any(e,t,n,a){const s=this.anyStatementMatching(e,t,n,a);return s==null?null:e==null?s.subject:t==null?s.predicate:n==null?s.object:null}anyValue(e,t,n,a){const s=this.any(e,t,n,a);return s?s.value:void 0}anyJS(e,t,n,a){const s=this.any(e,t,n,a);return s?Ye.toJS(s):void 0}anyStatementMatching(e,t,n,a){let s=this.statementsMatching(e,t,n,a,!0);if(!(!s||s.length===0))return s[0]}id(e){return this.rdfFactory.id(e)}statementsMatching(e,t,n,a,s){const r=this.statements.filter(l=>(!e||e.equals(l.subject))&&(!t||t.equals(l.predicate))&&(!n||n.equals(l.object))&&(!a||a.equals(l.graph)));return s?r.length===0?[]:[r[0]]:r}bottomTypeURIs(e){let t,n,a,s,r,l,o,c;t=[];for(let h in e)if(e.hasOwnProperty(h)){for(c=e[h],o=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(h)),n=!0,s=0,r=o.length;s<r;s++)if(a=o[s],l=a.uri,l in e){n=!1;break}n&&(t[h]=c)}return t}collection(){return new Pt}each(e,t,n,a){const s=[];let r=this.statementsMatching(e,t,n,a,!1);if(e==null)for(let l=0,o=r.length;l<o;l++)s.push(r[l].subject);else if(t==null)for(let l=0,o=r.length;l<o;l++)s.push(r[l].predicate);else if(n==null)for(let l=0,o=r.length;l<o;l++)s.push(r[l].object);else if(a==null)for(let l=0,o=r.length;l<o;l++)s.push(new mt(r[l].graph.value));return s}equals(e){return e?this.hashString()===e.hashString():!1}findMembersNT(e){let t,n,a,s,r,l,o,c,h,p,m,y,w,x;y={},y[e.toNT()]=!0,s={},l=this.transitiveClosure(y,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(let D in l)if(l.hasOwnProperty(D)){o=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(D));for(let M=0,R=o.length;M<R;M++)w=o[M],s[w.subject.toNT()]=w;c=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(D));for(let M=0,R=c.length;M<R;M++)for(r=c[M],h=this.statementsMatching(void 0,r),a=0,t=h.length;a<t;a++)w=h[a],s[w.subject.toNT()]=w;p=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(D));for(let M=0,R=p.length;M<R;M++)for(r=p[M],m=this.statementsMatching(void 0,r),x=0,n=m.length;x<n;x++)w=m[x],s[w.object.toNT()]=w}return s}findMemberURIs(e){return this.NTtoURI(this.findMembersNT(e))}findSubClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}findSuperClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypesNT(e){let t,n,a,s,r,l,o,c,h;a="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h=[],s=this.statementsMatching(e,void 0,void 0);for(let p=0,m=s.length;p<m;p++)if(c=s[p],c.predicate.uri===a)h[c.object.toNT()]=c;else{r=this.each(c.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(let y=0,w=r.length;y<w;y++)n=r[y],h[n.toNT()]=c}l=this.statementsMatching(void 0,void 0,e);for(let p=0,m=l.length;p<m;p++){c=l[p],o=this.each(c.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(let y=0,w=o.length;y<w;y++)t=o[y],h[t.toNT()]=c}return this.transitiveClosure(h,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypeURIs(e){return this.NTtoURI(this.findTypesNT(e))}connectedStatements(e,t,n){n=n||[];let a=[e],s={},r={},l=[],o=this,c=function(h){let p=function(y){y.termType==="BlankNode"&&!s[y.value]&&(s[y.value]=!0,a.push(y))},m=o.statementsMatching(null,null,h,t).concat(o.statementsMatching(h,null,null,t));m=m.filter(function(y){if(n[y.predicate.value])return!1;let w=y.toNT();return r[w]?!1:(r[w]=!0,!0)}),m.forEach(function(y){p(y.subject),p(y.object)}),l=l.concat(m)};for(;a.length;)c(a.shift());return l}formula(e){return new br}fromNT(e){let t,n,a;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(a=void 0,t=void 0,n=e.lastIndexOf('"'),n<e.length-1)if(e[n+1]==="@")a=e.slice(n+2);else if(e.slice(n+1,n+3)==="^^")t=this.fromNT(e.slice(n+3));else throw new Error("Can't convert string from NT: "+e);return e=e.slice(1,n),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,`
`),e=e.replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,a||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new Bn(e.slice(1))}throw new Error("Can't convert from NT: "+e)}holds(e,t,n,a){let s;if(arguments.length===1){if(!e)return!0;if(e instanceof Array){for(s=0;s<e.length;s++)if(!this.holds(e[s]))return!1;return!0}else{if(yc(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}}return this.anyStatementMatching(e,t,n,a)!=null}holdsStatement(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}list(e,t){if(t.rdfFactory.supports.COLLECTIONS){const n=t.rdfFactory.collection();return e.forEach(function(a){n.append(a)}),n}else{const n=t.rdfFactory.blankNode(),a=Tl(t.rdfFactory,n,e);return t.addAll(a),n}}NTtoURI(e){let t,n,a={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],t[0]==="<"&&(a[t.slice(1,-1)]=n));return a}serialize(e,t,n,a){return Cr(n,this,e,t,void 0,a)}substitute(e){let t=this.statements.map(function(a){return a.substitute(e)});const n=new br;return n.addAll(t),n}sym(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}the(e,t,n,a){return this.any(e,t,n,a)}transitiveClosure(e,t,n){let a,s,r,l,o,c,h={};Object.assign(h,e);let p={};for(;;){if(c=(function(){for(let m in h)if(h.hasOwnProperty(m))return m})(),c==null)return p;for(o=n?this.each(void 0,t,this.fromNT(c)):this.each(this.fromNT(c),t),s=0,r=o.length;s<r;s++)a=o[s],l=a.toNT(),!(l in p)&&(l in h||(h[l]=h[c]));p[c]=h[c],delete h[c]}}topTypeURIs(e){let t,n,a,s,r,l,o,c;o=[];for(a in e)if(e.hasOwnProperty(a)){for(c=e[a],r=0,l=this.each(this.rdfFactory.namedNode(a),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,s=l.length;t<s;t++)if(n=l[t],n.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){r++;break}r||(o[a]=c)}return o["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete o["http://www.w3.org/2000/01/rdf-schema#Resource"],o["http://www.w3.org/2002/07/owl#Thing"]&&delete o["http://www.w3.org/2002/07/owl#Thing"],o}toString(){return"{"+this.statements.join(`
`)+"}"}variable(e){return new Bn(e)}whether(e,t,n,a){return this.statementsMatching(e,t,n,a,!1).length}}Ye.fromValue=yl;const $n={xsd:Ie("http://www.w3.org/2001/XMLSchema#")};Ye.toJS=function(i){return ca(i)?i.elements.map(Ye.toJS):vl(i)?i.datatype.equals($n.xsd("boolean"))?i.value==="1"||i.value==="true":i.datatype.equals($n.xsd("dateTime"))||i.datatype.equals($n.xsd("date"))?new Date(i.value):i.datatype.equals($n.xsd("integer"))||i.datatype.equals($n.xsd("float"))||i.datatype.equals($n.xsd("decimal"))?Number(i.value):i.value:i};class jc{constructor(e,t){this.pat=new mn,this.vars=[],this.name=e,this.id=t}}function Is(i,e,t,n){function a(T){var V="",$;for($ in T)T.hasOwnProperty($)&&(V+="    "+$+" -> "+T[$]);return V}function s(T){var V="Bindings: ",$,q=T.length;for($=0;$<q;$++)V+=a(T[$][0])+`;
	`;return V}function r(T,V,$,q){var F=$[T];if(F===void 0){if(T.isVar){var P=[];return P[T]=V,[[P,null]]}F=T}if(!F.complexType)return q.redirections[F]&&(F=q.redirections[F]),q.redirections[V]&&(V=q.redirections[V]),F.equals(V)||F.uri&&F.uri===Er?[[[],null]]:[];if(T instanceof Array)return V instanceof Array?l(T,V,$):[];throw new Error("query.js: oops - code not written yet")}function l(T,V,$,q){var F;if(T.length!==V.length)return[];if(!T.length)return[[[],null]];var P=r(T[0],V[0],$,q);if(P.length===0)return P;var j=[],H,K=P.length,te,I,G,J,re,ie;for(H=0;H<K;H++){te=P[H][0],ie=[];for(J in te)te.hasOwnProperty(J)&&(ie[J]=te[J]);for(J in $)$.hasOwnProperty(J)&&(ie[J]=$[J]);for(F=l(T.slice(1),V.slice(1),ie,q),G=F.length,I=0;I<G;I++){re=F[I][0];for(J in te)te.hasOwnProperty(J)&&(re[J]=te[J]);j.push([re,null])}}return j}function o(T,V){var $=V[T];return $===void 0?T:$}function c(T,V){var $={},q;for(q in T)T.hasOwnProperty(q)&&($[q]=T[q]);for(q in V)V.hasOwnProperty(q)&&($[q]=V[q]);return $}function h(T,V){return this.trunkBindings=V,this.originalCallback=T,this.branches=[],this}h.prototype.checkAllDone=function(){var T;for(T=0;T<this.branches.length;T++)if(!this.branches[T].done)return;this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(T,V){var $;if(T<0)return this.originalCallback(V);for($=0;$<this.branches[T].results.length;$++)this.doCallBacks(T-1,c(V,this.branches[T].results[$]))};function p(T,V){return this.count=0,this.success=!1,this.done=!1,this.callback=T,this.onDone=V,this}p.prototype.reportMatch=function(T){this.callback(T),this.success=!0},p.prototype.reportDone=function(){this.done=!0,this.onDone!==void 0&&this.onDone()};var m=function(T){return this.count=0,this.done=!1,this.results=[],this.junction=T,T.branches.push(this),this};m.prototype.reportMatch=function(T){this.results.push(T)},m.prototype.reportDone=function(){Gt.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&this.results.push({}),this.done=!0,this.junction.checkAllDone()};function y(T,V,$){var q,F,P,j;for(V.nvars=0,V.index=null,q=[V.subject,V.predicate,V.object,V.why],j=[T.subjectIndex,T.predicateIndex,T.objectIndex,T.whyIndex],P=0;P<4;P++){let H=q[P];if(!(H.uri&&H.uri===Er))if(H.isVar&&$[H]===void 0)V.nvars++;else{if(H=o(q[P],$),T.redirections[T.id(H)]&&(H=T.redirections[T.id(H)]),F=j[P][T.id(H)],!F)return V.index=[],!1;(V.index===null||V.index.length>F.length)&&(V.index=F)}}return V.index===null&&(V.index=T.statements),!0}function w(T,V){return T.nvars!==V.nvars?T.nvars-V.nvars:T.index.length-V.index.length}var x=0,D=function(T,V,$,q,F,P,j){Gt.debug("Match begins, Branch count now: "+j.count+" for "+j.pattern_debug);var H=V.statements;if(H.length===0){if(Gt.debug("FOUND MATCH WITH BINDINGS:"+a($)),V.optional.length===0)j.reportMatch($);else{Gt.debug("OPTIONAL: "+V.optional);var K=new h(e,$),te=[],I;for(I=0;I<V.optional.length;I++)te[I]=new m(K),te[I].pattern_debug=V.optional[I];for(I=0;I<V.optional.length;I++)te[I].count=te[I].count+1,D(T,V.optional[I],$,"",F,e,te[I])}j.count--,Gt.debug("Match ends -- success , Branch count now: "+j.count+" for "+j.pattern_debug);return}var G,J,re=H.length;if(F){var ie="match"+x++,ue=function(ne,ge){var Fe=ne.uri.split("#")[0];F.nowOrWhenFetched(Fe,void 0,function(pe,Ee,Pe){pe||console.log("Error following link to <"+ne.uri+"> in query: "+Ee),D(T,V,$,q,F,P,j)})};for(J=0;J<re;J++){if(G=H[J],$[G.subject]!==void 0&&$[G.subject].uri&&F&&F.getState(Gn($[G.subject].uri))==="unrequested"){ue($[G.subject],ie);return}if($[G.object]!==void 0&&$[G.object].uri&&F&&F.getState(Gn($[G.object].uri))==="unrequested"){ue($[G.object],ie);return}}}R(T,V,$,q,F,P,j)},M=function(T,V){var $=!0,q,F;for(q in T)T.hasOwnProperty(q)&&V[q]&&(F=V[q].test,F&&!F(T[q])&&($=!1));return $},R=function(T,V,$,q,F,P,j){var H=V.statements,K=H.length,te,I,G,J,re,ie,ue;for(te=0;te<K;te++)ue=H[te],y(T,ue,$);H.sort(w),ue=H[0];var ne=T.formula();ne.optional=V.optional,ne.constraints=V.constraints,ne.statements=H.slice(1),Gt.debug(q+"match2 searching "+ue.index.length+" for "+ue+"; bindings so far="+a($));var ge,Fe=ue.index.length,pe,Ee;for(ge=0;ge<Fe;ge++)for(Ee=ue.index[ge],pe=l([ue.subject,ue.predicate,ue.object,ue.why],[Ee.subject,Ee.predicate,Ee.object,Ee.why],$,T),Gt.info(q+" From first: "+pe.length+": "+s(pe)),G=pe.length,I=0;I<G;I++)if(re=[],ie=pe[I][0],!M(ie,V.constraints))Gt.debug("Branch count CS: "+j.count);else{for(J in ie)ie.hasOwnProperty(J)&&(re[J]=ie[J]);for(J in $)$.hasOwnProperty(J)&&(re[J]=$[J]);j.count++,D(T,ne,re,q+"  ",F,P,j)}j.count--,Gt.debug("Match2 ends, Branch count: "+j.count+" for "+j.pattern_debug),j.count===0&&j.reportDone()},Z=this;Gt.debug("Query on "+this.statements.length);var Y=new p(e,n);Y.count++,i.sync?D(Z,i.pat,i.pat.initBindings,"",t,e,Y):setTimeout(function(){D(Z,i.pat,i.pat.initBindings,"",t,e,Y)},0)}const Fi="http://www.w3.org/2002/07/owl#";function Vc(i,e,t,n){var a=i.any(e,t,void 0);return a?(i.equate(a,n),!0):!1}function Gc(i,e,t,n){var a=i.any(void 0,t,n);return a?(i.equate(a,e),!0):!1}function Al(i,e,t,n,a){i.typeCallback&&i.typeCallback(i,n,a);var s=i.classActions[i.id(n)],r=!1;if(s)for(var l=0;l<s.length;l++)r=r||s[l](i,e,t,n,a);return r}class mn extends br{constructor(e,t={}){super(void 0,void 0,void 0,void 0,t),ae(this,"updater",void 0),ae(this,"namespaces",void 0),ae(this,"classActions",void 0),ae(this,"propertyActions",void 0),ae(this,"redirections",void 0),ae(this,"aliases",void 0),ae(this,"HTTPRedirects",void 0),ae(this,"subjectIndex",void 0),ae(this,"predicateIndex",void 0),ae(this,"objectIndex",void 0),ae(this,"whyIndex",void 0),ae(this,"index",void 0),ae(this,"features",void 0),ae(this,"_universalVariables",void 0),ae(this,"_existentialVariables",void 0),ae(this,"rdfArrayRemove",void 0),ae(this,"dataCallbacks",[]),ae(this,"dataRemovalCallbacks",[]),this.propertyActions={},this.classActions={},this.redirections=[],this.aliases=[],this.HTTPRedirects=[],this.subjectIndex=[],this.predicateIndex=[],this.objectIndex=[],this.whyIndex=[],this.index=[this.subjectIndex,this.predicateIndex,this.objectIndex,this.whyIndex],this.namespaces={},this.features=e||[],this.rdfArrayRemove=t.rdfArrayRemove||Uc,t.dataCallback&&(this.dataCallbacks=[t.dataCallback]),t.dataRemovalCallback&&(this.dataRemovalCallbacks=[t.dataRemovalCallback]),this.initPropertyActions(this.features)}static get defaultGraphURI(){return Er}substitute(e){var t=this.statements.map(function(a){return a.substitute(e)}),n=new mn;return n.add(t),n}addDataCallback(e){this.dataCallbacks.push(e)}addDataRemovalCallback(e){this.dataRemovalCallbacks.push(e)}applyPatch(e,t,n){var a=this,s,r=null;function l(h){if(e.delete){s=e.delete,r&&(s=s.substitute(r)),s=s.statements;var p=[],m=s.map(function(y){var w=a.statementsMatching(y.subject,y.predicate,y.object,t);return w.length===0?(p.push(y),null):w[0]});if(p.length)return n("Could not find to delete: "+p.join(`
 or `));m.map(function(y){a.remove(y)})}e.insert&&(s=e.insert,r&&(s=s.substitute(r)),s=s.statements,s.map(function(y){y.graph=t,a.add(y.subject,y.predicate,y.object,y.graph)})),h()}if(e.where){var o=new jc("patch");o.pat=e.where,o.pat.statements.map(function(h){h.graph=fi(t.value)}),o.sync=!0;var c=[];a.query(o,function(p){c.push(p)},a.fetcher,function(){if(c.length===0)return n("No match found to be patched:"+e.where);if(c.length>1)return n("Patch ambiguous. No patch done.");r=c[0],l(n)})}else l(n)}declareExistential(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}initPropertyActions(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[Al],It(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${Fi}sameAs`))]=[function(t,n,a,s,r){return t.equate(n,s),!0}]),It(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${Fi}InverseFunctionalProperty`))]=[function(t,n,a,s,r){return t.newPropertyAction(n,Gc)}]),It(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${Fi}FunctionalProperty`))]=[function(t,n,a,s,r){return t.newPropertyAction(n,Vc)}])}addStatement(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}add(e,t,n,a){var s;if(arguments.length===1){if(e instanceof Array)for(s=0;s<e.length;s++)this.add(e[s]);else zn(e)?this.add(e.subject,e.predicate,e.object,e.graph):gs(e)&&this.add(e.statements);return this}var r,l;a||(a=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof e=="string"&&(e=this.rdfFactory.namedNode(e)),t=Ye.fromValue(t);const o=Ye.fromValue(n);if(a=Ye.fromValue(a),!Ec(e))throw new Error("Subject is not a subject type");if(!Cc(t))throw new Error(`Predicate ${t} is not a predicate type`);if(!wc(o))throw new Error(`Object ${o} is not an object type`);if(!xc(a))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,a);var c=this.id(this.canon(t));r=this.propertyActions[c];var h=!1;if(r)for(s=0;s<r.length;s++)h=h||r[s](this,e,t,o,a);if(this.holds(e,t,o,a))return null;var p=[this.id(this.canon(e)),c,this.id(this.canon(o)),this.id(this.canon(a))];for(l=this.rdfFactory.quad(e,t,o,a),s=0;s<4;s++){var m=this.index[s],y=p[s];m[y]||(m[y]=[]),m[y].push(l)}this.statements.push(l);for(const w of this.dataCallbacks)w(l);return l}canon(e){if(!e)return e;const t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case Rn:return new Zt(e.value);case vn:return e;case In:return new da;case ml:return e;case xr:return e;case Yn:return new Qt(e.value,e.language,e.datatype);case Ln:return new mt(e.value);case gn:return new Bn(e.value);default:throw new Error(`Term Type not recognized for canonization: ${e.termType}`)}}check(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}}checkStatementList(e,t){t===void 0&&(t=0);for(var n=["subject","predicate","object","why"],a=" found in "+n[t]+" index.",s,r=0;r<e.length;r++){s=e[r];for(var l=[s.subject,s.predicate,s.object,s.graph],o=function(m,y){for(var w=0;w<m.length;w++)if(m[w].subject.equals(y.subject)&&m[w].predicate.equals(y.predicate)&&m[w].object.equals(y.object)&&m[w].why.equals(y.graph))return!0},c=0;c<4;c++){var h=this.canon(l[c]),p=this.id(h);this.index[c][p]&&o(this.index[c][p],s)}if(!o(this.statements,s))throw new Error("Statement list does not statement "+s+"@"+s.graph+a)}}close(){return this}compareTerms(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):Yt[e.termType]<Yt[t.termType]?-1:Yt[e.termType]>Yt[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}copyTo(e,t,n){n||(n=[]);var a=this.statementsMatching(e);It(n,"two-direction")!==-1&&a.concat(this.statementsMatching(void 0,void 0,e));for(var s=0;s<a.length;s++){var r=a[s];switch(r.object.termType){case"NamedNode":this.add(t,r.predicate,r.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,r.predicate,r.object.copy(this))}It(n,"delete")!==-1&&this.remove(r)}}equate(e,t){const n=this.canon(e),a=this.canon(t);var s=this.compareTerms(n,a);return s?s<0?this.replaceWith(a,n):this.replaceWith(n,a):!0}formula(e){return new mn(e)}get length(){return this.statements.length}match(e,t,n,a){return this.statementsMatching(Ye.fromValue(e),Ye.fromValue(t),Ye.fromValue(n),Ye.fromValue(a))}mentionsURI(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}newExistential(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}newPropertyAction(e,t){var n=this.id(e);this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var a=this.statementsMatching(void 0,e,void 0),s=!1,r=0;r<a.length;r++)s=s||t(this,a[r].subject,e,a[r].object);return s}newUniversal(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}variable(e){return new Bn(e)}nextSymbol(e){for(var t=0;;t++){var n=e.value+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}}query(e,t,n,a){return Is.call(this,e,t,n,a)}querySync(e){var t=[];function n(r){t.push(r)}function a(){s=!0}var s=!1;if(e.sync=!0,Is.call(this,e,n,null,a),!s)throw new Error("Sync query should have called done function");return t}remove(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if(gs(e))return this.remove(e.statements);var n=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!n.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(n[0]),this}removeDocument(e){this.removeMetadata(e);for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this.removeMatches(e,null,null),this}removeMetadata(e){const t=this.sym("chrome://TheCurrentSession"),n="http://www.w3.org/2007/ont/link#",a=this.statementsMatching(void 0,this.sym(`${n}requestedURI`),this.rdfFactory.literal(e.value),t).map(l=>l.subject);for(var s=0;s<a.length;s++){const l=a[s];if(l!=null){let o;const c=this.any(l,this.sym(`${n}status`),null,t);if(c!=null){o=this.statementsMatching(c,this.sym(`${n}status`),null,t).slice();for(var r=0;r<o.length;r++)this.removeStatement(o[r])}const h=this.any(l,this.sym(`${n}response`),null,t);if(h!=null){o=this.statementsMatching(h,null,null,t).slice();for(var r=0;r<o.length;r++)this.removeStatement(o[r])}o=this.statementsMatching(l,null,null,t).slice();for(var r=0;r<o.length;r++)this.removeStatement(o[r])}}return this.removeMatches(this.sym(e.value),null,null,t),this}removeMany(e,t,n,a,s){for(var r=this.statementsMatching(e,t,n,a,!1),l=[],o=0;o<r.length;o++)l.push(r[o]);for(s&&(l=l.slice(0,s)),o=0;o<l.length;o++)this.remove(l[o])}removeMatches(e,t,n,a){return this.removeMany(e,t,n,a),this}removeStatement(e){for(var t=[e.subject,e.predicate,e.object,e.graph],n=0;n<4;n++){var a=this.canon(t[n]),s=this.id(a);this.index[n][s]&&this.rdfArrayRemove(this.index[n][s],e)}this.rdfArrayRemove(this.statements,e);for(const r of this.dataRemovalCallbacks)r(e);return this}removeStatements(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}replaceWith(e,t){for(var n=this.id(e),a=this.id(t),s=function(l){var o=l[n];if(o){var c=l[a];c?l[a]=o.concat(c):l[a]=o,delete l[n]}},r=0;r<4;r++)s(this.index[r]);if(this.redirections[n]=t,e.value){if(this.aliases[a]||(this.aliases[a]=[]),this.aliases[a].push(e),this.aliases[n])for(r=0;r<this.aliases[n].length;r++)this.redirections[this.id(this.aliases[n][r])]=t,this.aliases[a].push(this.aliases[n][r]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return s(this.classActions),s(this.propertyActions),!0}allAliases(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}sameThings(e,t){if(e.equals(t))return!0;var n=this.canon(e);if(!n)return!1;var a=this.canon(t);return a?n.value===a.value:!1}setPrefixForURI(e,t){if(!(e==="tab"&&this.namespaces.tab)&&!(e.slice(0,2)==="ns"||e.slice(0,7)==="default")){for(let n in this.namespaces)this.namespaces[n]==t&&delete this.namespaces[n];this.namespaces[e]=t}}statementsMatching(e,t,n,a,s){var r=[e,t,n,a],l=[],o=[],c=[],h,p;for(h=0;h<4;h++)l[h]=this.canon(Ye.fromValue(r[h])),l[h]&&(c.push(h),o[h]=this.id(l[h]));if(c.length===0)return this.statements;if(c.length===1)return h=c[0],p=this.index[h][o[h]],p&&s&&p.length>1&&(p=p.slice(0,1)),p=p||[],p;var m=1e10,y,w;for(w=0;w<c.length;w++){if(h=c[w],p=this.index[h][o[h]],!p)return[];p.length<m&&(m=p.length,y=w)}for(var x=c[y],D=this.index[x][o[x]],M=c.slice(0,y).concat(c.slice(y+1)),R=[],Z=["subject","predicate","object","why"],Y=0;Y<D.length;Y++){var T=D[Y];for(w=0;w<M.length;w++)if(h=M[w],!this.canon(T[Z[h]]).equals(l[h])){T=null;break}if(T!=null&&(R.push(T),s))break}return R}uris(e){var t=this.canon(e),n=this.aliases[this.id(t)];if(!t.value)return[];var a=[t.value];if(n)for(var s=0;s<n.length;s++)a.push(n[s].uri);return a}serialize(e,t,n,a){const s=a?.namespaces?{...this.namespaces,...a.namespaces}:{...this.namespaces};return a={...a||{},namespaces:s},Cr(n,this,e,t,void 0,a)}}ae(mn,"handleRDFType",void 0);mn.handleRDFType=Al;const Dn=Ie("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function Xc(i,e,t,n){for(const a of i.statementsMatching(t,null,null,n)){const s=new cn(e,a.predicate,a.object,n);i.remove(a),i.add(s)}for(const a of i.statementsMatching(null,t,null,n))i.remove(a),i.add(new cn(a.subject,e,a.object,n));for(const a of i.statementsMatching(null,null,t,n))i.remove(a),i.add(new cn(a.subject,a.predicate,e,n))}function Wc(i,e){const t=Dn("nil");for(const n of i.statementsMatching(t,null,null,e)){i.remove(n);const a=new Pt;i.add(new cn(a,n.predicate,n.object,e))}for(const n of i.statementsMatching(null,null,t,e))if(!n.predicate.sameTerm(Dn("rest"))){i.remove(n);const a=new Pt;i.add(new cn(n.subject,n.predicate,a,e))}}function Qc(i,e){function t(a,s,r){const l=i.statementsMatching(a,Dn("rest"),null,e);if(l.length!==1)throw new Error(`Bad list structure: no rest at ${a}`);const o=i.statementsMatching(a,Dn("first"),null,e);if(o.length!==1)throw new Error(`Bad list structure: rest but ${o.length} firsts at ${a}`);const h=[o[0].object].concat(s),p=r.concat(l).concat(o),m=i.statementsMatching(null,Dn("rest"),a,e);if(m.length===0){const w=new Pt(h);i.remove(p),Xc(i,w,a,e);return}if(m.length!==1)throw new Error(`Bad list structure: ${m.length} pres at ${a}`);const y=m[0].subject;if(y.termType!=="BlankNode")throw new Error(`Bad list element node ${y} type: ${y.termType} `);t(y,h,p)}Wc(i,e),i.statementsMatching(null,Dn("rest"),Dn("nil"),e).forEach(a=>{if(a.subject.termType!=="BlankNode")throw new Error(`Bad list element node ${a.subject} type: ${a.subject.termType} `);t(a.subject,[],[])})}function Yc(i){return encodeURI(i)}var Zc={encode:function(i){i=i.replace(/\r\n/g,`
`);for(var e="",t=0;t<i.length;t++){var n=i.charCodeAt(t);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(n&63|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(n&63|128))}return e},decode:function(i){for(var e="",t=0;t<i.length;){var n=i.charCodeAt(t);n<128?(e+=String.fromCharCode(n),t++):n>191&&n<224?(e+=String.fromCharCode((n&31)<<6|i.charCodeAt(t+1)&63),t+=2):(e+=String.fromCharCode((n&15)<<12|(i.charCodeAt(t+1)&63)<<6|i.charCodeAt(t+2)&63),t+=3)}return e}},Li="http://www.w3.org/2000/10/swap/log#",ct=function(i){return i},dt=function(i){return i},ir=function(i){if(i.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},St=function(i){return i.length},Ri=function(i,e,t){if(typeof i.slice>"u")throw"@@ mising.js: No .slice function for "+i+" of type "+typeof i;return typeof t>"u"||t==null?i.slice(e):i.slice(e,t)},fr=Error("dummy error stop iteration"),Gr=function(i){return this.last=0,this.li=i,this.next=function(){if(this.last==this.li.length)throw fr;return this.li[this.last++]},this},Oi=function(i,e){return i.indexOf(e)},Tn=function(i,e){if(!i)throw e?"python Assertion failed: "+e:"(python) Assertion failed."},Jc=function(i){return String.fromCharCode(i)};String.prototype.encode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return Zc.encode(this)};String.prototype.decode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var $i=function(i,e){return Bt(e,i)},Kc=null,ed="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Bs="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",Fs="http://www.w3.org/2002/07/owl#sameAs",td="#",nd="http://www.w3.org/2001/XMLSchema#integer",rd="http://www.w3.org/2001/XMLSchema#double",id="http://www.w3.org/2001/XMLSchema#decimal",ad="http://www.w3.org/2001/XMLSchema#date",sd="http://www.w3.org/2001/XMLSchema#dateTime",Dl=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,Mn=Dl+":",Mi=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?([eE][-+]?[0-9]+)?","g"),Ls=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),ld=new RegExp("[\\s#]"),Ui=new RegExp('[\\\\\\r\\n\\"]',"g"),Pi=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function Xr(i,e){var t=i.charAt(e+1);return t===""||ld.test(t)}function fa(i,e,t,n,a,s,r,l){return new ud(i,e,t,n,a,s,r,l)}class ud{constructor(e,t,n,a,s,r,l,o){typeof t>"u"&&(t=null),typeof n>"u"&&(n=""),typeof a>"u"&&(a=null),typeof s>"u"&&(s=""),typeof l>"u"&&(l=""),typeof o>"u"&&(o=null),this._bindings=new ir([]),this._flags=l,n!=""&&(Tn(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,s&&e.setGenPrefix(s),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new dt(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new ir([]),this._variables=new ir([]),this._parentVariables=new ir([]),this._reason=o,this._reason2=null,a?this._baseURI=a:n?this._baseURI=n:this._baseURI=null,Tn(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),t==null?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}here(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}formula(){return this._formula}loadStream(e){return this.loadBuf(e.read())}loadBuf(e){return this.startDoc(),this.feed(e),this.endDoc()}feed(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var a=this.skipSpace(t,n);if(a<0)return;var n=this.directiveOrStatement(t,a);if(n<0)throw ve(this._thisDoc,this.lines,t,a,"expected directive or statement")}}directiveOrStatement(e,t){var n=this.skipSpace(e,t);if(n<0)return n;var a=this.directive(e,n);if(a>=0)return this.checkDot(e,a);var a=this.statement(e,n);return a>=0?this.checkDot(e,a):a}tok(e,t,n){if(t.slice(n,n+1)=="@")var n=n+1;else if(It(this.keywords,e)<0)return-1;var a=n+St(e);return t.slice(n,a)==e&&Dl.indexOf(t.charAt(a))>=0?a:-1}directive(e,t){var o=this.skipSpace(e,t);if(o<0)return o;var n=new dt([]),o=this.tok("bind",e,t);if(o>0)throw ve(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");var o=this.tok("keywords",e,t);if(o>0){var t=this.commaSeparatedList(e,o,n,!1);if(t<0)throw ve(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(Ri(n,null,null)),t}var o=this.tok("forAll",e,t);if(o>0){var t=this.commaSeparatedList(e,o,n,!0);if(t<0)throw ve(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var a=new Gr(n);try{for(;;){var s=a.next();(It(this._variables,s)<0||It(this._parentVariables,s)>=0)&&(this._variables[s]=this._context.newUniversal(s))}}catch(h){if(h!=fr)throw h}return t}var o=this.tok("forSome",e,t);if(o>0){var t=this.commaSeparatedList(e,o,n,this.uri_ref2);if(t<0)throw ve(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");var a=new Gr(n);try{for(;;){var s=a.next();this._context.declareExistential(s)}}catch(p){if(p!=fr)throw p}return t}var o=this.tok("prefix",e,t);if(o>=0){var r=new dt([]),t=this.qname(e,o,r);if(t<0)throw ve(this._thisDoc,this.lines,e,o,"expected qname after @prefix");var o=this.uri_ref2(e,t,r);if(o<0)throw ve(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var l=r[1].uri;if(this._baseURI)var l=$i(this._baseURI,l);else Tn(l.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return Tn(l.indexOf(":")>=0),this._bindings[r[0][0]]=l,this.bind(r[0][0],Yc(l)),o}var o=this.tok("base",e,t);if(o>=0){var r=new dt([]),t=this.uri_ref2(e,o,r);if(t<0)throw ve(this._thisDoc,this.lines,e,o,"expected <uri> after @base ");var l=r[0].uri;if(this._baseURI)var l=$i(this._baseURI,l);else throw ve(this._thisDoc,this.lines,e,o,"With no previous base URI, cannot use relative URI in @base  <"+l+">");return Tn(l.indexOf(":")>=0),this._baseURI=l,t}return-1}bind(e,t){e==""||this._store.setPrefixForURI(e,t)}setKeywords(e){e==null?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}startDoc(){}endDoc(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&Qc(this._store,this.source),this._formula}makeStatement(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===Bs||e[3].uri&&e[3].uri===Bs)&&(this.hasNil=!0),this.statementCount+=1}statement(e,a){var n=new dt([]),a=this.object(e,a,n);if(a<0)return a;var s=this.property_list(e,a,n[0]);if(s<0)throw ve(this._thisDoc,this.lines,e,a,"expected propertylist");return s}subject(e,t,n){return this.item(e,t,n)}verb(e,t,n){var s=this.skipSpace(e,t);if(s<0)return s;var a=new dt([]),s=this.tok("has",e,t);if(s>=0){var t=this.prop(e,s,a);if(t<0)throw ve(this._thisDoc,this.lines,e,s,"expected property after 'has'");return n.push(new ct(["->",a[0]])),t}var s=this.tok("is",e,t);if(s>=0){var t=this.prop(e,s,a);if(t<0)throw ve(this._thisDoc,this.lines,e,s,"expected <property> after 'is'");var s=this.skipSpace(e,t);if(s<0)throw ve(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=s,s=this.tok("of",e,t);if(s<0)throw ve(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return n.push(new ct(["<-",a[0]])),s}var s=this.tok("a",e,t);if(s>=0)return n.push(new ct(["->",this._store.sym(ed)])),s;if(e.slice(t,t+2)=="<=")return n.push(new ct(["<-",this._store.sym(Li+"implies")])),t+2;if(e.slice(t,t+1)=="=")return e.slice(t+1,t+2)==">"?(n.push(new ct(["->",this._store.sym(Li+"implies")])),t+2):(n.push(new ct(["->",this._store.sym(Fs)])),t+1);if(e.slice(t,t+2)==":=")return n.push(new ct(["->",Li+"becomes"])),t+2;var s=this.prop(e,t,a);if(s>=0)return n.push(new ct(["->",a[0]])),s;if(e.slice(t,t+2)==">-"||e.slice(t,t+2)=="<-")throw ve(this._thisDoc,this.lines,e,s,">- ... -> syntax is obsolete.");return-1}prop(e,t,n){return this.item(e,t,n)}item(e,t,n){return this.path(e,t,n)}blankNode(e){return this._context.bnode(e,this._reason2)}path(e,t,n){var a=this.nodeOrLiteral(e,t,n);if(a<0)return a;for(;"!^.".indexOf(e.slice(a,a+1))>=0;){var s=e.slice(a,a+1);if(s=="."&&Xr(e,a))break;var r=n.pop(),l=this.blankNode(this.here(a)),a=this.node(e,a+1,n);if(a<0)throw ve(this._thisDoc,this.lines,e,a,"EOF found in middle of path syntax");var o=n.pop();s=="^"?this.makeStatement(new ct([this._context,o,l,r])):this.makeStatement(new ct([this._context,o,r,l])),n.push(l)}return a}anonymousNode(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}node(e,r,n,a){typeof a>"u"&&(a=null);var s=a,T=this.skipSpace(e,r);if(T<0)return T;var r=T,l=e.slice(r,r+1);if(l=="["){var o=this.here(r),T=this.skipSpace(e,r+1);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"EOF after '['");if(e.slice(T,T+1)=="="){var r=T+1,c=new dt([]),T=this.objectList(e,r,c);if(T>=0){var s=c[0];if(St(c)>1){var h=new Gr(c);try{for(;;){var p=h.next();this.makeStatement(new ct([this._context,this._store.sym(Fs),s,p]))}}catch(H){if(H!=fr)throw H}}var T=this.skipSpace(e,T);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"EOF when objectList expected after [ = ");if(e.slice(T,T+1)==";")var T=T+1}else throw ve(this._thisDoc,this.lines,e,r,"objectList expected after [= ")}if(s==null)var s=this.blankNode(o);var r=this.property_list(e,T,s);if(r<0)throw ve(this._thisDoc,this.lines,e,T,"property_list expected");var T=this.skipSpace(e,r);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"EOF when ']' expected after [ <propertyList>");if(e.slice(T,T+1)==".")return n.push(s),T;if(e.slice(T,T+1)!="]")throw ve(this._thisDoc,this.lines,e,T,"']' expected");return n.push(s),T+1}if(l=="{"){var m=e.slice(r+1,r+2);if(m=="$"){r+=1;for(var T=r+1,y=new dt([]),w=!0;;){var r=this.skipSpace(e,T);if(r<0)throw ve(this._thisDoc,this.lines,e,r,"needed '$}', found end.");if(e.slice(r,r+2)=="$}"){var T=r+2;break}if(w)var w=!1;else if(e.slice(r,r+1)==",")r+=1;else throw ve(this._thisDoc,this.lines,e,r,"expected: ','");var x=new dt([]),T=this.item(e,r,x);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"expected item in set or '$}'");y.push(x[0])}return n.push(this._store.newSet(y,this._context)),T}else{var T=r+1,D=this._parentContext;this._parentContext=this._context;var M=this._anonymousNodes,R=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new ir([]),this._variables=this._variables.slice();var Z=this._reason2;if(this._reason2=Kc,s==null)var s=this._store.formula();for(this._context=s;;){var r=this.skipSpace(e,T);if(r<0)throw ve(this._thisDoc,this.lines,e,r,"needed '}', found end.");if(e.slice(r,r+1)=="}"){var T=r+1;break}var T=this.directiveOrStatement(e,r);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"expected statement or '}'")}return this._anonymousNodes=M,this._variables=this._parentVariables,this._parentVariables=R,this._context=this._parentContext,this._reason2=Z,this._parentContext=D,n.push(s.close()),T}}if(l=="("){var Y=this._store.list,m=e.slice(r+1,r+2);if(m=="$"){var Y=this._store.newSet;r+=1}for(var T=r+1,y=new dt([]);;){var r=this.skipSpace(e,T);if(r<0)throw ve(this._thisDoc,this.lines,e,r,"needed ')', found end.");if(e.slice(r,r+1)==")"){var T=r+1;break}var x=new dt([]),T=this.item(e,r,x);if(T<0)throw ve(this._thisDoc,this.lines,e,r,"expected item in list or ')'");y.push(x[0])}return n.push(Y(y,this._context)),T}var T=this.tok("this",e,r);if(T>=0)throw ve(this._thisDoc,this.lines,e,r,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var T=this.tok("true",e,r);if(T>=0)return n.push(!0),T;var T=this.tok("false",e,r);if(T>=0)return n.push(!1),T;if(s==null){var T=this.uri_ref2(e,r,n);if(T>=0)return T}return-1}property_list(e,t,n){for(;;){var m=this.skipSpace(e,t);if(m<0)throw ve(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(e.slice(m,m+2)==":-"){var t=m+2,a=new dt([]),m=this.node(e,t,a,n);if(m<0)throw ve(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=m;continue}var t=m,s=new dt([]),m=this.verb(e,t,s);if(m<=0)return t;var r=new dt([]),t=this.objectList(e,m,r);if(t<0)throw ve(this._thisDoc,this.lines,e,m,"objectList expected");var l=new Gr(r);try{for(;;){var o=l.next(),c=s[0],h=c[0],p=c[1];h=="->"?this.makeStatement(new ct([this._context,p,n,o])):this.makeStatement(new ct([this._context,p,o,n]))}}catch(w){if(w!=fr)throw w}var m=this.skipSpace(e,t);if(m<0)throw ve(this._thisDoc,this.lines,e,m,"EOF found in list of objects");if(e.slice(t,t+1)!=";")return t;var t=t+1}}commaSeparatedList(e,t,n,a){var s=this.skipSpace(e,t);if(s<0)throw ve(this._thisDoc,this.lines,e,s,"EOF found expecting comma sep list");if(e.charAt(s)==".")return t;if(a)var s=this.uri_ref2(e,s,n);else var s=this.bareWord(e,s,n);if(s<0)return-1;for(;;){var t=this.skipSpace(e,s);if(t<0)return t;var r=e.slice(t,t+1);if(r!=",")return r!="."?-1:t;if(a)var s=this.uri_ref2(e,t+1,n);else var s=this.bareWord(e,t+1,n);if(s<0)throw ve(this._thisDoc,this.lines,e,s,"bad list content")}}objectList(e,a,n){var a=this.object(e,a,n);if(a<0)return-1;for(;;){var s=this.skipSpace(e,a);if(s<0)throw ve(this._thisDoc,this.lines,e,s,"EOF found after object");if(e.slice(s,s+1)!=",")return s;var a=this.object(e,s+1,n);if(a<0)return a}}checkDot(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if(e.slice(n,n+1)==".")return n+1;if(e.slice(n,n+1)=="}"||e.slice(n,n+1)=="]")return n;throw ve(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")}uri_ref2(e,p,n){var a=new dt([]),s=this.qname(e,p,a);if(s>=0){var r=a[0],l=r[0],o=r[1];if(l==null){Tn(0,"not used?");var c=this._baseURI+td}else{var c=this._bindings[l];if(!c){if(l=="_")return n.push(this.anonymousNode(o)),s;throw ve(this._thisDoc,this.lines,e,p,"Prefix "+l+" not bound.")}}var h=this._store.sym(c+o);return It(this._variables,h)>=0?n.push(this._variables[h]):n.push(h),s}var p=this.skipSpace(e,p);if(p<0)return-1;if(e.charAt(p)=="?"){var m=new dt([]),s=this.variable(e,p,m);return s>0?(n.push(m[0]),s):-1}else if(e.charAt(p)=="<"){for(var p=p+1,y=p;p<St(e);){if(e.charAt(p)==">"){var w=e.slice(y,p);if(this._baseURI)var w=$i(this._baseURI,w);else Tn(w.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(e.slice(p-1,p)=="#"&&Ri(w,-1,null)!="#")var w=w+"#";var h=this._store.sym(w);return It(this._variables,h)>=0?n.push(this._variables[h]):n.push(h),p+1}var p=p+1}throw ve(this._thisDoc,this.lines,e,s,"unterminated URI reference")}else if(this.keywordsSet){var m=new dt([]),s=this.bareWord(e,p,m);if(s<0)return-1;if(It(this.keywords,m[0])>=0)throw ve(this._thisDoc,this.lines,e,p,'Keyword "'+m[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+m[0])),s}else return-1}skipSpace(e,t){for(var n=` 
\r	\f\v            ​\u2028\u2029　`,a=t||0;a<e.length;a++){var s=e.charAt(a);if(n.indexOf(s)<0)if(e.charAt(a)==="#")for(;;a++){if(a===e.length)return-1;if(e.charAt(a)===`
`){this.lines=this.lines+1;break}}else return a;else e.charAt(a)===`
`&&(this.lines=this.lines+1)}return-1}variable(e,s,n){var a=this.skipSpace(e,s);if(a<0||e.slice(a,a+1)!="?")return-1;var a=a+1,s=a;if("0123456789-".indexOf(e.charAt(a))>=0)throw ve(this._thisDoc,this.lines,e,a,"Varible name can't start with '"+e.charAt(a)+"s'");for(;s<St(e)&&Mn.indexOf(e.charAt(s))<0;)var s=s+1;if(this._parentContext==null)throw ve(this._thisDoc,this.lines,e,a,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(a-1,s));return n.push(this._store.variable(e.slice(a,s))),s}bareWord(e,r,n){var a=this.skipSpace(e,r);if(a<0)return-1;var s=e.charAt(a);if("0123456789-".indexOf(s)>=0||Mn.indexOf(s)>=0)return-1;for(var r=a;r<St(e);){var l=e.charAt(r);if(l==="."){if(Xr(e,r))break}else if(Mn.indexOf(l)>=0)break;var r=r+1}return n.push(e.slice(a,r)),r}qname(e,a,n){var a=this.skipSpace(e,a);if(a<0)return-1;var s=e.charAt(a);if("0123456789-+".indexOf(s)>=0)return-1;if(Mn.indexOf(s)<0)for(var r=s,a=a+1;a<St(e);){var s=e.charAt(a);if(s==="."){if(Xr(e,a))break}else if(Mn.indexOf(s)>=0)break;var r=r+s,a=a+1}else var r="";if(a<St(e)&&e.charAt(a)==":"){for(var l=r,a=a+1,r="";a<St(e);){var s=e.charAt(a);if(s==="."){if(Xr(e,a))break}else if(Mn.indexOf(s)>=0)break;var r=r+s,a=a+1}return n.push(new ct([l,r])),a}else return r&&this.keywordsSet&&It(this.keywords,r)<0?(n.push(new ct(["",r])),a):-1}object(e,t,n){var a=this.subject(e,t,n);if(a>=0)return a;{var a=this.skipSpace(e,t);if(a<0)return-1;var t=a,s=null;let c=e.charAt(t);if(c=='"'||c=="'"){e.slice(t,t+3==c+c)?s=c+c+c:s=c;var t=t+St(s),r=this.strconst(e,t,s),a=r[0],l=r[1];return n.push(this._store.literal(l)),a}else return-1}}nodeOrLiteral(e,t,n){var a=this.node(e,t,n);if(a>=0)return a;var a=this.skipSpace(e,t);if(a<0)return-1;var t=a,s=e.charAt(t);if("-+0987654321".indexOf(s)>=0){Ls.lastIndex=0;var r=Ls.exec(e.slice(t));if(r!=null){var l=r[0];a=t+l.length,l.indexOf("T")>=0?n.push(this._store.literal(l,this._store.sym(sd))):n.push(this._store.literal(l,this._store.sym(ad)))}else{Mi.lastIndex=0;var r=Mi.exec(e.slice(t));if(r==null)throw ve(this._thisDoc,this.lines,e,t,"Bad number or date syntax");a=t+Mi.lastIndex;var l=e.slice(t,a);l.indexOf("e")>=0?n.push(this._store.literal(parseFloat(l),this._store.sym(rd))):e.slice(t,a).indexOf(".")>=0?n.push(this._store.literal(parseFloat(l),this._store.sym(id))):n.push(this._store.literal(parseInt(l),this._store.sym(nd)))}return a}if(e.charAt(t)=='"'){if(e.slice(t,t+3)=='"""')var o='"""';else var o='"';var t=t+St(o),c=null,h=this.strconst(e,t,o),a=h[0],p=h[1],m=null;if(e.slice(a,a+1)=="@"){Pi.lastIndex=0;var r=Pi.exec(e.slice(a+1));if(r==null)throw ve(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=Pi.lastIndex+a+1,m=e.slice(a+1,t),a=t}if(e.slice(a,a+2)=="^^")var y=new dt([]),a=this.uri_ref2(e,a+2,y),c=y[0];return n.push(this._store.literal(p,m||c)),a}else return-1}strconst(e,t,n){for(var a=t,s="",r=this.lines;a<St(e);){var t=a+St(n);if(e.slice(a,t)==n)return new ct([t,s]);if(e.charAt(a)=='"'){var s=s+'"',a=a+1;continue}Ui.lastIndex=0;var l=Ui.exec(e.slice(a));if(!l)throw ve(this._thisDoc,r,e,a,"Closing quote missing in string at ^ in "+e.slice(a-20,a)+"^"+e.slice(a,a+20));var t=a+Ui.lastIndex-1,s=s+e.slice(a,t),o=e.charAt(t);if(o=='"'){var a=t;continue}else if(o=="\r"){var a=t+1;continue}else if(o==`
`){if(n=='"')throw ve(this._thisDoc,r,e,t,"newline found in string literal");this.lines=this.lines+1;var s=s+o,a=t+1;this.previousLine=this.startOfLine,this.startOfLine=a}else if(o=="\\"){var a=t+1,o=e.slice(a,a+1);if(!o)throw ve(this._thisDoc,r,e,t,"unterminated string literal (2)");var c=Oi('abfrtvn\\"',o);if(c>=0)var h=`a\b\f\r	\v
\\"`.charAt(c),s=s+h,a=a+1;else if(o=="u")var p=this.uEscape(e,a+1,r),a=p[0],o=p[1],s=s+o;else if(o=="U")var p=this.UEscape(e,a+1,r),a=p[0],o=p[1],s=s+o;else throw ve(this._thisDoc,this.lines,e,t,"bad escape")}}throw ve(this._thisDoc,this.lines,e,t,"unterminated string literal")}uEscape(e,t,n){for(var a=t,s=0,r=0;s<4;){var l=e.slice(a,a+1),o=l.toLowerCase(),a=a+1;if(o=="")throw ve(this._thisDoc,n,e,t,"unterminated string literal(3)");var c=Oi("0123456789abcdef",o);if(c<0)throw ve(this._thisDoc,n,e,t,"bad string literal hex escape");var r=r*16+c,s=s+1}var h=String.fromCharCode(r);return new ct([a,h])}UEscape(e,t,n){for(var a=t,s=0,r="\\U";s<8;){var l=e.slice(a,a+1),o=l.toLowerCase(),a=a+1;if(o=="")throw ve(this._thisDoc,n,e,t,"unterminated string literal(3)");var c=Oi("0123456789abcdef",o);if(c<0)throw ve(this._thisDoc,n,e,t,"bad string literal hex escape");var r=r+o,s=s+1}var h=Jc("0x"+Ri(r,2,10)-0);return new ct([a,h])}}function ve(i,e,t,n,a){let s=e+1,r="Line "+s+" of <"+i+">: Bad syntax: "+a+`
at: "`+t.slice(n,n+30)+'"',l=new SyntaxError(r,i,s);return l.lineNo=s,l.characterInFile=n,l.syntaxProblem=a,l}const Yi={...Mt,supports:{[At.collections]:!0,[At.defaultGraphType]:!1,[At.equalsMethod]:!0,[At.identity]:!1,[At.id]:!0,[At.reversibleId]:!1,[At.variableType]:!0},collection(i){return new Pt(i)},id(i){return ca(i)?`( ${i.elements.map(e=>this.id(e)).join(", ")} )`:bc(i)?Bn.toString(i):Mt.id(i)},termToNQ(i){return i.termType===vn?Pt.toNT(i):Mt.termToNQ(i)}},od="modulepreload",cd=function(i){return"/mashlib-next/"+i},Rs={},dd=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=r?.nonce||r?.getAttribute("nonce");a=o(t.map(c=>{if(c=cd(c),c in Rs)return;Rs[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":od,h||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((y,w)=>{m.addEventListener("load",y),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return a.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function pa(i,e){return typeof e=="string"?i.rdfFactory.literal(e):Object.prototype.hasOwnProperty.call(e,"@list")?i.rdfFactory.supports.COLLECTIONS===!0?fd(i,e["@list"]):hd(i,e):Object.prototype.hasOwnProperty.call(e,"@id")?ma(i,e):Object.prototype.hasOwnProperty.call(e,"@language")?i.rdfFactory.literal(e["@value"],e["@language"]):Object.prototype.hasOwnProperty.call(e,"@type")?i.rdfFactory.literal(e["@value"],i.rdfFactory.namedNode(e["@type"])):Object.prototype.hasOwnProperty.call(e,"@value")?i.rdfFactory.literal(e["@value"]):i.rdfFactory.literal(e)}function hd(i,e){const t=e["@id"]?ma(i,e):i.rdfFactory.blankNode(),n=e["@list"].map(s=>pa(i,s)),a=Tl(i.rdfFactory,t,n);return i.addAll(a),t}function fd(i,e){if(!Array.isArray(e))throw new TypeError("Object must be an array");return i.rdfFactory.collection(e.map(t=>pa(i,t)))}async function _l(i,e,t){const n=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return(await(await dd(()=>import("./jsonld-qoqhOTNs.js").then(r=>r.j),[])).default.flatten(JSON.parse(i),null,{base:n})).reduce((r,l)=>kl(r,t,l),e)}function ma(i,e){return e["@id"].startsWith("_:")?i.rdfFactory.blankNode(e["@id"].substring(2)):i.rdfFactory.namedNode(e["@id"])}function kl(i,e,t){const n=t["@id"]?ma(i,t):i.rdfFactory.blankNode();for(const a of Object.keys(t)){if(a==="@id")continue;if(a=="@graph"){const r=n,l=t[a];for(let o=0;o<l.length;o++)i=kl(i,r,l[o])}const s=t[a];if(Array.isArray(s))for(let r=0;r<s.length;r++)i.addStatement(Os(i,n,a,s[r],e));else i.addStatement(Os(i,n,a,s,e))}return i}function Os(i,e,t,n,a){let s,r;return t==="@type"?(s=i.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),r=i.rdfFactory.namedNode(n)):(s=i.rdfFactory.namedNode(t),r=pa(i,n)),i.rdfFactory.quad(e,s,r,i.rdfFactory.namedNode(a))}var qi={},ar={},$s;function pd(){if($s)return ar;$s=1,ar.byteLength=l,ar.toByteArray=c,ar.fromByteArray=m;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=n.length;a<s;++a)i[a]=n[a],e[n.charCodeAt(a)]=a;e[45]=62,e[95]=63;function r(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=w);var D=x===w?0:4-x%4;return[x,D]}function l(y){var w=r(y),x=w[0],D=w[1];return(x+D)*3/4-D}function o(y,w,x){return(w+x)*3/4-x}function c(y){var w,x=r(y),D=x[0],M=x[1],R=new t(o(y,D,M)),Z=0,Y=M>0?D-4:D,T;for(T=0;T<Y;T+=4)w=e[y.charCodeAt(T)]<<18|e[y.charCodeAt(T+1)]<<12|e[y.charCodeAt(T+2)]<<6|e[y.charCodeAt(T+3)],R[Z++]=w>>16&255,R[Z++]=w>>8&255,R[Z++]=w&255;return M===2&&(w=e[y.charCodeAt(T)]<<2|e[y.charCodeAt(T+1)]>>4,R[Z++]=w&255),M===1&&(w=e[y.charCodeAt(T)]<<10|e[y.charCodeAt(T+1)]<<4|e[y.charCodeAt(T+2)]>>2,R[Z++]=w>>8&255,R[Z++]=w&255),R}function h(y){return i[y>>18&63]+i[y>>12&63]+i[y>>6&63]+i[y&63]}function p(y,w,x){for(var D,M=[],R=w;R<x;R+=3)D=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(y[R+2]&255),M.push(h(D));return M.join("")}function m(y){for(var w,x=y.length,D=x%3,M=[],R=16383,Z=0,Y=x-D;Z<Y;Z+=R)M.push(p(y,Z,Z+R>Y?Y:Z+R));return D===1?(w=y[x-1],M.push(i[w>>2]+i[w<<4&63]+"==")):D===2&&(w=(y[x-2]<<8)+y[x-1],M.push(i[w>>10]+i[w>>4&63]+i[w<<2&63]+"=")),M.join("")}return ar}var Wr={};var Ms;function md(){return Ms||(Ms=1,Wr.read=function(i,e,t,n,a){var s,r,l=a*8-n-1,o=(1<<l)-1,c=o>>1,h=-7,p=t?a-1:0,m=t?-1:1,y=i[e+p];for(p+=m,s=y&(1<<-h)-1,y>>=-h,h+=l;h>0;s=s*256+i[e+p],p+=m,h-=8);for(r=s&(1<<-h)-1,s>>=-h,h+=n;h>0;r=r*256+i[e+p],p+=m,h-=8);if(s===0)s=1-c;else{if(s===o)return r?NaN:(y?-1:1)*(1/0);r=r+Math.pow(2,n),s=s-c}return(y?-1:1)*r*Math.pow(2,s-n)},Wr.write=function(i,e,t,n,a,s){var r,l,o,c=s*8-a-1,h=(1<<c)-1,p=h>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,w=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,r=h):(r=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-r))<1&&(r--,o*=2),r+p>=1?e+=m/o:e+=m*Math.pow(2,1-p),e*o>=2&&(r++,o/=2),r+p>=h?(l=0,r=h):r+p>=1?(l=(e*o-1)*Math.pow(2,a),r=r+p):(l=e*Math.pow(2,p-1)*Math.pow(2,a),r=0));a>=8;i[t+y]=l&255,y+=w,l/=256,a-=8);for(r=r<<a|l,c+=a;c>0;i[t+y]=r&255,y+=w,r/=256,c-=8);i[t+y-w]|=x*128}),Wr}var Us;function gd(){return Us||(Us=1,(function(i){const e=pd(),t=md(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=R,i.INSPECT_MAX_BYTES=50;const a=2147483647;i.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const b=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(b,f),b.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function r(b){if(b>a)throw new RangeError('The value "'+b+'" is invalid for option "size"');const f=new Uint8Array(b);return Object.setPrototypeOf(f,l.prototype),f}function l(b,f,g){if(typeof b=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(b)}return o(b,f,g)}l.poolSize=8192;function o(b,f,g){if(typeof b=="string")return m(b,f);if(ArrayBuffer.isView(b))return w(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(Re(b,ArrayBuffer)||b&&Re(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(b,SharedArrayBuffer)||b&&Re(b.buffer,SharedArrayBuffer)))return x(b,f,g);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=b.valueOf&&b.valueOf();if(k!=null&&k!==b)return l.from(k,f,g);const z=D(b);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return l.from(b[Symbol.toPrimitive]("string"),f,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}l.from=function(b,f,g){return o(b,f,g)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function c(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function h(b,f,g){return c(b),b<=0?r(b):f!==void 0?typeof g=="string"?r(b).fill(f,g):r(b).fill(f):r(b)}l.alloc=function(b,f,g){return h(b,f,g)};function p(b){return c(b),r(b<0?0:M(b)|0)}l.allocUnsafe=function(b){return p(b)},l.allocUnsafeSlow=function(b){return p(b)};function m(b,f){if((typeof f!="string"||f==="")&&(f="utf8"),!l.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const g=Z(b,f)|0;let k=r(g);const z=k.write(b,f);return z!==g&&(k=k.slice(0,z)),k}function y(b){const f=b.length<0?0:M(b.length)|0,g=r(f);for(let k=0;k<f;k+=1)g[k]=b[k]&255;return g}function w(b){if(Re(b,Uint8Array)){const f=new Uint8Array(b);return x(f.buffer,f.byteOffset,f.byteLength)}return y(b)}function x(b,f,g){if(f<0||b.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<f+(g||0))throw new RangeError('"length" is outside of buffer bounds');let k;return f===void 0&&g===void 0?k=new Uint8Array(b):g===void 0?k=new Uint8Array(b,f):k=new Uint8Array(b,f,g),Object.setPrototypeOf(k,l.prototype),k}function D(b){if(l.isBuffer(b)){const f=M(b.length)|0,g=r(f);return g.length===0||b.copy(g,0,0,f),g}if(b.length!==void 0)return typeof b.length!="number"||kt(b.length)?r(0):y(b);if(b.type==="Buffer"&&Array.isArray(b.data))return y(b.data)}function M(b){if(b>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return b|0}function R(b){return+b!=b&&(b=0),l.alloc(+b)}l.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==l.prototype},l.compare=function(f,g){if(Re(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),Re(g,Uint8Array)&&(g=l.from(g,g.offset,g.byteLength)),!l.isBuffer(f)||!l.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===g)return 0;let k=f.length,z=g.length;for(let W=0,ee=Math.min(k,z);W<ee;++W)if(f[W]!==g[W]){k=f[W],z=g[W];break}return k<z?-1:z<k?1:0},l.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(f,g){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return l.alloc(0);let k;if(g===void 0)for(g=0,k=0;k<f.length;++k)g+=f[k].length;const z=l.allocUnsafe(g);let W=0;for(k=0;k<f.length;++k){let ee=f[k];if(Re(ee,Uint8Array))W+ee.length>z.length?(l.isBuffer(ee)||(ee=l.from(ee)),ee.copy(z,W)):Uint8Array.prototype.set.call(z,ee,W);else if(l.isBuffer(ee))ee.copy(z,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=ee.length}return z};function Z(b,f){if(l.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||Re(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const g=b.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&g===0)return 0;let z=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return se(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return Dt(b).length;default:if(z)return k?-1:se(b).length;f=(""+f).toLowerCase(),z=!0}}l.byteLength=Z;function Y(b,f,g){let k=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,f>>>=0,g<=f))return"";for(b||(b="utf8");;)switch(b){case"hex":return ie(this,f,g);case"utf8":case"utf-8":return te(this,f,g);case"ascii":return J(this,f,g);case"latin1":case"binary":return re(this,f,g);case"base64":return K(this,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,f,g);default:if(k)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),k=!0}}l.prototype._isBuffer=!0;function T(b,f,g){const k=b[f];b[f]=b[g],b[g]=k}l.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<f;g+=2)T(this,g,g+1);return this},l.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<f;g+=4)T(this,g,g+3),T(this,g+1,g+2);return this},l.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<f;g+=8)T(this,g,g+7),T(this,g+1,g+6),T(this,g+2,g+5),T(this,g+3,g+4);return this},l.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?te(this,0,f):Y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(f){if(!l.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:l.compare(this,f)===0},l.prototype.inspect=function(){let f="";const g=i.INSPECT_MAX_BYTES;return f=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(f+=" ... "),"<Buffer "+f+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(f,g,k,z,W){if(Re(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(g===void 0&&(g=0),k===void 0&&(k=f?f.length:0),z===void 0&&(z=0),W===void 0&&(W=this.length),g<0||k>f.length||z<0||W>this.length)throw new RangeError("out of range index");if(z>=W&&g>=k)return 0;if(z>=W)return-1;if(g>=k)return 1;if(g>>>=0,k>>>=0,z>>>=0,W>>>=0,this===f)return 0;let ee=W-z,xe=k-g;const Xe=Math.min(ee,xe),qe=this.slice(z,W),je=f.slice(g,k);for(let Se=0;Se<Xe;++Se)if(qe[Se]!==je[Se]){ee=qe[Se],xe=je[Se];break}return ee<xe?-1:xe<ee?1:0};function V(b,f,g,k,z){if(b.length===0)return-1;if(typeof g=="string"?(k=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,kt(g)&&(g=z?0:b.length-1),g<0&&(g=b.length+g),g>=b.length){if(z)return-1;g=b.length-1}else if(g<0)if(z)g=0;else return-1;if(typeof f=="string"&&(f=l.from(f,k)),l.isBuffer(f))return f.length===0?-1:$(b,f,g,k,z);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(b,f,g):Uint8Array.prototype.lastIndexOf.call(b,f,g):$(b,[f],g,k,z);throw new TypeError("val must be string, number or Buffer")}function $(b,f,g,k,z){let W=1,ee=b.length,xe=f.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(b.length<2||f.length<2)return-1;W=2,ee/=2,xe/=2,g/=2}function Xe(je,Se){return W===1?je[Se]:je.readUInt16BE(Se*W)}let qe;if(z){let je=-1;for(qe=g;qe<ee;qe++)if(Xe(b,qe)===Xe(f,je===-1?0:qe-je)){if(je===-1&&(je=qe),qe-je+1===xe)return je*W}else je!==-1&&(qe-=qe-je),je=-1}else for(g+xe>ee&&(g=ee-xe),qe=g;qe>=0;qe--){let je=!0;for(let Se=0;Se<xe;Se++)if(Xe(b,qe+Se)!==Xe(f,Se)){je=!1;break}if(je)return qe}return-1}l.prototype.includes=function(f,g,k){return this.indexOf(f,g,k)!==-1},l.prototype.indexOf=function(f,g,k){return V(this,f,g,k,!0)},l.prototype.lastIndexOf=function(f,g,k){return V(this,f,g,k,!1)};function q(b,f,g,k){g=Number(g)||0;const z=b.length-g;k?(k=Number(k),k>z&&(k=z)):k=z;const W=f.length;k>W/2&&(k=W/2);let ee;for(ee=0;ee<k;++ee){const xe=parseInt(f.substr(ee*2,2),16);if(kt(xe))return ee;b[g+ee]=xe}return ee}function F(b,f,g,k){return Oe(se(f,b.length-g),b,g,k)}function P(b,f,g,k){return Oe(ke(f),b,g,k)}function j(b,f,g,k){return Oe(Dt(f),b,g,k)}function H(b,f,g,k){return Oe(lt(f,b.length-g),b,g,k)}l.prototype.write=function(f,g,k,z){if(g===void 0)z="utf8",k=this.length,g=0;else if(k===void 0&&typeof g=="string")z=g,k=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(k)?(k=k>>>0,z===void 0&&(z="utf8")):(z=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-g;if((k===void 0||k>W)&&(k=W),f.length>0&&(k<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let ee=!1;for(;;)switch(z){case"hex":return q(this,f,g,k);case"utf8":case"utf-8":return F(this,f,g,k);case"ascii":case"latin1":case"binary":return P(this,f,g,k);case"base64":return j(this,f,g,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,f,g,k);default:if(ee)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(b,f,g){return f===0&&g===b.length?e.fromByteArray(b):e.fromByteArray(b.slice(f,g))}function te(b,f,g){g=Math.min(b.length,g);const k=[];let z=f;for(;z<g;){const W=b[z];let ee=null,xe=W>239?4:W>223?3:W>191?2:1;if(z+xe<=g){let Xe,qe,je,Se;switch(xe){case 1:W<128&&(ee=W);break;case 2:Xe=b[z+1],(Xe&192)===128&&(Se=(W&31)<<6|Xe&63,Se>127&&(ee=Se));break;case 3:Xe=b[z+1],qe=b[z+2],(Xe&192)===128&&(qe&192)===128&&(Se=(W&15)<<12|(Xe&63)<<6|qe&63,Se>2047&&(Se<55296||Se>57343)&&(ee=Se));break;case 4:Xe=b[z+1],qe=b[z+2],je=b[z+3],(Xe&192)===128&&(qe&192)===128&&(je&192)===128&&(Se=(W&15)<<18|(Xe&63)<<12|(qe&63)<<6|je&63,Se>65535&&Se<1114112&&(ee=Se))}}ee===null?(ee=65533,xe=1):ee>65535&&(ee-=65536,k.push(ee>>>10&1023|55296),ee=56320|ee&1023),k.push(ee),z+=xe}return G(k)}const I=4096;function G(b){const f=b.length;if(f<=I)return String.fromCharCode.apply(String,b);let g="",k=0;for(;k<f;)g+=String.fromCharCode.apply(String,b.slice(k,k+=I));return g}function J(b,f,g){let k="";g=Math.min(b.length,g);for(let z=f;z<g;++z)k+=String.fromCharCode(b[z]&127);return k}function re(b,f,g){let k="";g=Math.min(b.length,g);for(let z=f;z<g;++z)k+=String.fromCharCode(b[z]);return k}function ie(b,f,g){const k=b.length;(!f||f<0)&&(f=0),(!g||g<0||g>k)&&(g=k);let z="";for(let W=f;W<g;++W)z+=en[b[W]];return z}function ue(b,f,g){const k=b.slice(f,g);let z="";for(let W=0;W<k.length-1;W+=2)z+=String.fromCharCode(k[W]+k[W+1]*256);return z}l.prototype.slice=function(f,g){const k=this.length;f=~~f,g=g===void 0?k:~~g,f<0?(f+=k,f<0&&(f=0)):f>k&&(f=k),g<0?(g+=k,g<0&&(g=0)):g>k&&(g=k),g<f&&(g=f);const z=this.subarray(f,g);return Object.setPrototypeOf(z,l.prototype),z};function ne(b,f,g){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+f>g)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(f,g,k){f=f>>>0,g=g>>>0,k||ne(f,g,this.length);let z=this[f],W=1,ee=0;for(;++ee<g&&(W*=256);)z+=this[f+ee]*W;return z},l.prototype.readUintBE=l.prototype.readUIntBE=function(f,g,k){f=f>>>0,g=g>>>0,k||ne(f,g,this.length);let z=this[f+--g],W=1;for(;g>0&&(W*=256);)z+=this[f+--g]*W;return z},l.prototype.readUint8=l.prototype.readUInt8=function(f,g){return f=f>>>0,g||ne(f,1,this.length),this[f]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(f,g){return f=f>>>0,g||ne(f,2,this.length),this[f]|this[f+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(f,g){return f=f>>>0,g||ne(f,2,this.length),this[f]<<8|this[f+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},l.prototype.readBigUInt64LE=xt(function(f){f=f>>>0,Le(f,"offset");const g=this[f],k=this[f+7];(g===void 0||k===void 0)&&De(f,this.length-8);const z=g+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,W=this[++f]+this[++f]*2**8+this[++f]*2**16+k*2**24;return BigInt(z)+(BigInt(W)<<BigInt(32))}),l.prototype.readBigUInt64BE=xt(function(f){f=f>>>0,Le(f,"offset");const g=this[f],k=this[f+7];(g===void 0||k===void 0)&&De(f,this.length-8);const z=g*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],W=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+k;return(BigInt(z)<<BigInt(32))+BigInt(W)}),l.prototype.readIntLE=function(f,g,k){f=f>>>0,g=g>>>0,k||ne(f,g,this.length);let z=this[f],W=1,ee=0;for(;++ee<g&&(W*=256);)z+=this[f+ee]*W;return W*=128,z>=W&&(z-=Math.pow(2,8*g)),z},l.prototype.readIntBE=function(f,g,k){f=f>>>0,g=g>>>0,k||ne(f,g,this.length);let z=g,W=1,ee=this[f+--z];for(;z>0&&(W*=256);)ee+=this[f+--z]*W;return W*=128,ee>=W&&(ee-=Math.pow(2,8*g)),ee},l.prototype.readInt8=function(f,g){return f=f>>>0,g||ne(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},l.prototype.readInt16LE=function(f,g){f=f>>>0,g||ne(f,2,this.length);const k=this[f]|this[f+1]<<8;return k&32768?k|4294901760:k},l.prototype.readInt16BE=function(f,g){f=f>>>0,g||ne(f,2,this.length);const k=this[f+1]|this[f]<<8;return k&32768?k|4294901760:k},l.prototype.readInt32LE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},l.prototype.readInt32BE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},l.prototype.readBigInt64LE=xt(function(f){f=f>>>0,Le(f,"offset");const g=this[f],k=this[f+7];(g===void 0||k===void 0)&&De(f,this.length-8);const z=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(k<<24);return(BigInt(z)<<BigInt(32))+BigInt(g+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),l.prototype.readBigInt64BE=xt(function(f){f=f>>>0,Le(f,"offset");const g=this[f],k=this[f+7];(g===void 0||k===void 0)&&De(f,this.length-8);const z=(g<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(z)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+k)}),l.prototype.readFloatLE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),t.read(this,f,!0,23,4)},l.prototype.readFloatBE=function(f,g){return f=f>>>0,g||ne(f,4,this.length),t.read(this,f,!1,23,4)},l.prototype.readDoubleLE=function(f,g){return f=f>>>0,g||ne(f,8,this.length),t.read(this,f,!0,52,8)},l.prototype.readDoubleBE=function(f,g){return f=f>>>0,g||ne(f,8,this.length),t.read(this,f,!1,52,8)};function ge(b,f,g,k,z,W){if(!l.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>z||f<W)throw new RangeError('"value" argument is out of bounds');if(g+k>b.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(f,g,k,z){if(f=+f,g=g>>>0,k=k>>>0,!z){const xe=Math.pow(2,8*k)-1;ge(this,f,g,k,xe,0)}let W=1,ee=0;for(this[g]=f&255;++ee<k&&(W*=256);)this[g+ee]=f/W&255;return g+k},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(f,g,k,z){if(f=+f,g=g>>>0,k=k>>>0,!z){const xe=Math.pow(2,8*k)-1;ge(this,f,g,k,xe,0)}let W=k-1,ee=1;for(this[g+W]=f&255;--W>=0&&(ee*=256);)this[g+W]=f/ee&255;return g+k},l.prototype.writeUint8=l.prototype.writeUInt8=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,1,255,0),this[g]=f&255,g+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,2,65535,0),this[g]=f&255,this[g+1]=f>>>8,g+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,2,65535,0),this[g]=f>>>8,this[g+1]=f&255,g+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,4,4294967295,0),this[g+3]=f>>>24,this[g+2]=f>>>16,this[g+1]=f>>>8,this[g]=f&255,g+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,4,4294967295,0),this[g]=f>>>24,this[g+1]=f>>>16,this[g+2]=f>>>8,this[g+3]=f&255,g+4};function Fe(b,f,g,k,z){Ae(f,k,z,b,g,7);let W=Number(f&BigInt(4294967295));b[g++]=W,W=W>>8,b[g++]=W,W=W>>8,b[g++]=W,W=W>>8,b[g++]=W;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return b[g++]=ee,ee=ee>>8,b[g++]=ee,ee=ee>>8,b[g++]=ee,ee=ee>>8,b[g++]=ee,g}function pe(b,f,g,k,z){Ae(f,k,z,b,g,7);let W=Number(f&BigInt(4294967295));b[g+7]=W,W=W>>8,b[g+6]=W,W=W>>8,b[g+5]=W,W=W>>8,b[g+4]=W;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return b[g+3]=ee,ee=ee>>8,b[g+2]=ee,ee=ee>>8,b[g+1]=ee,ee=ee>>8,b[g]=ee,g+8}l.prototype.writeBigUInt64LE=xt(function(f,g=0){return Fe(this,f,g,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=xt(function(f,g=0){return pe(this,f,g,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(f,g,k,z){if(f=+f,g=g>>>0,!z){const Xe=Math.pow(2,8*k-1);ge(this,f,g,k,Xe-1,-Xe)}let W=0,ee=1,xe=0;for(this[g]=f&255;++W<k&&(ee*=256);)f<0&&xe===0&&this[g+W-1]!==0&&(xe=1),this[g+W]=(f/ee>>0)-xe&255;return g+k},l.prototype.writeIntBE=function(f,g,k,z){if(f=+f,g=g>>>0,!z){const Xe=Math.pow(2,8*k-1);ge(this,f,g,k,Xe-1,-Xe)}let W=k-1,ee=1,xe=0;for(this[g+W]=f&255;--W>=0&&(ee*=256);)f<0&&xe===0&&this[g+W+1]!==0&&(xe=1),this[g+W]=(f/ee>>0)-xe&255;return g+k},l.prototype.writeInt8=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,1,127,-128),f<0&&(f=255+f+1),this[g]=f&255,g+1},l.prototype.writeInt16LE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,2,32767,-32768),this[g]=f&255,this[g+1]=f>>>8,g+2},l.prototype.writeInt16BE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,2,32767,-32768),this[g]=f>>>8,this[g+1]=f&255,g+2},l.prototype.writeInt32LE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,4,2147483647,-2147483648),this[g]=f&255,this[g+1]=f>>>8,this[g+2]=f>>>16,this[g+3]=f>>>24,g+4},l.prototype.writeInt32BE=function(f,g,k){return f=+f,g=g>>>0,k||ge(this,f,g,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[g]=f>>>24,this[g+1]=f>>>16,this[g+2]=f>>>8,this[g+3]=f&255,g+4},l.prototype.writeBigInt64LE=xt(function(f,g=0){return Fe(this,f,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=xt(function(f,g=0){return pe(this,f,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(b,f,g,k,z,W){if(g+k>b.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Pe(b,f,g,k,z){return f=+f,g=g>>>0,z||Ee(b,f,g,4),t.write(b,f,g,k,23,4),g+4}l.prototype.writeFloatLE=function(f,g,k){return Pe(this,f,g,!0,k)},l.prototype.writeFloatBE=function(f,g,k){return Pe(this,f,g,!1,k)};function Ke(b,f,g,k,z){return f=+f,g=g>>>0,z||Ee(b,f,g,8),t.write(b,f,g,k,52,8),g+8}l.prototype.writeDoubleLE=function(f,g,k){return Ke(this,f,g,!0,k)},l.prototype.writeDoubleBE=function(f,g,k){return Ke(this,f,g,!1,k)},l.prototype.copy=function(f,g,k,z){if(!l.isBuffer(f))throw new TypeError("argument should be a Buffer");if(k||(k=0),!z&&z!==0&&(z=this.length),g>=f.length&&(g=f.length),g||(g=0),z>0&&z<k&&(z=k),z===k||f.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),f.length-g<z-k&&(z=f.length-g+k);const W=z-k;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,k,z):Uint8Array.prototype.set.call(f,this.subarray(k,z),g),W},l.prototype.fill=function(f,g,k,z){if(typeof f=="string"){if(typeof g=="string"?(z=g,g=0,k=this.length):typeof k=="string"&&(z=k,k=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!l.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(f.length===1){const ee=f.charCodeAt(0);(z==="utf8"&&ee<128||z==="latin1")&&(f=ee)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(g<0||this.length<g||this.length<k)throw new RangeError("Out of range index");if(k<=g)return this;g=g>>>0,k=k===void 0?this.length:k>>>0,f||(f=0);let W;if(typeof f=="number")for(W=g;W<k;++W)this[W]=f;else{const ee=l.isBuffer(f)?f:l.from(f,z),xe=ee.length;if(xe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(W=0;W<k-g;++W)this[W+g]=ee[W%xe]}return this};const Te={};function ze(b,f,g){Te[b]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}ze("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ze("ERR_INVALID_ARG_TYPE",function(b,f){return`The "${b}" argument must be of type number. Received type ${typeof f}`},TypeError),ze("ERR_OUT_OF_RANGE",function(b,f,g){let k=`The value of "${b}" is out of range.`,z=g;return Number.isInteger(g)&&Math.abs(g)>2**32?z=ft(String(g)):typeof g=="bigint"&&(z=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(z=ft(z)),z+="n"),k+=` It must be ${f}. Received ${z}`,k},RangeError);function ft(b){let f="",g=b.length;const k=b[0]==="-"?1:0;for(;g>=k+4;g-=3)f=`_${b.slice(g-3,g)}${f}`;return`${b.slice(0,g)}${f}`}function at(b,f,g){Le(f,"offset"),(b[f]===void 0||b[f+g]===void 0)&&De(f,b.length-(g+1))}function Ae(b,f,g,k,z,W){if(b>g||b<f){const ee=typeof f=="bigint"?"n":"";let xe;throw f===0||f===BigInt(0)?xe=`>= 0${ee} and < 2${ee} ** ${(W+1)*8}${ee}`:xe=`>= -(2${ee} ** ${(W+1)*8-1}${ee}) and < 2 ** ${(W+1)*8-1}${ee}`,new Te.ERR_OUT_OF_RANGE("value",xe,b)}at(k,z,W)}function Le(b,f){if(typeof b!="number")throw new Te.ERR_INVALID_ARG_TYPE(f,"number",b)}function De(b,f,g){throw Math.floor(b)!==b?(Le(b,g),new Te.ERR_OUT_OF_RANGE("offset","an integer",b)):f<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,b)}const bt=/[^+/0-9A-Za-z-_]/g;function Ge(b){if(b=b.split("=")[0],b=b.trim().replace(bt,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function se(b,f){f=f||1/0;let g;const k=b.length;let z=null;const W=[];for(let ee=0;ee<k;++ee){if(g=b.charCodeAt(ee),g>55295&&g<57344){if(!z){if(g>56319){(f-=3)>-1&&W.push(239,191,189);continue}else if(ee+1===k){(f-=3)>-1&&W.push(239,191,189);continue}z=g;continue}if(g<56320){(f-=3)>-1&&W.push(239,191,189),z=g;continue}g=(z-55296<<10|g-56320)+65536}else z&&(f-=3)>-1&&W.push(239,191,189);if(z=null,g<128){if((f-=1)<0)break;W.push(g)}else if(g<2048){if((f-=2)<0)break;W.push(g>>6|192,g&63|128)}else if(g<65536){if((f-=3)<0)break;W.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((f-=4)<0)break;W.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return W}function ke(b){const f=[];for(let g=0;g<b.length;++g)f.push(b.charCodeAt(g)&255);return f}function lt(b,f){let g,k,z;const W=[];for(let ee=0;ee<b.length&&!((f-=2)<0);++ee)g=b.charCodeAt(ee),k=g>>8,z=g%256,W.push(z),W.push(k);return W}function Dt(b){return e.toByteArray(Ge(b))}function Oe(b,f,g,k){let z;for(z=0;z<k&&!(z+g>=f.length||z>=b.length);++z)f[z+g]=b[z];return z}function Re(b,f){return b instanceof f||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===f.name}function kt(b){return b!==b}const en=(function(){const b="0123456789abcdef",f=new Array(256);for(let g=0;g<16;++g){const k=g*16;for(let z=0;z<16;++z)f[k+z]=b[g]+b[z]}return f})();function xt(b){return typeof BigInt>"u"?wn:b}function wn(){throw new Error("BigInt not supported")}})(qi)),qi}var vd=gd();const sr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",lr="http://www.w3.org/2001/XMLSchema#",Qr="http://www.w3.org/2000/10/swap/",$t={xsd:{decimal:`${lr}decimal`,boolean:`${lr}boolean`,double:`${lr}double`,integer:`${lr}integer`,string:`${lr}string`},rdf:{type:`${sr}type`,nil:`${sr}nil`,first:`${sr}first`,rest:`${sr}rest`,langString:`${sr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Qr}reify#forSome`,forAll:`${Qr}reify#forAll`},log:{implies:`${Qr}log#implies`,isImpliedBy:`${Qr}log#isImpliedBy`}},{xsd:Yr}=$t,yd=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Ps={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},wd=/[\x00-\x20<>\\"\{\}\|\^\`]/,Ed={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Cd=/$0^/;class bd{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in Ed)&&this[t]instanceof RegExp&&(this[t]=Cd)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,a=n.length;for(;;){let l,o;for(;l=this._newline.exec(n);)this.comments&&(o=this._comment.exec(l[0]))&&s("comment",o[1],"",this._line,l[0].length),n=n.substr(l[0].length,n.length),a=n.length,this._line++;if(!l&&(l=this._whitespace.exec(n))&&(n=n.substr(l[0].length,n.length)),this._endOfFile.test(n))return t&&(this.comments&&(o=this._comment.exec(n))&&s("comment",o[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const c=this._line,h=n[0];let p="",m="",y="",w=null,x=0,D=!1;switch(h){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){D=!0;break}}else{this._n3Mode&&(x=1,p="^");break}case"<":if(w=this._unescapedIri.exec(n))p="IRI",m=w[1];else if(w=this._iri.exec(n)){if(m=this._unescape(w[1]),m===null||wd.test(m))return r(this);p="IRI"}else n.length>1&&n[1]==="<"?(p="<<",x=2):this._n3Mode&&n.length>1&&n[1]==="="&&(x=2,this._isImpliedBy?(p="abbreviation",m="<"):(p="inverse",m=">"));break;case">":n.length>1&&n[1]===">"&&(p=">>",x=2);break;case"_":((w=this._blank.exec(n))||t&&(w=this._blank.exec(`${n} `)))&&(p="blank",y="_",m=w[1]);break;case'"':if(w=this._simpleQuotedString.exec(n))m=w[1];else if({value:m,matchLength:x}=this._parseLiteral(n),m===null)return r(this);(w!==null||x!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(w=this._simpleApostropheString.exec(n))m=w[1];else if({value:m,matchLength:x}=this._parseLiteral(n),m===null)return r(this);(w!==null||x!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(w=this._variable.exec(n))&&(p="var",m=w[0]);break;case"@":this._previousMarker==="literal"&&(w=this._langcode.exec(n))?(p="langcode",m=w[1]):(w=this._keyword.exec(n))&&(p=w[0]);break;case".":if(n.length===1?t:n[1]<"0"||n[1]>"9"){p=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(w=this._number.exec(n)||t&&(w=this._number.exec(`${n} `)))&&(p="literal",m=w[0],y=typeof w[1]=="string"?Yr.double:typeof w[2]=="string"?Yr.decimal:Yr.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(w=this._sparqlKeyword.exec(n))?p=w[0].toUpperCase():D=!0;break;case"f":case"t":(w=this._boolean.exec(n))?(p="literal",m=w[0],y=Yr.boolean):D=!0;break;case"a":(w=this._shortPredicates.exec(n))?(p="abbreviation",m="a"):D=!0;break;case"=":this._n3Mode&&n.length>1&&(p="abbreviation",n[1]!==">"?(x=1,m="="):(x=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,p=h);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(p="{|",x=2):(p=h,x=1));break;case"|":n.length>=2&&n[1]==="}"&&(p="|}",x=2);break;default:D=!0}if(D&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(w=this._prefix.exec(n))?(p="prefix",m=w[1]||""):((w=this._prefixed.exec(n))||t&&(w=this._prefixed.exec(`${n} `)))&&(p="prefixed",y=w[1]||"",m=this._unescape(w[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?r(this):this._input=n;const M=x||w[0].length,R=s(p,m,y,c,M);this.previousToken=R,this._previousMarker=p,n=n.substr(M,n.length)}function s(l,o,c,h,p){const m=n?a-n.length:a,y=m+p,w={type:l,value:o,prefix:c,line:h,start:m,end:y};return e(null,w),w}function r(l){e(l._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(yd,(a,s,r,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof r=="string"){let o=Number.parseInt(r,16);return o<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((o-=65536)>>10),56320+(o&1023))}return l in Ps?Ps[l]:(t=!0,"")});return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(t,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const r=e.substring(n,a),l=r.split(/\r\n|\r|\n/).length-1,o=a+n;if(n===1&&l!==0||n===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(r),matchLength:o}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")queueMicrotask(()=>this._tokenizeToEnd(t,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,r)=>s?a=s:n.push(r),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=vd.Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:xd,xsd:Vn}=$t;let Nr,Nd=0;const Td={namedNode:Bl,blankNode:Fl,variable:Rl,literal:Ll,defaultGraph:kd,quad:Zi,triple:Zi,fromTerm:pr,fromQuad:Ol};class hn{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof hn?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Sl extends hn{get termType(){return"NamedNode"}}class mr extends hn{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new Sl(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return n==="^"?e.substr(t+2):n!=="@"?Vn.string:xd.langString}equals(e){return e instanceof mr?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Ad extends hn{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Dd extends hn{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class _d extends hn{constructor(){return super(""),Nr||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}Nr=new _d;class Il extends hn{constructor(e,t,n,a){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=a||Nr}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function Bl(i){return new Sl(i)}function Fl(i){return new Ad(i||`n3-${Nd++}`)}function Ll(i,e){if(typeof e=="string")return new mr(`"${i}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof i=="boolean"?t=Vn.boolean:typeof i=="number"&&(Number.isFinite(i)?t=Number.isInteger(i)?Vn.integer:Vn.double:(t=Vn.double,Number.isNaN(i)||(i=i>0?"INF":"-INF")))),t===""||t===Vn.string?new mr(`"${i}"`):new mr(`"${i}"^^${t}`)}function Rl(i){return new Dd(i)}function kd(){return Nr}function Zi(i,e,t,n){return new Il(i,e,t,n)}function pr(i){if(i instanceof hn)return i;switch(i.termType){case"NamedNode":return Bl(i.value);case"BlankNode":return Fl(i.value);case"Variable":return Rl(i.value);case"DefaultGraph":return Nr;case"Literal":return Ll(i.value,i.language||i.datatype);case"Quad":return Ol(i);default:throw new Error(`Unexpected termType: ${i.termType}`)}}function Ol(i){if(i instanceof Il)return i;if(i.termType!=="Quad")throw new Error(`Unexpected termType: ${i.termType}`);return Zi(pr(i.subject),pr(i.predicate),pr(i.object),pr(i.graph))}let qs=0;class $l{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Ml(this,e.factory);const t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),a=/trig/.test(t),s=/triple/.test(t),r=/quad/.test(t),l=this._n3Mode=/n3/.test(t),o=s||r;(this._supportsNamedGraphs=!(n||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||l),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=t===""||/star|\*$/.test(t),o&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new bd({lineMode:o,n3:l,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){qs=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,n,a,s){const r=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:s,graph:t,inverse:r?this._inversePredicate:!1,blankPrefix:r?this._prefixes._:"",quantified:r?this._quantified:null}),r&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._factory.namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._factory.namedNode(s+e.value);break;case"blank":n=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,a=this._readListItem;const s=this._subject,r=this._contextStack,l=r[r.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),r.length!==0&&r[r.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),s===null?l.predicate===null?l.subject=n:l.object=n:this._emit(s,this.RDF_REST,n,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;t=this._factory.literal(this._literalValue,n),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const r=this._predicate,l=this._object;this._subject=this._factory.quad(a,r,l,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const r=this._predicate,l=this._object;s?this._emit(l,r,a,n):this._emit(a,r,l,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const a=this._factory.blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=a):(t=this._object,this._object=a),this._emit(t,n,a,this._graph),this._readPath}_readBackwardPath(e){const t=this._factory.blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=t):(a=this._object,this._object=t),this._emit(t,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,a){this._callback(null,this._factory.quad(e,t,n,a||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Zr}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",a=-1,s=-1,r=0,l="/";for(;a<t;){switch(l){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<t&&e[s]!=="/";)a=s;break;case"?":case"#":a=t;break;case"/":if(e[a+1]===".")switch(l=e[++a+1],l){case"/":n+=e.substring(r,a-1),r=a+1;break;case void 0:case"?":case"#":return n+e.substring(r,a)+e.substr(a+1);case".":if(l=e[++a+1],l===void 0||l==="/"||l==="?"||l==="#"){if(n+=e.substring(r,a-2),(r=n.lastIndexOf("/"))>=s&&(n=n.substr(0,r)),l!=="/")return`${n}/${e.substr(a+1)}`;r=a+1}}}l=e[++a]}return n+e.substring(r)}parse(e,t,n){let a,s,r;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(a=t.onQuad,s=t.onPrefix,r=t.onComment):(a=t,s=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${qs++}_`,this._prefixCallback=s||Zr,this._inversePredicate=!1,this._quantified=Object.create(null),!a){const o=[];let c;if(this._callback=(h,p)=>{h?c=h:p&&o.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),c)throw c;return o}let l=(o,c)=>{o!==null?(this._callback(o),this._callback=Zr):this._readCallback&&(this._readCallback=this._readCallback(c))};r&&(this._lexer.comments=!0,l=(o,c)=>{o!==null?(this._callback(o),this._callback=Zr):this._readCallback&&(c.type==="comment"?r(c.value):this._readCallback=this._readCallback(c))}),this._callback=a,this._lexer.tokenize(e,l)}}function Zr(){}function Ml(i,e){i._factory=e,i.DEFAULTGRAPH=e.defaultGraph(),i.RDF_FIRST=e.namedNode($t.rdf.first),i.RDF_REST=e.namedNode($t.rdf.rest),i.RDF_NIL=e.namedNode($t.rdf.nil),i.N3_FORALL=e.namedNode($t.r.forAll),i.N3_FORSOME=e.namedNode($t.r.forSome),i.ABBREVIATIONS={a:e.namedNode($t.rdf.type),"=":e.namedNode($t.owl.sameAs),">":e.namedNode($t.log.implies),"<":e.namedNode($t.log.isImpliedBy)},i.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}Ml($l.prototype,Td);if(typeof pn>"u")var pn={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};class ye{constructor(e,t){this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}addTriple(e,t,n,a){var s,r,l,o;typeof t>"u"?s=Mt.namedNode(this.options.base):s=this.toRDFNodeObject(t),l=this.toRDFNodeObject(n),r=this.toRDFNodeObject(a),o=Mt.namedNode(this.options.base),this.kb.add(s,l,r,o)}ancestorPath(e){for(var t="";e&&e.nodeType!==pn.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}copyMappings(e){var t={};for(var n in e)t[n]=e[n];return t}copyProperties(){}deriveDateTimeType(e){for(var t=0;t<ye.dateTimeTypes.length;t++){var n=ye.dateTimeTypes[t].pattern.exec(e);if(n&&n[0].length===e.length)return ye.dateTimeTypes[t].type}return null}init(){}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}newSubjectOrigin(e,t){}parseCURIE(e,t,n){var a=e.indexOf(":"),s;if(a>=0){var r=e.substring(0,a);if(r==="")return s=t[""],s?s+e.substring(a+1):null;if(r==="_")return"_:"+e.substring(a+1);if(ye.NCNAME.test(r)&&(s=t[r],s))return s+e.substring(a+1)}return null}parseCURIEOrURI(e,t,n){var a=this.parseCURIE(e,t,n);return a||this.resolveAndNormalize(n,e)}parsePredicate(e,t,n,a,s,r){if(e==="")return null;var l=this.parseTermOrCURIEOrAbsURI(e,t,r?null:n,a,s);return l&&l.indexOf("_:")===0?null:l}parsePrefixMappings(e,t){for(var n=this.tokenize(e),a=null,s=0;s<n.length;s++)n[s][n[s].length-1]===":"?a=n[s].substring(0,n[s].length-1):a&&(t[a]=this.options.base?Bt(n[s],this.options.base):n[s],a=null)}static parseRDFaDOM(e,t,n){var a=new ye(t,{base:n});e.baseURI||(e.baseURI=n),a.process(e,{baseURI:n})}parseSafeCURIEOrCURIEOrURI(e,t,n){return e=this.trim(e),e.charAt(0)==="["&&e.charAt(e.length-1)==="]"?(e=e.substring(1,e.length-1),e=e.trim(e),e.length===0?null:e==="_:"?this.theOne:this.parseCURIE(e,t,n)):this.parseCURIEOrURI(e,t,n)}parseTermOrCURIEOrAbsURI(e,t,n,a,s){e=this.trim(e);var r=this.parseCURIE(e,a,s);if(r)return r;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var l=n[e];if(l)return l;var o=e.toLowerCase();if(l=n[o],l)return l}return this.absURIRE.exec(e)?this.resolveAndNormalize(s,e):null}parseTermOrCURIEOrURI(e,t,n,a,s){e=this.trim(e);var r=this.parseCURIE(e,a,s);if(r)return r;var l=n[e];if(l)return l;var o=e.toLowerCase();return l=n[o],l||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(s,e))}parseURI(e){return e}process(e,t){t=t||{};var n;e.nodeType===pn.DOCUMENT_NODE?(e.baseURI&&!t.baseURI&&(t.baseURI=e.baseURI),n=e.baseURI,e=e.documentElement,e.baseURI||(e.baseURI=n),this.setContext(e)):e.parentNode.nodeType===pn.DOCUMENT_NODE&&this.setContext(e);var a=[],s=function(se){if(!se&&t&&t.baseURI)return t.baseURI;var ke=se.indexOf("#");return ke>=0&&(se=se.substring(0,ke)),t&&t.baseURIMap&&(se=t.baseURIMap(se)),se};for(a.push({current:e,context:this.push(null,s(e.baseURI))});a.length>0;){var r=a.shift();if(r.parent){if(r.context.parent&&r.context.parent.listMapping===r.listMapping)continue;for(let se in r.listMapping){var l=r.listMapping[se];if(l.length===0){this.addTriple(r.parent,r.subject,se,{type:ye.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}var o=[];for(let ke=0;ke<l.length;ke++)o.push(this.newBlankNode());for(let ke=0;ke<o.length;ke++)this.addTriple(r.parent,o[ke],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",l[ke]),this.addTriple(r.parent,o[ke],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:ye.objectURI,value:ke+1<o.length?o[ke+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(r.parent,r.subject,se,{type:ye.objectURI,value:o[0]})}continue}var c=r.current,h=r.context,p=!1,m=null,y=null,w=null,x=h.prefixes,D=!1,M=[],R=h.listMapping,Z=!h.parent,Y=h.language,T=h.vocabulary;n=this.parseURI(s(c.baseURI)),c.item=null;var V=c.getAttributeNode("vocab");if(V){let se=this.trim(V.value);if(se.length>0){T=se;var $=n.spec;this.addTriple(c,$,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:ye.objectURI,value:T})}else T=this.vocabulary}for(var q=0;q<c.attributes.length;q++){var F=c.attributes[q];if(F.nodeName.charAt(0)==="x"&&F.nodeName.indexOf("xmlns:")===0){D||(x=this.copyMappings(x),D=!0);var P=F.nodeName.substring(6),j=ye.trim(F.value);x[P]=this.options.base?Bt(j,this.options.base):j}}var H=c.getAttributeNode("prefix");H&&(D||(x=this.copyMappings(x),D=!0),this.parsePrefixMappings(H.value,x));var K=null;for(let se=0;!K&&se<this.langAttributes.length;se++)K=c.getAttributeNodeNS(this.langAttributes[se].namespaceURI,this.langAttributes[se].localName);if(K){let se=ye.trim(K.value);se.length>0?Y=se:Y=null}var te=c.getAttributeNode("rel"),I=c.getAttributeNode("rev"),G=c.getAttributeNode("typeof"),J=c.getAttributeNode("property"),re=c.getAttributeNode("datatype"),ie=this.inHTMLMode?c.getAttributeNode("datetime"):null,ue=c.getAttributeNode("content"),ne=c.getAttributeNode("about"),ge=c.getAttributeNode("src"),Fe=c.getAttributeNode("resource"),pe=c.getAttributeNode("href"),Ee=c.getAttributeNode("inlist"),Pe=[],Ke,Te;if(te){Te=this.tokenize(te.value);for(let se=0;se<Te.length;se++)Ke=this.parsePredicate(Te[se],T,h.terms,x,n,this.inHTMLMode&&J!==null),Ke&&Pe.push(Ke)}var ze=[];if(I){Te=this.tokenize(I.value);for(let se=0;se<Te.length;se++)Ke=this.parsePredicate(Te[se],T,h.terms,x,n,this.inHTMLMode&&J),Ke&&ze.push(Ke)}if(this.inHTMLMode&&(te||I)&&J&&(Pe.length===0&&(te=null),ze.length===0&&(I=null)),te||I?(ne&&(m=this.parseSafeCURIEOrCURIEOrURI(ne.value,x,n)),G&&(w=m),m||(c.parentNode.nodeType===pn.DOCUMENT_NODE?m=s(c.baseURI):h.parentObject&&(m=s(c.parentNode.baseURI)===h.parentObject?s(c.baseURI):h.parentObject)),Fe&&(y=this.parseSafeCURIEOrCURIEOrURI(Fe.value,x,n)),y||(pe?y=this.resolveAndNormalize(n,encodeURI(pe.value)):ge?y=this.resolveAndNormalize(n,encodeURI(ge.value)):G&&!ne&&!(this.inXHTMLMode&&(c.localName==="head"||c.localName==="body"))&&(y=this.newBlankNode())),G&&!ne&&this.inXHTMLMode&&(c.localName==="head"||c.localName==="body")?w=m:G&&!ne&&(w=y)):J&&!ue&&!re?(ne&&(m=this.parseSafeCURIEOrCURIEOrURI(ne.value,x,n),G&&(w=m)),!m&&c.parentNode.nodeType===pn.DOCUMENT_NODE?(m=s(c.baseURI),G&&(w=m)):!m&&h.parentObject&&(m=s(c.parentNode.baseURI)===h.parentObject?s(c.baseURI):h.parentObject),G&&!w&&(Fe&&(w=this.parseSafeCURIEOrCURIEOrURI(Fe.value,x,n)),!w&&pe&&(w=this.resolveAndNormalize(n,encodeURI(pe.value))),!w&&ge&&(w=this.resolveAndNormalize(n,encodeURI(ge.value))),!w&&(this.inXHTMLMode||this.inHTMLMode)&&(c.localName==="head"||c.localName==="body")&&(w=m),w||(w=this.newBlankNode()),y=w)):(ne&&(m=this.parseSafeCURIEOrCURIEOrURI(ne.value,x,n)),!m&&Fe&&(m=this.parseSafeCURIEOrCURIEOrURI(Fe.value,x,n)),!m&&pe&&(m=this.resolveAndNormalize(n,encodeURI(pe.value))),!m&&ge&&(m=this.resolveAndNormalize(n,encodeURI(ge.value))),m||(c.parentNode.nodeType===pn.DOCUMENT_NODE?m=s(c.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(c.localName==="head"||c.localName==="body")?m=s(c.parentNode.baseURI)===h.parentObject?s(c.baseURI):h.parentObject:G?m=this.newBlankNode():h.parentObject&&(m=s(c.parentNode.baseURI)===h.parentObject?s(c.baseURI):h.parentObject,J||(p=!0))),G&&(w=m)),m&&(ne||Fe||w)){var ft=m;G&&!ne&&!Fe&&y&&(ft=y),this.newSubjectOrigin(c,ft)}if(w){Te=this.tokenize(G.value);for(let se=0;se<Te.length;se++){var at=this.parseTermOrCURIEOrAbsURI(Te[se],T,h.terms,x,n);at&&this.addTriple(c,w,ye.typeURI,{type:ye.objectURI,value:at})}}if(m&&m!==h.parentObject&&(R={},Z=!0),y){if(te&&Ee)for(let se=0;se<Pe.length;se++){let ke=R[Pe[se]];ke||(ke=[],R[Pe[se]]=ke),ke.push({type:ye.objectURI,value:y})}else if(te)for(let se=0;se<Pe.length;se++)this.addTriple(c,m,Pe[se],{type:ye.objectURI,value:y});if(I)for(let se=0;se<ze.length;se++)this.addTriple(c,y,ze[se],{type:ye.objectURI,value:m})}else{if(m&&!y&&(te||I)&&(y=this.newBlankNode()),te&&Ee)for(let se=0;se<Pe.length;se++){let ke=R[Pe[se]];ke||(ke=[],R[Ke]=ke),M.push({predicate:Pe[se],list:ke})}else if(te)for(let se=0;se<Pe.length;se++)M.push({predicate:Pe[se],forward:!0});if(I)for(let se=0;se<ze.length;se++)M.push({predicate:ze[se],forward:!1})}if(J){var Ae=null,Le=null;re?(Ae=re.value===""?ye.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(re.value,T,h.terms,x,n),ie&&!ue?Le=ie.value:Le=Ae===ye.XMLLiteralURI||Ae===ye.HTMLLiteralURI?null:ue?ue.value:c.textContent):ue?(Ae=ye.PlainLiteralURI,Le=ue.value):ie?(Le=ie.value,Ae=ye.deriveDateTimeType(Le),Ae||(Ae=ye.PlainLiteralURI)):!te&&!I&&(Fe&&(Le=this.parseSafeCURIEOrCURIEOrURI(Fe.value,x,n)),!Le&&pe?Le=this.resolveAndNormalize(n,encodeURI(pe.value)):!Le&&ge&&(Le=this.resolveAndNormalize(n,encodeURI(ge.value))),Le&&(Ae=ye.objectURI)),Ae||(G&&!ne?(Ae=ye.objectURI,Le=w):(Le=c.textContent,this.inHTMLMode&&c.localName==="time"&&(Ae=ye.deriveDateTimeType(Le)),Ae||(Ae=ye.PlainLiteralURI))),Te=this.tokenize(J.value);for(let se=0;se<Te.length;se++){let ke=this.parsePredicate(Te[se],T,h.terms,x,n);if(ke)if(Ee){let lt=R[ke];lt||(lt=[],R[ke]=lt),lt.push(Ae===ye.XMLLiteralURI||Ae===ye.HTMLLiteralURI?{type:Ae,value:c.childNodes}:{type:Ae||ye.PlainLiteralURI,value:Le,language:Y})}else Ae===ye.XMLLiteralURI||Ae===ye.HTMLLiteralURI?this.addTriple(c,m,ke,{type:Ae,value:c.childNodes}):this.addTriple(c,m,ke,{type:Ae||ye.PlainLiteralURI,value:Le,language:Y})}}if(m&&!p)for(let se=0;se<h.incomplete.length;se++)h.incomplete[se].list?h.incomplete[se].list.push({type:ye.objectURI,value:m}):h.incomplete[se].forward?this.addTriple(c,h.subject,h.incomplete[se].predicate,{type:ye.objectURI,value:m}):this.addTriple(c,m,h.incomplete[se].predicate,{type:ye.objectURI,value:h.subject});var De=null,bt=m;p?(De=this.push(h,h.subject),De.parentObject=s(c.parentNode.baseURI)===h.parentObject?s(c.baseURI):h.parentObject,De.incomplete=h.incomplete,De.language=Y,De.prefixes=x,De.vocabulary=T):(De=this.push(h,m),De.parentObject=y||m||h.subject,De.prefixes=x,De.incomplete=M,y&&(bt=y,R={},Z=!0),De.listMapping=R,De.language=Y,De.vocabulary=T),Z&&a.unshift({parent:c,context:h,subject:bt,listMapping:R});for(var Ge=c.lastChild;Ge;Ge=Ge.previousSibling)Ge.nodeType===pn.ELEMENT_NODE&&a.unshift({current:Ge,context:De})}this.inHTMLMode&&this.copyProperties();for(let se=0;se<this.finishedHandlers.length;se++)this.finishedHandlers[se](e)}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}resolveAndNormalize(e,t){return Bt(t,e)}setContext(e){e.localName==="html"&&e.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():e.localName==="html"||e.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}tokenize(e){return this.trim(e).split(/\s+/)}static tokenize(e){return this.trim(e).split(/\s+/)}toRDFNodeObject(e){if(!(typeof e>"u")){if(typeof e=="string")return e.substring(0,2)==="_:"?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new Zt(e.substring(2))),this.blankNodes[e.substring(2)]):Mt.namedNode(e);switch(e.type){case ye.objectURI:return e.value.substring(0,2)==="_:"?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new Zt(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):Mt.namedNode(e.value);case ye.PlainLiteralURI:return new Qt(e.value,e.language||"");case ye.XMLLiteralURI:case ye.HTMLLiteralURI:var t="";return Object.keys(e.value).forEach(n=>{t+=$c(e.value[n],this.htmlOptions)}),new Qt(t,"",new mt(e.type));default:return new Qt(e.value,"",new mt(e.type))}}}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}static trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}ye.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";ye.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";ye.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";ye.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";ye.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";ye.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";ye.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";ye.NCNAME=new RegExp("^"+ye.nameStartChar+ye.nameChar+"*$");ye.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];const si=ye.parseRDFaDOM;class _e{constructor(e){this.store=e,this.bnodes={},this.why=null,this.reify=!1}frameFactory(e,t,n){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,s){s=Bt(s,this.base),this.node=this.store.sym(s),this.nodeType=a},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var a=this.store.sym(Bt("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(_e.ns.RDF+"type"),this.store.sym(_e.ns.RDF+"Statement"),this.parser.why),this.store.add(a,this.store.sym(_e.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(_e.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(_e.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(a){this.addSymbol(this.NODE,a),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(a){a!=null?this.parser.bnodes[a]!=null?this.node=this.parser.bnodes[a]:this.node=this.parser.bnodes[a]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a===_e.ns.RDF+"li"&&(a=_e.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function(a){this.parent.datatype&&this.parent.datatype!==_e.ns.RDF+"langString"?this.node=this.store.literal(a,this.store.sym(this.parent.datatype)):this.node=this.store.literal(a,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}getAttributeNodeNS(e,t,n){var a=null;if(e.getAttributeNodeNS)a=e.getAttributeNodeNS(t,n);else for(var s=e.attributes,r,l,o=0;o<s.length;++o)if(r=s[o],r.namespaceURI===t&&(l=r.prefix?r.prefix+":"+n:n,l===r.nodeName)){a=r;break}return a}parse(e,t,n){var a=e.childNodes;this.cleanParser();var s;if(e.nodeType===_e.nodeType.DOCUMENT){for(var r=0;r<a.length;r++)if(a[r].nodeType===_e.nodeType.ELEMENT){s=a[r];break}}else if(e.nodeType===_e.nodeType.ELEMENT)s=e;else throw new Error("RDFParser: can't find root in "+t+". Halting. ");this.why=n;var l=this.frameFactory(this);return this.base=t,l.base=t,l.lang=null,this.parseDOM(this.buildFrame(l,s)),!0}parseDOM(e){for(var t,n=(function(Y){var T="";if(Y.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+Y.localName+" in "+this.base);return Y.namespaceURI&&(T=T+Y.namespaceURI),Y.localName?T=T+Y.localName:Y.nodeName&&(Y.nodeName.indexOf(":")>=0?T=T+Y.nodeName.split(":")[1]:T=T+Y.nodeName),T}).bind(this),a=!0;e.parent;){var s=e.element,r=s.attributes;if(s.nodeType===_e.nodeType.TEXT||s.nodeType===_e.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(_e.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(s.nodeValue);else if(n(s)!==_e.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),!e.parent||!e.parent.nodeType||e.parent.nodeType===e.ARC){var l=this.getAttributeNodeNS(s,_e.ns.RDF,"about");if(t=this.getAttributeNodeNS(s,_e.ns.RDF,"ID"),l&&t)throw new Error("RDFParser: "+s.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!l&&t)e.addNode("#"+t.nodeValue),s.removeAttributeNode(t);else if(l==null&&t==null){var o=this.getAttributeNodeNS(s,_e.ns.RDF,"nodeID");o?(e.addBNode(o.nodeValue),s.removeAttributeNode(o)):e.addBNode()}else e.addNode(l.nodeValue),s.removeAttributeNode(l);var c=this.getAttributeNodeNS(s,_e.ns.RDF,"type");_e.ns.RDF+"Description"!==n(s)&&(c={nodeValue:n(s)}),c!=null&&(this.store.add(e.node,this.store.sym(_e.ns.RDF+"type"),this.store.sym(Bt(c.nodeValue,e.base)),this.why),c.nodeName&&s.removeAttributeNode(c));for(var h=r.length-1;h>=0;h--)this.store.add(e.node,this.store.sym(n(r[h])),this.store.literal(r[h].nodeValue,e.lang),this.why)}else{e.addArc(n(s)),this.reify&&(t=this.getAttributeNodeNS(s,_e.ns.RDF,"ID"),t&&(e.rdfid=t.nodeValue,s.removeAttributeNode(t)));var p=this.getAttributeNodeNS(s,_e.ns.RDF,"parseType"),m=this.getAttributeNodeNS(s,_e.ns.RDF,"datatype");if(m&&(e.datatype=m.nodeValue,s.removeAttributeNode(m)),p){var y=p.nodeValue;y==="Literal"?(e.datatype=_e.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(s.innerHTML||s.childNodes),a=!1):y==="Resource"?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):y==="Collection"&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),s.removeAttributeNode(p)}if(r.length!==0){var w=this.getAttributeNodeNS(s,_e.ns.RDF,"resource"),x=this.getAttributeNodeNS(s,_e.ns.RDF,"nodeID");e=this.buildFrame(e),w?(e.addNode(w.nodeValue),s.removeAttributeNode(w)):x?(e.addBNode(x.nodeValue),s.removeAttributeNode(x)):e.addBNode();for(var D=r.length-1;D>=0;D--){var M=this.buildFrame(e);M.addArc(n(r[D])),n(r[D])===_e.ns.RDF+"type"?this.buildFrame(M).addNode(r[D].nodeValue):this.buildFrame(M).addLiteral(r[D].nodeValue)}}else s.childNodes.length===0&&this.buildFrame(e).addLiteral("")}for(s=e.element;e.parent;){for(var R=e;s==null;)e=e.parent,s=e.element;var Z=s.childNodes&&s.childNodes[e.lastChild];if(!Z||!a){if(e.terminateFrame(),!(e=e.parent))break;s=e.element,a=!0}else if(Z.nodeType!==_e.nodeType.ELEMENT&&Z.nodeType!==_e.nodeType.TEXT&&Z.nodeType!==_e.nodeType.CDATA_SECTION||(Z.nodeType===_e.nodeType.TEXT||Z.nodeType===_e.nodeType.CDATA_SECTION)&&s.childNodes.length!==1)e.lastChild++;else{e.lastChild++,e=this.buildFrame(R,s.childNodes[e.lastChild-1]);break}}}}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var n=this.frameFactory(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),!t||t.nodeType===_e.nodeType.TEXT||t.nodeType===_e.nodeType.CDATA_SECTION)return n;var a=t.attributes,s=t.getAttributeNode("xml:base");s!=null&&(n.base=s.nodeValue,t.removeAttribute("xml:base"));var r=t.getAttributeNode("xml:lang");r!=null&&(n.lang=r.nodeValue,t.removeAttribute("xml:lang"));for(var l=a.length-1;l>=0;l--)if(a[l].nodeName.substr(0,3)==="xml"){if(a[l].name.slice(0,6)==="xmlns:"){var o=a[l].nodeValue;this.base&&(o=Bt(o,this.base)),this.store.setPrefixForURI(a[l].name.slice(6),o)}t.removeAttributeNode(a[l])}return n}}ae(_e,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});ae(_e,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function Sd(i,e,t){var n,a,s,r=["INSERT","DELETE","WHERE"],l=Ie("http://www.w3.org/ns/pim/patch#"),o=fa(e,e,t,t,null,null,"",null),c={},h=function(x,D,M,R,Z){return"Line "+(D+1)+" of <"+x+`>: Bad syntax:
   `+Z+`
   at: "`+M.slice(R,R+30)+'"'};n=0;var p=e.sym(t+"#query");for(c.query=p;;){if(a=o.skipSpace(i,n),a<0)return c;if(i[a]===";"){if(n=o.skipSpace(i,a+1),n<0)return c;a=n}var m=!1;for(s=0;s<r.length;s++){var y=r[s];if(i.slice(a,a+y.length)===y){if(n=o.skipSpace(i,a+y.length),n<0)throw h(o._thisDoc,o.lines,i,a+y.length,"found EOF, needed {...} after "+y);if((y==="INSERT"||y==="DELETE")&&i.slice(n,n+4)==="DATA"){if(a=o.skipSpace(i,n+4),a<0)throw h(o._thisDoc,o.lines,i,n+4,"needed {...} after INSERT DATA "+y);n=a}var w=[];if(a=o.node(i,n,w),a<0)throw h(o._thisDoc,o.lines,i,n,"bad syntax or EOF in {...} after "+y);c[y.toLowerCase()]=w[0],e.add(p,l(y.toLowerCase()),w[0]),m=!0,n=a}}if(!m&&i.slice(a,a+7)==="@prefix"){if(n=o.directive(i,a),n<0)throw h(o._thisDoc,o.lines,i,n,"bad syntax or EOF after @prefix ");n=o.checkDot(i,n),m=!0}if(!m)throw h(o._thisDoc,o.lines,i,a,"Unknown syntax at start of statememt: '"+i.slice(a).slice(0,20)+"'")}}function Ji(i,e,t,n="text/turtle",a){n=n||kn,n=n.split(";")[0];try{if(n===gl||n===kn){var s=fa(e,e,t,t,null,null,"",null);s.loadBuf(i),o()}else if(n===wr){var r=new _e(e);r.parse(Xn(i),t,e.sym(t)),o()}else if(n===Qi)si(Xn(i,{contentType:Qi}),e,t),o();else if(n===ms)si(Xn(i,{contentType:ms}),e,t),o();else if(n===mc||n===gc)Sd(i,e,t),o();else if(n===Gi)_l(i,e,t).then(o).catch(c);else if(n===Wi||n===Xi){var l=new $l({factory:Yi});h(null,i)}else throw n===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet")}catch(m){c(m)}Ji.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function o(){if(a)a(null,e);else return}function c(m){if(n!==Gi||n!==Wi||n!==Xi)if(a)a(m,e);else{let y=new Error(""+m+" while trying to parse <"+t+"> as "+n);throw y.cause=m,y}}function h(m,y){try{l.parse(y,p)}catch(w){a(w,e)}}function p(m,y){y?e.add(y.subject,y.predicate,y.object,y.graph):a(m,e)}}var Jr={exports:{}},Hs;function Id(){return Hs||(Hs=1,(function(i,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof zr<"u"&&zr,n=(function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s})();(function(s){(function(r){var l=typeof s<"u"&&s||typeof self<"u"&&self||typeof zr<"u"&&zr||{},o={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function c(I){return I&&DataView.prototype.isPrototypeOf(I)}if(o.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(I){return I&&h.indexOf(Object.prototype.toString.call(I))>-1};function m(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function y(I){return typeof I!="string"&&(I=String(I)),I}function w(I){var G={next:function(){var J=I.shift();return{done:J===void 0,value:J}}};return o.iterable&&(G[Symbol.iterator]=function(){return G}),G}function x(I){this.map={},I instanceof x?I.forEach(function(G,J){this.append(J,G)},this):Array.isArray(I)?I.forEach(function(G){if(G.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+G.length);this.append(G[0],G[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(G){this.append(G,I[G])},this)}x.prototype.append=function(I,G){I=m(I),G=y(G);var J=this.map[I];this.map[I]=J?J+", "+G:G},x.prototype.delete=function(I){delete this.map[m(I)]},x.prototype.get=function(I){return I=m(I),this.has(I)?this.map[I]:null},x.prototype.has=function(I){return this.map.hasOwnProperty(m(I))},x.prototype.set=function(I,G){this.map[m(I)]=y(G)},x.prototype.forEach=function(I,G){for(var J in this.map)this.map.hasOwnProperty(J)&&I.call(G,this.map[J],J,this)},x.prototype.keys=function(){var I=[];return this.forEach(function(G,J){I.push(J)}),w(I)},x.prototype.values=function(){var I=[];return this.forEach(function(G){I.push(G)}),w(I)},x.prototype.entries=function(){var I=[];return this.forEach(function(G,J){I.push([J,G])}),w(I)},o.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function D(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function M(I){return new Promise(function(G,J){I.onload=function(){G(I.result)},I.onerror=function(){J(I.error)}})}function R(I){var G=new FileReader,J=M(G);return G.readAsArrayBuffer(I),J}function Z(I){var G=new FileReader,J=M(G),re=/charset=([A-Za-z0-9_-]+)/.exec(I.type),ie=re?re[1]:"utf-8";return G.readAsText(I,ie),J}function Y(I){for(var G=new Uint8Array(I),J=new Array(G.length),re=0;re<G.length;re++)J[re]=String.fromCharCode(G[re]);return J.join("")}function T(I){if(I.slice)return I.slice(0);var G=new Uint8Array(I.byteLength);return G.set(new Uint8Array(I)),G.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:o.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:o.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():o.arrayBuffer&&o.blob&&c(I)?(this._bodyArrayBuffer=T(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||p(I))?this._bodyArrayBuffer=T(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var I=D(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=D(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(o.blob)return this.blob().then(R);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=D(this);if(I)return I;if(this._bodyBlob)return Z(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function q(I){var G=I.toUpperCase();return $.indexOf(G)>-1?G:I}function F(I,G){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');G=G||{};var J=G.body;if(I instanceof F){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,G.headers||(this.headers=new x(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!J&&I._bodyInit!=null&&(J=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new x(G.headers)),this.method=q(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal||(function(){if("AbortController"in l){var ue=new AbortController;return ue.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&J)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(J),(this.method==="GET"||this.method==="HEAD")&&(G.cache==="no-store"||G.cache==="no-cache")){var re=/([?&])_=[^&]*/;if(re.test(this.url))this.url=this.url.replace(re,"$1_="+new Date().getTime());else{var ie=/\?/;this.url+=(ie.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function P(I){var G=new FormData;return I.trim().split("&").forEach(function(J){if(J){var re=J.split("="),ie=re.shift().replace(/\+/g," "),ue=re.join("=").replace(/\+/g," ");G.append(decodeURIComponent(ie),decodeURIComponent(ue))}}),G}function j(I){var G=new x,J=I.replace(/\r?\n[\t ]+/g," ");return J.split("\r").map(function(re){return re.indexOf(`
`)===0?re.substr(1,re.length):re}).forEach(function(re){var ie=re.split(":"),ue=ie.shift().trim();if(ue){var ne=ie.join(":").trim();try{G.append(ue,ne)}catch(ge){console.warn("Response "+ge.message)}}}),G}V.call(F.prototype);function H(I,G){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=G.statusText===void 0?"":""+G.statusText,this.headers=new x(G.headers),this.url=G.url||"",this._initBody(I)}V.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},H.error=function(){var I=new H(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var K=[301,302,303,307,308];H.redirect=function(I,G){if(K.indexOf(G)===-1)throw new RangeError("Invalid status code");return new H(null,{status:G,headers:{location:I}})},r.DOMException=l.DOMException;try{new r.DOMException}catch{r.DOMException=function(G,J){this.message=G,this.name=J;var re=Error(G);this.stack=re.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function te(I,G){return new Promise(function(J,re){var ie=new F(I,G);if(ie.signal&&ie.signal.aborted)return re(new r.DOMException("Aborted","AbortError"));var ue=new XMLHttpRequest;function ne(){ue.abort()}ue.onload=function(){var pe={statusText:ue.statusText,headers:j(ue.getAllResponseHeaders()||"")};ie.url.indexOf("file://")===0&&(ue.status<200||ue.status>599)?pe.status=200:pe.status=ue.status,pe.url="responseURL"in ue?ue.responseURL:pe.headers.get("X-Request-URL");var Ee="response"in ue?ue.response:ue.responseText;setTimeout(function(){J(new H(Ee,pe))},0)},ue.onerror=function(){setTimeout(function(){re(new TypeError("Network request failed"))},0)},ue.ontimeout=function(){setTimeout(function(){re(new TypeError("Network request timed out"))},0)},ue.onabort=function(){setTimeout(function(){re(new r.DOMException("Aborted","AbortError"))},0)};function ge(pe){try{return pe===""&&l.location.href?l.location.href:pe}catch{return pe}}if(ue.open(ie.method,ge(ie.url),!0),ie.credentials==="include"?ue.withCredentials=!0:ie.credentials==="omit"&&(ue.withCredentials=!1),"responseType"in ue&&(o.blob?ue.responseType="blob":o.arrayBuffer&&(ue.responseType="arraybuffer")),G&&typeof G.headers=="object"&&!(G.headers instanceof x||l.Headers&&G.headers instanceof l.Headers)){var Fe=[];Object.getOwnPropertyNames(G.headers).forEach(function(pe){Fe.push(m(pe)),ue.setRequestHeader(pe,y(G.headers[pe]))}),ie.headers.forEach(function(pe,Ee){Fe.indexOf(Ee)===-1&&ue.setRequestHeader(Ee,pe)})}else ie.headers.forEach(function(pe,Ee){ue.setRequestHeader(Ee,pe)});ie.signal&&(ie.signal.addEventListener("abort",ne),ue.onreadystatechange=function(){ue.readyState===4&&ie.signal.removeEventListener("abort",ne)}),ue.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}return te.polyfill=!0,l.fetch||(l.fetch=te,l.Headers=x,l.Request=F,l.Response=H),r.Headers=x,r.Request=F,r.Response=H,r.fetch=te,r})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=t.fetch?t:n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,i.exports=e})(Jr,Jr.exports)),Jr.exports}var Ki=Id();const Bd=Cl(Ki),Fd={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Ul={rdf:wr,owl:wr,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},Pl=i=>({link:Ie("http://www.w3.org/2007/ont/link#",i),http:Ie("http://www.w3.org/2007/ont/http#",i),httph:Ie("http://www.w3.org/2007/ont/httph#",i),rdf:Ie("http://www.w3.org/1999/02/22-rdf-syntax-ns#",i),rdfs:Ie("http://www.w3.org/2000/01/rdf-schema#",i),dc:Ie("http://purl.org/dc/elements/1.1/",i),ldp:Ie("http://www.w3.org/ns/ldp#",i)}),Ft=Pl();class yn{constructor(e,t){ae(this,"response",void 0),ae(this,"dom",void 0),this.response=e,this.dom=t}}ae(yn,"pattern",void 0);class ga extends yn{static toString(){return"RDFXMLHandler"}static register(e){e.mediatypes[wr]={q:.9}}parse(e,t,n){let a=e.store;this.dom||(this.dom=Xn(t));let s=this.dom.documentElement;if(s&&s.nodeName==="parsererror")return e.failFetch(n,"Badly formed XML in "+n.resource.value,"parse_error");let r=new _e(a);try{r.parse(this.dom,n.original.value,n.original)}catch(l){return e.failFetch(n,"Syntax error parsing RDF/XML! "+l,"parse_error")}return n.noMeta||a.add(n.original,Ft.rdf("type"),Ft.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}ga.pattern=new RegExp("application/rdf\\+xml");class Sn extends yn{static toString(){return"XHTMLHandler"}static register(e){e.mediatypes[Qi]={q:.8}}parse(e,t,n){let a,s;this.dom||(this.dom=Xn(t));let r=e.store,l=this.dom.getElementsByTagName("title");l.length>0&&r.add(n.resource,Ft.dc("title"),r.rdfFactory.literal(l[0].textContent),n.resource);let o=this.dom.getElementsByTagName("link");for(let h=o.length-1;h>=0;h--)a=o[h].getAttribute("rel"),s=!1,a||(a=o[h].getAttribute("rev"),s=!0),a&&e.linkData(n.original,a,o[h].getAttribute("href"),n.resource,s);let c=this.dom.getElementsByTagName("script");for(let h=0;h<c.length;h++){let p=c[h].getAttribute("type");Fd[p]&&(Ji(c[h].textContent,r,n.original.value,p),Ji(c[h].textContent,r,n.original.value,p))}if(n.noMeta||r.add(n.resource,Ft.rdf("type"),Ft.link("WebPage"),e.appNode),!n.noRDFa&&si)try{si(this.dom,r,n.original.value)}catch(h){let p="Error trying to parse "+n.resource+` as RDFa:
`+h+`:
`+h.stack;return e.failFetch(n,p,"parse_error")}return e.doneFetch(n,this.response)}}Sn.pattern=new RegExp("application/xhtml");class Wn extends yn{static toString(){return"XMLHandler"}static register(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}static isElement(e){return e.nodeType===Node.ELEMENT_NODE}parse(e,t,n){let a=Xn(t);for(let r=0;r<a.childNodes.length;r++){const l=a.childNodes[r];if(Wn.isElement(l)){let o=l.namespaceURI;if(o&&o===o.rdf)return e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new ga(this.response,a).parse(e,t,n);break}}if(a.doctype&&a.doctype.name==="html"&&a.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&a.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return e.addStatus(n.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`),new Sn(this.response,a).parse(e,t,n);let s=a.getElementsByTagName("html")[0];if(s){let r=s.getAttribute("xmlns");if(r&&r.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return e.addStatus(n.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`),new Sn(this.response,a).parse(e,t,n)}return e.failFetch(n,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+t.slice(0,80),901)}}Wn.pattern=new RegExp("(text|application)/(.*)xml");class ql extends yn{static toString(){return"HTMLHandler"}static register(e){e.mediatypes["text/html"]={q:.8}}parse(e,t,n){let a=e.store;if(Vl(t))return e.addStatus(n.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`),new Sn(this.response).parse(e,t,n);if(Ld(t))return e.addStatus(n.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`),new Sn(this.response).parse(e,t,n);if(Rd(t))return e.addStatus(n.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`),new Sn(this.response).parse(e,t,n);let s=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return s&&a.add(n.resource,Ft.dc("title"),a.rdfFactory.literal(s[1]),n.resource),a.add(n.resource,Ft.rdf("type"),Ft.link("WebPage"),e.appNode),e.addStatus(n.req,"non-XML HTML document, not parsed for data."),e.doneFetch(n,this.response)}}ql.pattern=new RegExp("text/html");class Hl extends yn{static toString(){return"JsonLdHandler"}static register(e){e.mediatypes["application/ld+json"]={q:.9}}async parse(e,t,n,a){const s=e.store;try{return await _l(t,s,n.original.value),e.store.add(n.original,Ft.rdf("type"),Ft.link("RDFDocument"),e.appNode),e.doneFetch(n,a)}catch(r){const l="Error trying to parse "+n.resource+` as JSON-LD:
`+r;return e.failFetch(n,l,"parse_error",a)}}}Hl.pattern=/application\/(ld\+json|activity\+json)/;class zl extends yn{static toString(){return"TextHandler"}static register(e){e.mediatypes["text/plain"]={q:.5}}parse(e,t,n){return Vl(t)?(e.addStatus(n.req,"Warning: "+n.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`),new Wn(this.response).parse(e,t,n)):t.slice(0,500).match(/xmlns:/)?(e.addStatus(n.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`),new Wn(this.response).parse(e,t,n)):(e.addStatus(n.req,"Plain text document, no known RDF semantics."),e.doneFetch(n,this.response))}}zl.pattern=new RegExp("text/plain");class jl extends yn{static toString(){return"N3Handler"}static register(e){e.mediatypes["text/n3"]={},e.mediatypes["text/turtle"]={}}parse(e,t,n,a){let s=e.store,r=fa(s,s,n.original.value,n.original.value,null,null,"",null);try{r.loadBuf(t)}catch(l){let o="Error trying to parse "+n.resource+` as Notation3:
`+l;return e.failFetch(n,o,"parse_error",a)}return e.addStatus(n.req,"N3 parsed: "+r.statementCount+" triples in "+r.lines+" lines."),e.store.add(n.original,Ft.rdf("type"),Ft.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}jl.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");const ea={RDFXMLHandler:ga,XHTMLHandler:Sn,XMLHandler:Wn,HTMLHandler:ql,TextHandler:zl,N3Handler:jl,JsonLdHandler:Hl};function Ld(i){const e=i.indexOf("<!DOCTYPE html"),t=i.indexOf(">");return e===-1||t===-1||e>t?!1:i.substr(e,t-e).indexOf("XHTML")!==-1}function Vl(i){return!!i.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}function Rd(i){return!!i.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}class ht{constructor(e,t={}){ae(this,"store",void 0),ae(this,"timeout",void 0),ae(this,"_fetch",void 0),ae(this,"mediatypes",void 0),ae(this,"appNode",void 0),ae(this,"requested",void 0),ae(this,"timeouts",void 0),ae(this,"redirectedTo",void 0),ae(this,"fetchQueue",void 0),ae(this,"fetchCallbacks",void 0),ae(this,"nonexistent",void 0),ae(this,"lookedUp",void 0),ae(this,"handlers",void 0),ae(this,"ns",void 0),ae(this,"fireCallbacks",void 0),this.store=e||new mn,this.ns=Pl(this.store.rdfFactory),this.timeout=t.timeout||3e4;let n=t.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||Bd;if(!n)throw new Error("No _fetch function available for Fetcher");typeof window<"u"&&n===window.fetch?this._fetch=n.bind(window):typeof global<"u"&&n===global.fetch?this._fetch=n.bind(global):this._fetch=n,this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},Oc(this,["request","fail","refresh","retract","done"]),Object.keys(t.handlers||ea).map(a=>this.addHandler(ea[a]))}static crossSiteProxy(e){if(ht.crossSiteProxyTemplate)return ht.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}static offlineOverride(e){let t=e;var n;return typeof window<"u"&&window.panes&&(n=window.panes.UI)&&n.preferences&&n.preferences.get("offlineModeUsingLocalhost")&&t.slice(0,7)==="http://"&&t.slice(7,17)!=="localhost/"&&(t="http://localhost/"+t.slice(7)),t}static proxyIfNecessary(e){var t;if(typeof window<"u"&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){let n=e.split("/").slice(2);const a=(r,l)=>{let o=l[r.shift()];return o?typeof o=="string"?o+r.join("/"):r?a(r,o):null:null},s=a(n,$SolidTestEnvironment.localSiteMap);if(s)return s}return ht.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&e.slice(0,5)==="http:"?ht.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}static unsupportedProtocol(e){let t=ws(e);return t==="tel"||t==="mailto"||t==="urn"}static setCredentials(e,t={}){t.credentials===void 0&&(t.withCredentials!==void 0?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}load(e,t={}){if(t=Object.assign({},t),e instanceof Array)return Promise.all(e.map(c=>this.load(c,Object.assign({},t))));let a=Hn(e);a=a.split("#")[0],t=this.initFetchOptions(a,t);const s=this.appNode,r=this.store,l=r.statementsMatching(void 0,this.ns.link("requestedURI"),r.sym(a),s).map(c=>c.subject);for(const c of l){const h=r.any(c,this.ns.link("response"),null,s);if(h!=null){const p=r.statementsMatching(h,this.ns.link("outOfDate"),!0,s);r.remove(p),t.force=!0,t.clearPreviousData=!0}}const o=this.initFetchOptions(a,t);return this.pendingFetchPromise(a,o.baseURI,o)}async pendingFetchPromise(e,t,n){let a;return!n.force&&await this.fetchQueue[t]?a=this.fetchQueue[t]:(a=Promise.race([this.setRequestTimeout(e,n),this.fetchUri(e,n)]),this.fetchQueue[t]=a,this.cleanupFetchRequest(t,void 0,this.timeout)),a.then(s=>(e in this.timeouts&&(this.timeouts[e].forEach(clearTimeout),delete this.timeouts[e]),s))}cleanupFetchRequest(e,t,n){t!==void 0&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{this.isPending(e)||delete this.fetchQueue[e]},n))}initFetchOptions(e,t){let n=this.store;!t.method||t.method.toUpperCase()==="GET"||(t.force=!0),t.resource=n.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=n.rdfFactory.namedNode(t.baseURI),t.req=n.bnode(),t.headers=t.headers||{},t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");let s=this.acceptString();t.headers.accept=s;let r=ht.offlineOverride(e);t.requestedURI=r,ht.setCredentials(r,t);let l=ht.proxyIfNecessary(r);return r!==l&&(t.proxyUsed=!0),t.actualProxyURI=l,t}fetchUri(e,t){if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(ht.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");let n=this.getState(e);if(t.force)delete this.nonexistent[e];else{if(n==="fetched")return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(n==="failed"&&this.requested[e]===404){let s="Previously failed: "+this.requested[e],r={url:e,status:this.requested[e],statusText:s,responseText:s,headers:new Ki.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,s,this.requested[e],r)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);let{actualProxyURI:a}=t;return this._fetch(a,t).then(s=>this.handleResponse(s,e,t),s=>{let r={url:a,status:999,statusText:(s.name||"network failure")+": "+(s.errno||s.code||s.type),responseText:s.message,headers:new Ki.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.handleError(r,e,t)})}nowOrWhenFetched(e,t,n,a={}){const s=Hn(e);typeof t=="function"?n=t:typeof t>"u"||(vs(t)?a.referringTerm=t:a=t),this.load(s,a).then(r=>{if(n)if(r)if(r.ok)n(!0,"OK",r);else{let l="HTTP error: Status "+r.status+" ("+r.statusText+")";r.responseText&&(l+=" "+r.responseText),n(!1,l,r)}else n(!1,"@@ nowOrWhenFetched:  no response object!")},function(r){var l=r.message||r.statusText;l="Failed to load  <"+s+"> "+l,r.response&&r.response.status&&(l+=" status: "+r.response.status),n(!1,l,r.response)})}addStatus(e,t){let n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;let a=this.store;const s=a.the(e,this.ns.link("status"));ca(s)&&s.append(a.rdfFactory.literal(t))}failFetch(e,t,n,a){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));let s=(e.method||"GET").toUpperCase();(s==="GET"||s==="HEAD")&&(e.resource.equals(e.original),this.requested[Gn(e.original.value)]=n,this.fireCallbacks("fail",[e.original.value,t]));var l=new Error("Fetcher: "+t);return l.status=n,l.statusText=t,l.response=a,Promise.reject(l)}linkData(e,t,n,a,s){if(!n)return;let r=this.store,l,o=r.rdfFactory.namedNode(Bt(n,e.value));if(t==="alternate"||t==="seeAlso"||t==="meta"||t==="describedby"){if(o.value===e.value)return;l=this.ns.rdfs("seeAlso")}else t==="type"?l=r.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):l=r.rdfFactory.namedNode(Bt(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));s?r.add(o,l,e,a):r.add(e,l,o,a)}parseLinkHeader(e,t,n){if(!e)return;const a=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,s=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,r=e.match(a);if(r!=null)for(let l=0;l<r.length;l++){let o=r[l].split(">"),c=o[0].substring(1),p=o[1].match(s);if(p==null)return;for(let m=0;m<p.length;m++){let x=p[m].split("=")[1].replace(/["']/g,"");this.linkData(t,x,c,n)}}}doneFetch(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}nowKnownAs(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}putBack(e,t={}){const n=Hn(e);let a=new mt(n).doc();return t.contentType=t["content-type"]||t["Content-Type"]||t.contentType||kn,t.contentType==="application/ld+json"?new Promise((s,r)=>{Cr(a,this.store,a.uri,t.contentType,(l,o)=>{l?r(l):(t.data=o,this.webOperation("PUT",e,t).then(c=>s(c)).catch(c=>r(c)))})}):(t.data=Cr(a,this.store,a.value,t.contentType),this.webOperation("PUT",n,t))}webCopy(e,t,n){return this.webOperation("GET",e).then(a=>this.webOperation("PUT",t,{data:a.responseText,contentType:n}))}delete(e,t){return this.webOperation("DELETE",e,t).then(n=>(this.requested[e]=404,this.nonexistent[e]=!0,this.unload(this.store.rdfFactory.namedNode(e)),n))}async createIfNotExists(e,t=kn,n=""){const a=this;try{var s=await a.load(e)}catch(r){if(r.response.status===404){try{s=await a.webOperation("PUT",e.value,{data:n,contentType:t})}catch(l){throw l}return delete a.requested[e.value],s}else throw r}return s}createContainer(e,t,n){let a={"content-type":kn,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(a.slug=t);let s={headers:a};return n&&(s.body=n),this.webOperation("POST",e,s)}invalidateCache(e){const t=Hn(e),n=this;if(n.fetchQueue&&n.fetchQueue[t]){var a=n.fetchQueue[t];a.PromiseStatus,delete n.fetchQueue[t]}if(n.requested[t]&&n.requested[t]!=="done"&&n.requested[t]!=="failed"&&n.requested[t]!==404){let s=`Rdflib: fetcher: Destructive operation on <${n.requested[t]}> file being fetched! `+t;console.error(s)}else delete n.requested[t],delete n.nonexistent[t]}webOperation(e,t,n={}){const a=Hn(t);n.method=e,n.body=n.data||n.body,n.force=!0;const s=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),ht.setCredentials(a,n),new Promise(function(r,l){s._fetch(a,n).then(o=>{if(o.ok)(e==="PUT"||e==="PATCH"||e==="POST"||e==="DELETE")&&s.invalidateCache(a),o.text?o.text().then(c=>{o.responseText=c,r(o)}):r(o);else{let c="Web error: "+o.status;o.statusText&&(c+=" ("+o.statusText+")"),c+=" on "+e+" of <"+a+">",o.responseText&&(c+=": "+o.responseText);let h=new Error(c);h.response=o,l(h)}},o=>{let c="Fetch error for "+e+" of <"+a+">:"+o;l(new Error(c))})})}lookUpThing(e,t){let n=this.store.uris(e);return n=n.map(a=>Gn(a)),n.forEach(a=>{this.lookedUp[a]=!0}),this.load(n,{referringTerm:t})}getHeader(e,t){const n=this.store,a=e.value,s=n.each(void 0,this.ns.link("requestedURI"),n.rdfFactory.literal(a));for(let r=0;r<s.length;r++){let l=s[r];if(l!==void 0){let o=n.any(l,this.ns.link("response"));if(o!==void 0&&n.anyValue(o,this.ns.http("status"))&&n.anyValue(o,this.ns.http("status")).startsWith("2")){let c=n.each(o,this.ns.httph(t.toLowerCase()));return c.length?c.map(h=>h.value):[]}}}}saveRequestMetadata(e,t){let n=t.req,a=this.store,s=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),vs(s)&&a.add(a.rdfFactory.namedNode(e),this.ns.link("requestedBy"),s,this.appNode),t.original&&t.original.value!==e&&a.add(n,this.ns.link("orginalURI"),a.rdfFactory.literal(t.original.value),this.appNode);const r=new Date,l="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"] ";a.add(n,this.ns.rdfs("label"),a.rdfFactory.literal(l+" Request for "+e),this.appNode),a.add(n,this.ns.link("requestedURI"),a.rdfFactory.literal(e),this.appNode),a.add(n,this.ns.link("status"),a.collection(),this.appNode)}saveResponseMetadata(e,t){const n=this.store;let a=n.bnode();return n.add(t.req,this.ns.link("response"),a,this.appNode),n.add(a,this.ns.http("status"),n.rdfFactory.literal(e.status),this.appNode),n.add(a,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach((s,r)=>{n.add(a,this.ns.httph(r),this.store.rdfFactory.literal(s),this.appNode),r==="content-type"&&n.add(t.resource,this.ns.rdf("type"),n.rdfFactory.namedNode(Rc(s).value),this.appNode)}),a}objectRefresh(e){let t=this.store.uris(e);if(typeof t<"u")for(let n=0;n<t.length;n++)this.refresh(this.store.rdfFactory.namedNode(Gn(t[n])))}refresh(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}refreshIfExpired(e,t){let n=this.getHeader(e,"Expires");!n||new Date(n[0]).getTime()<=new Date().getTime()?this.refresh(e,t):t(!0,"Not expired",{})}retract(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[Gn(e.value)],this.fireCallbacks("retract",arguments)}getState(e){return typeof this.requested[e]>"u"?"unrequested":this.requested[e]===!0?"requested":this.requested[e]==="done"?"fetched":this.requested[e]==="redirected"?this.getState(this.redirectedTo[e]):"failed"}isPending(e){return this.requested[e]===!0}unload(e){this.store.removeDocument(e),delete this.requested[e.value]}addHandler(e){this.handlers.push(e),e.register(this)}retryNoCredentials(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];let n=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,n)}isCrossSite(e){if(typeof document>"u"||!document.location)return!1;const t=Tc,n=""+document.location;return(t(n)&&t(e)&&t(n))!==t(e)}handleError(e,t,n){if(this.isCrossSite(t)){if(n.credentials&&n.credentials==="include"&&!n.retriedWithNoCredentials)return this.retryNoCredentials(t,n);let s=ht.crossSiteProxy(t);if(s&&!n.proxyUsed)return this.redirectToProxy(s,n)}var a;return e instanceof Error?a="Fetch error: "+e.message:(a=e.statusText,e.responseText&&(a+=` ${e.responseText}`)),this.failFetch(n,a,e.status||998,e)}addType(e,t,n,a){let s=t;if(a){var r=n.any(s,this.ns.link("requestedURI"));r&&r.value!==a&&n.add(n.rdfFactory.namedNode(a),this.ns.rdf("type"),e,this.appNode)}for(;;){const c=n.any(s,this.ns.link("requestedURI"));if(c&&c.value&&n.add(n.rdfFactory.namedNode(c.value),this.ns.rdf("type"),e,this.appNode),s=n.any(void 0,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),s),!s)break;var l=n.any(s,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!l)break;var o=n.any(l,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!o||o!=="301"&&o!=="302")break}}handleResponse(e,t,n){const a=this.store,s=e.headers,r=n.req,l=this.saveResponseMetadata(e,n),o=this.normalizedContentType(n,s)||"";let c=s.get("content-location");if(e.status===0)return this.handleError(e,t,n);if(e.status>=400)return e.status===404&&(this.nonexistent[n.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,l).then(()=>{let y=n.resource+" "+e.statusText;return this.failFetch(n,y,e.status,e)});var h=null,p=null;if(c&&(p=Bt(c,t),p!==t&&(h=p)),e.status===200){if(this.addType(this.ns.link("Document"),r,a,t),h&&this.addType(this.ns.link("Document"),r,a,h),n.clearPreviousData){const w=a.statementsMatching(void 0,void 0,void 0,n.resource).slice();for(let x=0;x<w.length;x++)a.removeStatement(w[x])}let y=o.includes("image/")||o.includes("application/pdf");o&&y&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),r,a,t),h&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),r,a,h))}if(c){if(!n.force&&h&&this.requested[p]==="done")return this.doneFetch(n,e);this.requested[p]=!0}this.parseLinkHeader(s.get("link"),n.original,r);let m=this.handlerForContentType(o,e);return m?e.text().then(y=>(e.responseText=y,m.parse(this,y,n,e))):(this.addStatus(r,"Fetch over. No data handled."),this.doneFetch(n,e))}saveErrorResponse(e,t){let n=this.store;return e.text().then(a=>{a.length>10&&n.add(t,this.ns.http("content"),n.rdfFactory.literal(a),t)})}handlerForContentType(e,t){if(!e)return null;let n=this.handlers.find(a=>e.match(a.pattern));return n?new n(t):null}guessContentType(e){return Ul[e.split(".").pop()]}normalizedContentType(e,t){if(e.forceContentType)return e.forceContentType;let n=t.get("content-type");if(!n||n.includes("application/octet-stream")){let s=this.guessContentType(e.resource.value);if(s)return s}let a=ws(e.resource.value);return!n&&["file","chrome"].includes(a)?"text/xml":n}redirectToProxy(e,t){this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;const n=this.store,a=t.req;t.noMeta||(n.add(a,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),a),this.addStatus(a,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;let s=Object.assign({},t);return s.baseURI=t.resource.value,this.fetchUri(e,s).then(r=>(s.noMeta||n.add(a,this.ns.link("redirectedRequest"),s.req,this.appNode),r))}setRequestTimeout(e,t){return new Promise(n=>{this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{this.isPending(e)&&!t.retriedWithNoCredentials&&!t.proxyUsed&&n(this.failFetch(t,`Request to ${e} timed out`,"timeout"))},this.timeout))})}addFetchCallback(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}acceptString(){let e="";for(let t in this.mediatypes){e!==""&&(e+=", "),e+=t;for(let n in this.mediatypes[t])e+=";"+n+"="+this.mediatypes[t][n]}return e}}ae(ht,"HANDLERS",void 0);ae(ht,"CONTENT_TYPE_BY_EXT",void 0);ae(ht,"crossSiteProxyTemplate",void 0);ht.HANDLERS=ea;ht.CONTENT_TYPE_BY_EXT=Ul;const Kr={...Yi,fetcher(i,e){return new ht(i,e)},graph(i=void 0,e=void 0){return new mn(i,e||{rdfFactory:Yi})},lit(i,e,t){return this.literal(""+i,e||t)},st(i,e,t,n){return this.quad(i,e,t,n)}},Gl={};for(const i in Kr)typeof Kr[i]=="function"&&(Gl[i]=Kr[i].bind(Kr));const{graph:Od,namedNode:fi}=Gl;new br;Ye.fromValue;Zt.nextId;function Xl(i){const e=Od(),t={};i?.fetch&&(t.fetch=i.fetch);const n=new ht(e,t);async function a(s){const r=s.replace(/#.*$/,""),l=fi(r);return await n.load(l),l}return{store:e,fetcher:n,fetchDocument:a}}const ri=[];function Be(i){ri.push(i)}function $d(i,e){const t=[];for(let n=ri.length-1;n>=0;n--)try{ri[n].canHandle(i,e)&&t.push(ri[n])}catch{}return t}const Un={STATE_CHANGE:"sessionStateChange",EXPIRATION_WARNING:"sessionExpirationWarning",EXPIRATION:"sessionExpiration"};class Md{constructor(e="solid-oidc",t="session",n=1){this.dbName=e,this.storeName=t,this.dbVersion=n,this.db=null}async init(){return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,this.dbVersion);n.onerror=()=>t(new Error(`Database error: ${n.error}`)),n.onsuccess=()=>{this.db=n.result,e(this)},n.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.storeName)||s.createObjectStore(this.storeName)}})}async setItem(e,t){return this.db||await this.init(),new Promise((n,a)=>{const s=this.db.transaction(this.storeName,"readwrite");s.oncomplete=()=>n(),s.onerror=()=>a(new Error(`Transaction error: ${s.error}`)),s.objectStore(this.storeName).put(t,e)})}async getItem(e){return this.db||await this.init(),new Promise((t,n)=>{const a=this.db.transaction(this.storeName,"readonly");a.onerror=()=>n(new Error(`Transaction error: ${a.error}`));const s=a.objectStore(this.storeName).get(e);s.onsuccess=()=>t(s.result||null)})}async deleteItem(e){return this.db||await this.init(),new Promise((t,n)=>{const a=this.db.transaction(this.storeName,"readwrite");a.oncomplete=()=>t(),a.onerror=()=>n(new Error(`Transaction error: ${a.error}`)),a.objectStore(this.storeName).delete(e)})}async clear(){return this.db||await this.init(),new Promise((e,t)=>{const n=this.db.transaction(this.storeName,"readwrite");n.oncomplete=()=>e(),n.onerror=()=>t(new Error(`Transaction error: ${n.error}`)),n.objectStore(this.storeName).clear()})}close(){this.db&&(this.db.close(),this.db=null)}}async function Ud(){const i=crypto.randomUUID()+"-"+crypto.randomUUID(),e=new Uint8Array(await crypto.subtle.digest("SHA-256",new TextEncoder().encode(i))),t=btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return{verifier:i,challenge:t}}async function Wl(i,e,t,n=null){const a=await pl(i.publicKey),s={htu:e,htm:t};return n&&(s.ath=n),new cc(s).setIssuedAt().setJti(crypto.randomUUID()).setProtectedHeader({alg:"ES256",typ:"dpop+jwt",jwk:a}).sign(i.privateKey)}async function Pd(i){const e=new TextEncoder().encode(i),t=await crypto.subtle.digest("SHA-256",e),n=Array.from(new Uint8Array(t));return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qd(i){const e=new URL(i).origin,t=await fetch(`${e}/.well-known/openid-configuration`);if(!t.ok)throw new Error(`OIDC discovery failed: ${t.status}`);return t.json()}async function Hd(i,e){const t=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({application_type:"web",redirect_uris:e,token_endpoint_auth_method:"none",grant_types:["authorization_code","refresh_token"],response_types:["code"],scope:"openid offline_access webid"})});if(!t.ok)throw new Error(`Client registration failed: ${t.status}`);return t.json()}async function Ql(i,e,t){const n=await Wl(t,i,"POST"),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",DPoP:n},body:new URLSearchParams(e)});if(!a.ok)throw new Error(`Token request failed: ${a.status}`);return a.json()}async function zd(i,e,t,n,a){const s=lc(new URL(e)),{payload:r}=await uc(i,s,{issuer:t,audience:"solid"}),l=await oc(await pl(a.publicKey));if(r.cnf?.jkt!==l)throw new Error("DPoP thumbprint mismatch");if(r.client_id!==n)throw new Error("client_id mismatch");return r}async function jd(i){await i.init();const[e,t,n,a]=await Promise.all([i.getItem("refresh_token"),i.getItem("token_endpoint"),i.getItem("client_id"),i.getItem("dpop_keypair")]);if(!e||!t||!n||!a)throw new Error("Missing refresh data");const s=await Ql(t,{grant_type:"refresh_token",refresh_token:e,client_id:n},a);return s.refresh_token&&await i.setItem("refresh_token",s.refresh_token),i.close(),{...s,dpop_key_pair:a}}class Vd extends EventTarget{constructor(e={}){super(),this.clientId=e.clientId||null,this.database=e.database||new Md,this.onStateChange=e.onStateChange||null,this.onExpirationWarning=e.onExpirationWarning||null,this.onExpiration=e.onExpiration||null,this._isActive=!1,this._webId=null,this._exp=null,this._ath=null,this._tokens=null,this._idpDetails=null,this._refreshPromise=null,this.onStateChange&&this.addEventListener(Un.STATE_CHANGE,this.onStateChange),this.onExpirationWarning&&this.addEventListener(Un.EXPIRATION_WARNING,this.onExpirationWarning),this.onExpiration&&this.addEventListener(Un.EXPIRATION,this.onExpiration)}get isActive(){return this._isActive}get webId(){return this._webId}isExpired(){return this._exp?Math.floor(Date.now()/1e3)>=this._exp:!0}getExpiresIn(){return this._exp?this._exp-Math.floor(Date.now()/1e3):-1}async login(e,t){const n=new URL(t),a=n.origin+n.pathname+n.search,s=await qd(e),r=s.issuer,l=m=>m.endsWith("/")?m.slice(0,-1):m;if(l(e)!==l(r))throw new Error(`Issuer mismatch: ${r} !== ${e}`);sessionStorage.setItem("solid_oidc_idp",r),sessionStorage.setItem("solid_oidc_token_endpoint",s.token_endpoint),sessionStorage.setItem("solid_oidc_jwks_uri",s.jwks_uri);let o=this.clientId;o||(o=(await Hd(s.registration_endpoint,[a])).client_id,sessionStorage.setItem("solid_oidc_client_id",o));const c=await Ud();sessionStorage.setItem("solid_oidc_pkce_verifier",c.verifier);const h=crypto.randomUUID();sessionStorage.setItem("solid_oidc_csrf",h);const p=new URL(s.authorization_endpoint);p.searchParams.set("response_type","code"),p.searchParams.set("redirect_uri",a),p.searchParams.set("scope","openid offline_access webid"),p.searchParams.set("client_id",o),p.searchParams.set("code_challenge_method","S256"),p.searchParams.set("code_challenge",c.challenge),p.searchParams.set("state",h),p.searchParams.set("prompt","consent"),window.location.href=p.toString()}async handleRedirectFromLogin(){const e=new URL(window.location.href),t=e.searchParams.get("code");if(!t)return;const n=sessionStorage.getItem("solid_oidc_idp"),a=e.searchParams.get("iss");if(!n||a!==n)throw new Error(`Issuer mismatch: ${a} !== ${n}`);const s=sessionStorage.getItem("solid_oidc_csrf");if(e.searchParams.get("state")!==s)throw new Error("CSRF token mismatch");e.searchParams.delete("code"),e.searchParams.delete("iss"),e.searchParams.delete("state"),window.history.replaceState({},document.title,e.toString());const r=sessionStorage.getItem("solid_oidc_pkce_verifier"),l=sessionStorage.getItem("solid_oidc_token_endpoint"),o=sessionStorage.getItem("solid_oidc_jwks_uri"),c=this.clientId||sessionStorage.getItem("solid_oidc_client_id");if(!r||!l||!c)throw new Error("Missing session data");const h=await ac("ES256"),p=await Ql(l,{grant_type:"authorization_code",code:t,code_verifier:r,redirect_uri:e.origin+e.pathname,client_id:c},h);await zd(p.access_token,o,n,c,h),this._idpDetails={idp:n,jwksUri:o,tokenEndpoint:l},await this.database.init(),await Promise.all([this.database.setItem("idp",n),this.database.setItem("jwks_uri",o),this.database.setItem("token_endpoint",l),this.database.setItem("client_id",c),this.database.setItem("dpop_keypair",h),this.database.setItem("refresh_token",p.refresh_token)]),this.database.close(),sessionStorage.removeItem("solid_oidc_idp"),sessionStorage.removeItem("solid_oidc_token_endpoint"),sessionStorage.removeItem("solid_oidc_jwks_uri"),sessionStorage.removeItem("solid_oidc_client_id"),sessionStorage.removeItem("solid_oidc_pkce_verifier"),sessionStorage.removeItem("solid_oidc_csrf"),await this._setTokens({...p,dpop_key_pair:h}),this._dispatchStateChange()}async restore(){return this._refreshPromise?this._refreshPromise:(this._refreshPromise=(async()=>{try{const e=await jd(this.database);await this._setTokens(e),this._dispatchStateChange()}catch(e){throw this._isActive&&(this.isExpired()?this._dispatchExpiration():this._dispatchExpirationWarning()),e}finally{this._refreshPromise=null}})(),this._refreshPromise)}async logout(){this._isActive=!1,this._webId=null,this._exp=null,this._ath=null,this._tokens=null,this._idpDetails=null,await this.database.init(),await this.database.clear(),this.database.close(),this._dispatchStateChange()}async authFetch(e,t={}){if(!this._isActive)return fetch(e,t);this.isExpired()&&await this.restore();let n,a,s;e instanceof Request?(n=new URL(e.url),a=t.method||e.method||"GET",s=new Headers(e.headers)):(n=new URL(e.toString()),a=t.method||"GET",s=t.headers?new Headers(t.headers):new Headers);const r=await Wl(this._tokens.dpop_key_pair,`${n.origin}${n.pathname}`,a.toUpperCase(),this._ath);return s.set("DPoP",r),s.set("Authorization",`DPoP ${this._tokens.access_token}`),e instanceof Request?fetch(new Request(e,{...t,headers:s})):fetch(n,{...t,headers:s})}async _setTokens(e){this._tokens=e;const t=sc(e.access_token);if(!t.webid)throw new Error("Missing webid claim");if(!t.exp)throw new Error("Missing exp claim");this._ath=await Pd(e.access_token),this._webId=t.webid,this._exp=t.exp,this._isActive=!0}_dispatchStateChange(){this.dispatchEvent(new CustomEvent(Un.STATE_CHANGE,{detail:{isActive:this._isActive,webId:this._webId}}))}_dispatchExpirationWarning(){this.dispatchEvent(new CustomEvent(Un.EXPIRATION_WARNING,{detail:{expires_in:this.getExpiresIn()}}))}_dispatchExpiration(){this.dispatchEvent(new CustomEvent(Un.EXPIRATION))}}const Gd={label:"Source",icon:"📄",canHandle(i,e){return!0},render(i,e,t){t.innerHTML="";const n=i.doc(),a=e.match(null,null,null,n),s=e.fetcher,r=Xd(a,n,e),l=document.createElement("div");l.className="source-header";const o=document.createElement("h2");if(o.textContent="Source",l.appendChild(o),s){const h=document.createElement("button");h.className="source-edit-btn",h.textContent="Edit",h.addEventListener("click",()=>{Yl(t,l,r,n,s)}),l.appendChild(h)}if(t.appendChild(l),a.length===0){const h=document.createElement("p");h.textContent="No triples found in this document.",t.appendChild(h);return}const c=document.createElement("pre");c.className="source-view",c.textContent=r,t.appendChild(c)}};function Xd(i,e,t){if(i.length===0)return"";try{return Cr(e,t,void 0,"text/turtle")??""}catch{return i.map(n=>`<${n.subject.value}> <${n.predicate.value}> ${n.object.termType==="NamedNode"?`<${n.object.value}>`:`"${n.object.value}"`} .`).join(`
`)}}function Yl(i,e,t,n,a){for(;e.nextSibling;)e.nextSibling.remove();const s=e.querySelector(".source-edit-btn");s&&s.remove();const r=document.createElement("div");r.className="source-btn-group";const l=document.createElement("button");l.className="source-save-btn",l.textContent="Save";const o=document.createElement("button");o.className="source-cancel-btn",o.textContent="Cancel",r.appendChild(l),r.appendChild(o),e.appendChild(r);const c=document.createElement("textarea");c.className="source-editor",c.value=t,c.spellcheck=!1,i.appendChild(c),c.focus();const h=document.createElement("p");h.className="source-status",i.appendChild(h),o.addEventListener("click",()=>{zs(i,e,t,n,a)}),l.addEventListener("click",async()=>{l.disabled=!0,o.disabled=!0,h.textContent="Saving...",h.className="source-status";try{const p=await a.webOperation("PUT",n.value,{data:c.value,contentType:"text/turtle"});if(!p.ok)throw new Error(`${p.status} ${p.statusText}`);h.textContent="Saved!",h.className="source-status source-status-ok",setTimeout(()=>{zs(i,e,c.value,n,a)},800)}catch(p){const m=p instanceof Error?p.message:String(p);h.textContent=`Save failed: ${m}`,h.className="source-status source-status-error",l.disabled=!1,o.disabled=!1}})}function zs(i,e,t,n,a){for(;e.nextSibling;)e.nextSibling.remove();const s=e.querySelector(".source-btn-group");s&&s.remove();const r=document.createElement("button");if(r.className="source-edit-btn",r.textContent="Edit",r.addEventListener("click",()=>{Yl(i,e,t,n,a)}),e.appendChild(r),t){const l=document.createElement("pre");l.className="source-view",l.textContent=t,i.appendChild(l)}else{const l=document.createElement("p");l.textContent="No triples found in this document.",i.appendChild(l)}}Be(Gd);const me=Ie("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),it=Ie("http://www.w3.org/2000/01/rdf-schema#"),nt=Ie("http://purl.org/dc/elements/1.1/"),de=Ie("http://purl.org/dc/terms/"),Ce=Ie("http://xmlns.com/foaf/0.1/"),tt=Ie("http://www.w3.org/ns/ldp#"),Jt=Ie("http://www.w3.org/ns/solid/terms#"),js=Ie("http://www.w3.org/ns/posix/stat#"),be=Ie("http://www.w3.org/2006/vcard/ns#"),Qn=Ie("http://www.w3.org/ns/pim/space#"),wt=Ie("http://www.w3.org/ns/auth/acl#"),yt=Ie("http://www.w3.org/ns/ui#"),Lt=Ie("http://rdfs.org/sioc/ns#"),Ut=Ie("http://www.w3.org/ns/pim/meeting#"),Ct=Ie("http://www.w3.org/2005/01/wf/flow#"),vt=Ie("http://www.w3.org/ns/pim/transaction#"),ta=Ie("http://www.w3.org/ns/pim/tracker#"),Ze=Ie("https://www.w3.org/ns/activitystreams#"),_n=Ie("http://www.w3.org/2002/01/bookmark#"),Hi=Ie("http://www.w3.org/ns/org#"),li=Ie("http://www.w3.org/ns/pim/pad#"),ii=Ie("http://rdfs.org/sioc/types#"),gr=Ie("http://purl.org/ontology/olo/core#"),Wd=Ie("http://purl.org/ontology/pbo/core#"),Qd=Ie("http://purl.org/ontology/mo/"),B=Ie("http://schema.org/");function Yd(i){const e=i.indexOf("#");return e>=0?i.slice(e+1):""}function fe(i){const e=Yd(i);if(e)return decodeURIComponent(e);try{const n=new URL(i).pathname.split("/").filter(Boolean);return n.length>0?decodeURIComponent(n[n.length-1]):i}catch{return i}}const Zl="mashlib:navigate";function na(i){window.dispatchEvent(new CustomEvent(Zl,{detail:{uri:i}}))}function Kt(i,e){const t=document.createElement("a");return t.href=`?uri=${encodeURIComponent(i)}`,t.textContent=e,t.addEventListener("click",n=>{n.preventDefault(),na(i)}),t}function Zd(i,e){return e.any(i,it("label"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,nt("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function Jd(i,e){return e.match(null,null,null,null),fe(i)}function Kd(i,e){const t=e.match(i,null,null,null),n=new Map;for(const s of t){const r=s.predicate.value;n.has(r)||n.set(r,{predicate:r,predicateLabel:Jd(r,e),objects:[]}),n.get(r).objects.push({value:s.object.value,termType:s.object.termType,datatype:s.object.datatype?.value,language:s.object.language})}return[...n.values()].sort((s,r)=>s.predicate===me("type").value?-1:r.predicate===me("type").value?1:s.predicateLabel.localeCompare(r.predicateLabel))}function eh(i){const e=document.createElement("span");if(e.className="outline-value",i.termType==="NamedNode"){const t=Kt(i.value,fe(i.value));t.className="outline-link",t.title=i.value,e.appendChild(t)}else if(i.termType==="BlankNode")e.textContent=`_:${i.value}`,e.className+=" outline-blank";else{const t=document.createElement("span");if(t.className="outline-literal",t.textContent=i.value,e.appendChild(t),i.language){const n=document.createElement("span");n.className="outline-lang",n.textContent=`@${i.language}`,e.appendChild(n)}else if(i.datatype&&!i.datatype.includes("XMLSchema#string")){const n=document.createElement("span");n.className="outline-datatype",n.textContent=`^^${fe(i.datatype)}`,e.appendChild(n)}}return e}function th(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="outline-view";const a=Zd(i,e),s=document.createElement("h2");s.className="outline-title",s.textContent=a,n.appendChild(s);const r=document.createElement("p");r.className="outline-uri";const l=document.createElement("code");l.textContent=i.value,r.appendChild(l),n.appendChild(r);const o=Kd(i,e);if(o.length===0){const M=document.createElement("p");M.className="outline-empty",M.textContent="No triples found for this resource.",n.appendChild(M),t.appendChild(n);return}const c=o.reduce((M,R)=>M+R.objects.length,0),h=document.createElement("p");h.className="outline-count",h.textContent=`${c} triple${c!==1?"s":""} across ${o.length} predicate${o.length!==1?"s":""}`,n.appendChild(h);const p=document.createElement("table");p.className="outline-table";const m=document.createElement("thead"),y=document.createElement("tr"),w=document.createElement("th");w.textContent="Property";const x=document.createElement("th");x.textContent="Value",y.appendChild(w),y.appendChild(x),m.appendChild(y),p.appendChild(m);const D=document.createElement("tbody");for(const M of o)for(let R=0;R<M.objects.length;R++){const Z=document.createElement("tr"),Y=document.createElement("td");if(Y.className="outline-predicate",R===0){const V=document.createElement("a");V.href=M.predicate,V.textContent=M.predicateLabel,V.title=M.predicate,V.target="_blank",V.rel="noopener",Y.appendChild(V),M.objects.length>1&&(Y.rowSpan=M.objects.length),Z.appendChild(Y)}const T=document.createElement("td");T.className="outline-object",T.appendChild(eh(M.objects[R])),Z.appendChild(T),D.appendChild(Z)}p.appendChild(D),n.appendChild(p),t.appendChild(n)}const nh={label:"Outline",icon:"🔍",canHandle(i,e){return e.match(i,null,null,null).length>0},render(i,e,t){th(i,e,t)}};Be(nh);const rh={label:"Properties",icon:"📋",canHandle(i,e){return!0},render(i,e,t){t.innerHTML="";const n=document.createElement("h2");n.textContent=fe(i.value),t.appendChild(n);const a=document.createElement("p");a.className="subject-uri";const s=document.createElement("a");s.href=i.value,s.textContent=i.value,s.target="_blank",s.rel="noopener",a.appendChild(s),t.appendChild(a);const r=e.match(i,null,null,null);if(r.length===0){const p=document.createElement("p");p.textContent="No properties found for this subject.",t.appendChild(p);return}const l=new Map;for(const p of r){const m=p.predicate.value;l.has(m)||l.set(m,{predicate:p.predicate,objects:[]}),l.get(m).objects.push({value:p.object.value,isUri:p.object.termType==="NamedNode"})}const o=document.createElement("table");o.className="properties-table";const c=document.createElement("thead");c.innerHTML="<tr><th>Property</th><th>Value</th></tr>",o.appendChild(c);const h=document.createElement("tbody");for(const[,{predicate:p,objects:m}]of l)for(const y of m){const w=document.createElement("tr"),x=document.createElement("td");x.className="prop-predicate";const D=document.createElement("a");D.href=p.value,D.textContent=fe(p.value),D.title=p.value,D.target="_blank",D.rel="noopener",x.appendChild(D),w.appendChild(x);const M=document.createElement("td");if(M.className="prop-value",y.isUri){const R=document.createElement("a");R.href=y.value,R.textContent=fe(y.value),R.title=y.value,R.target="_blank",R.rel="noopener",M.appendChild(R)}else M.textContent=y.value;w.appendChild(M),h.appendChild(w)}o.appendChild(h),t.appendChild(o)}};Be(rh);const Jl=[{uri:"Read",label:"Read",description:"can view the resource"},{uri:"Append",label:"Append",description:"can add new content"},{uri:"Write",label:"Write",description:"can modify content"},{uri:"Control",label:"Control",description:"can manage sharing"}],ih=[{label:"Owners",modes:["Read","Write","Control"],color:"#7b2d8e"},{label:"Editors",modes:["Read","Write"],color:"#dc3545"},{label:"Posters",modes:["Read","Append"],color:"#e67e00"},{label:"Submitters",modes:["Append"],color:"#ccaa00"},{label:"Viewers",modes:["Read"],color:"#28a745"}];function ah(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return n.includes(tt("Container").value)||n.includes(tt("BasicContainer").value)?!0:i.value.endsWith("/")}function ur(i,e){if(i===Ce("Agent").value)return"Everyone (public)";if(i===wt("AuthenticatedAgent").value)return"Anyone logged in";const t={termType:"NamedNode",value:i},n=e.any(t,Ce("name"),null,null)?.value??e.any(t,be("fn"),null,null)?.value;return n||fe(i)}function sh(i,e){const t=[],n=e.each(null,wt("accessTo"),i,null);for(const s of n){if(s.termType!=="NamedNode")continue;const r=s,l=e.each(r,me("type"),null,null);if(!l.some(p=>p.value===wt("Authorization").value)&&l.length>0)continue;const h=e.each(r,wt("mode"),null,null).map(p=>fe(p.value));for(const p of e.each(r,wt("agent"),null,null))t.push({agentType:"agent",agentUri:p.value,agentLabel:ur(p.value,e),modes:h});for(const p of e.each(r,wt("agentClass"),null,null))t.push({agentType:"agentClass",agentUri:p.value,agentLabel:ur(p.value,e),modes:h});for(const p of e.each(r,wt("agentGroup"),null,null))t.push({agentType:"agentGroup",agentUri:p.value,agentLabel:ur(p.value,e),modes:h})}const a=e.each(null,wt("default"),i,null);for(const s of a){if(s.termType!=="NamedNode")continue;const r=s,o=e.each(r,wt("mode"),null,null).map(c=>fe(c.value));for(const c of e.each(r,wt("agent"),null,null)){const h=c.value;t.some(p=>p.agentUri===h&&p.modes.join()===o.join())||t.push({agentType:"agent",agentUri:h,agentLabel:ur(h,e),modes:o})}for(const c of e.each(r,wt("agentClass"),null,null)){const h=c.value;t.some(p=>p.agentUri===h&&p.modes.join()===o.join())||t.push({agentType:"agentClass",agentUri:h,agentLabel:ur(h,e),modes:o})}}return t}function lh(i){const e=new Map;for(const t of i){const n=t.modes.sort().join(",");e.has(n)||e.set(n,[]),e.get(n).push(t)}return e}function uh(i){const e=[...i].sort().join(",");for(const t of ih)if([...t.modes].sort().join(",")===e)return{label:t.label,color:t.color};return{label:i.join(" + "),color:"#555"}}function oh(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="sharing-view";const a=ah(i,e)?"folder":"file",s=document.createElement("h2");s.className="sharing-title",s.textContent=`Sharing for ${a}`,n.appendChild(s);const r=document.createElement("p");r.className="sharing-resource";const l=document.createElement("code");l.textContent=i.value,r.appendChild(l),n.appendChild(r);const o=sh(i,e);if(o.length===0){const p=document.createElement("p");p.className="sharing-no-acl",p.textContent="No specific sharing settings found. This resource may inherit permissions from its parent container.",n.appendChild(p),Vs(n),t.appendChild(n);return}const c=lh(o),h=document.createElement("div");h.className="sharing-permissions";for(const[p,m]of c){const y=p.split(","),{label:w,color:x}=uh(y),D=document.createElement("div");D.className="sharing-level";const M=document.createElement("div");M.className="sharing-level-name",M.style.color=x,M.textContent=w,D.appendChild(M);const R=document.createElement("div");R.className="sharing-agents";for(const T of m){const V=document.createElement("span");V.className=`sharing-agent sharing-agent-${T.agentType}`,V.textContent=T.agentLabel,V.title=T.agentUri,R.appendChild(V)}D.appendChild(R);const Z=document.createElement("div");Z.className="sharing-level-desc",Z.style.color=x;const Y=y.map(T=>{const V=Jl.find($=>$.uri===T);return V?V.description:T});Z.textContent=Y.join(", "),D.appendChild(Z),h.appendChild(D)}if(n.appendChild(h),a==="folder"){const p=document.createElement("p");p.className="sharing-default-info",p.textContent="Folder permissions may also apply as defaults for new resources created within.",n.appendChild(p)}Vs(n),t.appendChild(n)}function Vs(i){const e=document.createElement("div");e.className="sharing-legend";const t=document.createElement("h3");t.textContent="Access Modes",e.appendChild(t);const n=document.createElement("table");n.className="sharing-legend-table";for(const a of Jl){const s=document.createElement("tr"),r=document.createElement("td");r.className="sharing-legend-mode",r.textContent=a.label;const l=document.createElement("td");l.textContent=a.description,s.appendChild(r),s.appendChild(l),n.appendChild(s)}e.appendChild(n),i.appendChild(e)}function ch(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(tt("Resource").value)||n.includes(tt("Container").value)||n.includes(tt("BasicContainer").value)||i.value.endsWith("/"))}const dh={label:"Sharing",icon:"🔒",canHandle(i,e){return ch(i,e)},render(i,e,t){oh(i,e,t)}};Be(dh);function zi(i){return fe(i)}function Gs(i){return i.startsWith("http://")||i.startsWith("https://")?fe(i):i.length>120?i.slice(0,117)+"...":i}function hh(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="table-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,it("label"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="table-title",s.textContent=a,n.appendChild(s);let r=[],l="";const o=e.each(i,B("itemListElement"),null,null);if(o.length>0&&(r=o,l="List Items"),r.length===0){const Y=Kl(i,e);Y&&(r=Y.items,l=fe(Y.typeUri))}const c=document.createElement("p");if(c.className="table-count",c.textContent=`${r.length} ${l}${r.length!==1?"s":""}`,n.appendChild(c),r.length===0){const Y=document.createElement("p");Y.className="table-empty",Y.textContent="No items to display.",n.appendChild(Y),t.appendChild(n);return}const h=new Set;for(const Y of r){const T=e.match(Y,null,null,null);for(const V of T){const $=V.predicate.value;$!==me("type").value&&h.add($)}}const p=Array.from(h),m=[B("name").value,de("title").value,it("label").value,B("description").value,de("description").value];p.sort((Y,T)=>{const V=m.indexOf(Y),$=m.indexOf(T);return V!==-1&&$!==-1?V-$:V!==-1?-1:$!==-1?1:zi(Y).localeCompare(zi(T))});const y=8,w=p.slice(0,y),x=document.createElement("div");x.className="table-scroll";const D=document.createElement("table");D.className="table-data";const M=document.createElement("thead"),R=document.createElement("tr");for(const Y of w){const T=document.createElement("th");T.className="table-header",T.textContent=zi(Y),T.setAttribute("data-predicate",Y),T.addEventListener("click",()=>{fh(D,w.indexOf(Y))}),R.appendChild(T)}M.appendChild(R),D.appendChild(M);const Z=document.createElement("tbody");for(const Y of r){const T=document.createElement("tr");T.className="table-row";for(const V of w){const $=document.createElement("td");$.className="table-cell";const q=e.each(Y,fi(V),null,null);if(q.length>0){const F=q[0].value;if(F.startsWith("http://")||F.startsWith("https://")){const P=document.createElement("a");P.href=F,P.textContent=Gs(F),P.className="table-link",$.appendChild(P)}else $.textContent=Gs(F)}T.appendChild($)}Z.appendChild(T)}if(D.appendChild(Z),x.appendChild(D),n.appendChild(x),p.length>y){const Y=document.createElement("p");Y.className="table-more",Y.textContent=`+ ${p.length-y} more columns hidden`,n.appendChild(Y)}t.appendChild(n)}function fh(i,e,t,n,a){const s=i.querySelector("tbody");if(!s)return;const r=Array.from(s.querySelectorAll("tr")),l=i.querySelectorAll("th")[e],c=(l?.getAttribute("data-sort")??"none")==="asc"?"desc":"asc";i.querySelectorAll("th").forEach(h=>h.removeAttribute("data-sort")),l?.setAttribute("data-sort",c),r.sort((h,p)=>{const m=h.children[e]?.textContent??"",y=p.children[e]?.textContent??"",w=m.localeCompare(y,void 0,{numeric:!0});return c==="asc"?w:-w});for(const h of r)s.appendChild(h)}const ph=[B("Dataset").value,B("DataCatalog").value,B("ItemList").value,it("Class").value];function Kl(i,e){const t=i.doc(),n=e.match(null,me("type"),null,t),a=new Map;for(const l of n){const o=l.object.value;if(o===it("Resource").value||o===me("Statement").value)continue;const c=a.get(o)??[];c.push(l.subject),a.set(o,c)}let s=null,r=[];for(const[l,o]of a)o.length>=2&&o.length>r.length&&(s=l,r=o);return s&&r.length>=2?{typeUri:s,items:r}:null}function mh(i,e){const t=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of ph)if(t.includes(a))return!0;if(e.any(i,B("itemListElement"),null,null))return!0;const n=Kl(i,e);return!!(n&&n.items.length>=3)}const gh={label:"Table",icon:"📊",canHandle(i,e){return mh(i,e)},render(i,e,t){hh(i,e,t)}};Be(gh);const vh=[".html",".htm",".xhtml"];function yh(i){try{const e=new URL(i).pathname.toLowerCase();return vh.some(t=>e.endsWith(t))}catch{return!1}}const wh={label:"HTML",icon:"🌐",canHandle(i,e){return yh(i.value)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="html-view";const a=document.createElement("iframe");a.className="html-frame",a.src=i.value,a.setAttribute("sandbox","allow-same-origin"),a.title="HTML content",a.addEventListener("load",()=>{try{const s=a.contentDocument;if(s){const r=s.documentElement.scrollHeight;a.style.height=`${Math.max(r,200)}px`}}catch{a.style.height="80vh"}}),n.appendChild(a),t.appendChild(n)}};Be(wh);const Eh={".mp3":"audio/mpeg",".wav":"audio/wav",".ogg":"audio/ogg",".oga":"audio/ogg",".flac":"audio/flac",".aac":"audio/aac",".m4a":"audio/mp4",".opus":"audio/opus",".weba":"audio/webm"};function Xs(i){try{const e=new URL(i).pathname.toLowerCase();for(const[t,n]of Object.entries(Eh))if(e.endsWith(t))return n}catch{}}function Ch(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(B("AudioObject").value)||n.includes(Qd("Track").value))}const bh={label:"Audio",icon:"🎵",canHandle(i,e){return Xs(i.value)!==void 0||Ch(i,e)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="audio-view";const a=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value),s=document.createElement("h3");s.className="audio-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("byArtist"),null,null)?.value??e.any(i,de("creator"),null,null)?.value;if(r){const p=document.createElement("p");p.className="audio-artist",p.textContent=r,n.appendChild(p)}const l=document.createElement("audio");l.className="audio-player",l.controls=!0,l.preload="metadata";const o=Xs(i.value);if(o){const p=document.createElement("source");p.src=i.value,p.type=o,l.appendChild(p)}else l.src=i.value;const c=document.createElement("p");c.textContent="Your browser does not support this audio format.",l.appendChild(c),n.appendChild(l);const h=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value;if(h){const p=document.createElement("p");p.className="audio-description",p.textContent=h,n.appendChild(p)}t.appendChild(n)}};Be(bh);const xh=[".png",".jpg",".jpeg",".gif",".svg",".webp",".bmp",".ico",".avif"];function Nh(i){const e=new URL(i).pathname.toLowerCase();return xh.some(t=>e.endsWith(t))}function Th(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(Ce("Image").value)||n.includes(B("ImageObject").value))}const Ah={label:"Image",icon:"🖼",canHandle(i,e){return Nh(i.value)||Th(i,e)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="image-view";const a=document.createElement("img");a.className="image-main",a.src=i.value,a.alt=fe(i.value),a.addEventListener("error",()=>{a.style.display="none";const l=document.createElement("p");l.className="error",l.textContent="Failed to load image.",n.appendChild(l)}),n.appendChild(a);const s=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value,r=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value;if(s||r){const l=document.createElement("div");if(l.className="image-caption",s){const o=document.createElement("h3");o.textContent=s,l.appendChild(o)}if(r){const o=document.createElement("p");o.textContent=r,l.appendChild(o)}n.appendChild(l)}t.appendChild(n)}};Be(Ah);function Dh(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _h(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="code-view";const a=document.createElement("div");a.className="code-header";const r=i.value.split("?")[0].split("#")[0].split("/").pop()??i.value,l=eu(i.value),o=document.createElement("span");if(o.className="code-filename",o.textContent=r,a.appendChild(o),l){const p=document.createElement("span");p.className="code-language",p.textContent=l,a.appendChild(p)}n.appendChild(a);const c=e.any(i,Jt("content"),null,null)?.value??e.any(i,de("content"),null,null)?.value;if(c){Ws(c,n),t.appendChild(n);return}const h=document.createElement("p");h.className="code-loading",h.textContent="Loading...",n.appendChild(h),t.appendChild(n),fetch(i.value).then(p=>{if(!p.ok)throw new Error(`HTTP ${p.status}`);return p.text()}).then(p=>{h.remove(),Ws(p,n)}).catch(p=>{h.textContent=`Failed to load: ${p.message}`,h.className="code-error"})}function Ws(i,e){const t=i.split(`
`);t.length>0&&t[t.length-1]===""&&t.pop();const n=document.createElement("pre");n.className="code-block";const a=document.createElement("table");a.className="code-table",String(t.length).length;for(let r=0;r<t.length;r++){const l=document.createElement("tr");l.className="code-line";const o=document.createElement("td");o.className="code-line-number",o.textContent=String(r+1),o.setAttribute("data-line",String(r+1)),l.appendChild(o);const c=document.createElement("td");c.className="code-line-content",c.innerHTML=Dh(t[r])||`
`,l.appendChild(c),a.appendChild(l)}n.appendChild(a);const s=document.createElement("div");s.className="code-footer",s.textContent=`${t.length} line${t.length!==1?"s":""}`,e.appendChild(n),e.appendChild(s)}const kh={".js":"JavaScript",".mjs":"JavaScript",".cjs":"JavaScript",".jsx":"JSX",".ts":"TypeScript",".tsx":"TSX",".py":"Python",".rb":"Ruby",".rs":"Rust",".go":"Go",".java":"Java",".kt":"Kotlin",".scala":"Scala",".c":"C",".h":"C Header",".cpp":"C++",".cc":"C++",".hpp":"C++ Header",".cs":"C#",".swift":"Swift",".php":"PHP",".pl":"Perl",".lua":"Lua",".r":"R",".sh":"Shell",".bash":"Bash",".zsh":"Zsh",".fish":"Fish",".ps1":"PowerShell",".sql":"SQL",".json":"JSON",".yaml":"YAML",".yml":"YAML",".toml":"TOML",".xml":"XML",".css":"CSS",".scss":"SCSS",".less":"LESS",".sass":"Sass",".graphql":"GraphQL",".gql":"GraphQL",".proto":"Protocol Buffers",".dockerfile":"Dockerfile",".tf":"Terraform",".vim":"Vim Script",".el":"Emacs Lisp",".clj":"Clojure",".ex":"Elixir",".exs":"Elixir",".erl":"Erlang",".hs":"Haskell",".ml":"OCaml",".fs":"F#",".dart":"Dart",".zig":"Zig",".v":"V",".nim":"Nim",".wasm":"WebAssembly",".wat":"WebAssembly Text"};function eu(i){const t=i.split("?")[0].split("#")[0].split("/").pop()??"",n=t.toLowerCase();if(n==="dockerfile")return"Dockerfile";if(n==="makefile"||n==="gnumakefile")return"Makefile";if(n==="rakefile"||n==="gemfile")return"Ruby";if(n==="cmakelists.txt")return"CMake";const a=t.lastIndexOf(".");if(a===-1)return null;const s=t.slice(a).toLowerCase();return kh[s]??null}function Sh(i,e){return!!(eu(i.value)||e.each(i,me("type"),null,null).map(n=>n.value).includes(B("SoftwareSourceCode").value))}const Ih={label:"Code",icon:"💻",canHandle(i,e){return Sh(i,e)},render(i,e,t){_h(i,e,t)}};Be(Ih);function va(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var On=va();function tu(i){On=i}var vr={exec:()=>null};function Ue(i,e=""){let t=typeof i=="string"?i:i.source;const n={replace:(a,s)=>{let r=typeof s=="string"?s:s.source;return r=r.replace(Et.caret,"$1"),t=t.replace(a,r),n},getRegex:()=>new RegExp(t,e)};return n}var Et={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},Bh=/^(?:[ \t]*(?:\n|$))+/,Fh=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Lh=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Tr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Rh=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ya=/(?:[*+-]|\d{1,9}[.)])/,nu=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ru=Ue(nu).replace(/bull/g,ya).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oh=Ue(nu).replace(/bull/g,ya).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wa=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,$h=/^[^\n]+/,Ea=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Mh=Ue(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ea).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Uh=Ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ya).getRegex(),pi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ca=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ph=Ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ca).replace("tag",pi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),iu=Ue(wa).replace("hr",Tr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi).getRegex(),qh=Ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",iu).getRegex(),ba={blockquote:qh,code:Fh,def:Mh,fences:Lh,heading:Rh,hr:Tr,html:Ph,lheading:ru,list:Uh,newline:Bh,paragraph:iu,table:vr,text:$h},Qs=Ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Tr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi).getRegex(),Hh={...ba,lheading:Oh,table:Qs,paragraph:Ue(wa).replace("hr",Tr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi).getRegex()},zh={...ba,html:Ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ca).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ue(wa).replace("hr",Tr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ru).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},jh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Vh=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,au=/^( {2,}|\\)\n(?!\s*$)/,Gh=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mi=/[\p{P}\p{S}]/u,xa=/[\s\p{P}\p{S}]/u,su=/[^\s\p{P}\p{S}]/u,Xh=Ue(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xa).getRegex(),lu=/(?!~)[\p{P}\p{S}]/u,Wh=/(?!~)[\s\p{P}\p{S}]/u,Qh=/(?:[^\s\p{P}\p{S}]|~)/u,Yh=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,uu=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Zh=Ue(uu,"u").replace(/punct/g,mi).getRegex(),Jh=Ue(uu,"u").replace(/punct/g,lu).getRegex(),ou="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Kh=Ue(ou,"gu").replace(/notPunctSpace/g,su).replace(/punctSpace/g,xa).replace(/punct/g,mi).getRegex(),ef=Ue(ou,"gu").replace(/notPunctSpace/g,Qh).replace(/punctSpace/g,Wh).replace(/punct/g,lu).getRegex(),tf=Ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,su).replace(/punctSpace/g,xa).replace(/punct/g,mi).getRegex(),nf=Ue(/\\(punct)/,"gu").replace(/punct/g,mi).getRegex(),rf=Ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),af=Ue(Ca).replace("(?:-->|$)","-->").getRegex(),sf=Ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",af).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ui=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,lf=Ue(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ui).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cu=Ue(/^!?\[(label)\]\[(ref)\]/).replace("label",ui).replace("ref",Ea).getRegex(),du=Ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ea).getRegex(),uf=Ue("reflink|nolink(?!\\()","g").replace("reflink",cu).replace("nolink",du).getRegex(),Na={_backpedal:vr,anyPunctuation:nf,autolink:rf,blockSkip:Yh,br:au,code:Vh,del:vr,emStrongLDelim:Zh,emStrongRDelimAst:Kh,emStrongRDelimUnd:tf,escape:jh,link:lf,nolink:du,punctuation:Xh,reflink:cu,reflinkSearch:uf,tag:sf,text:Gh,url:vr},of={...Na,link:Ue(/^!?\[(label)\]\((.*?)\)/).replace("label",ui).getRegex(),reflink:Ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ui).getRegex()},ra={...Na,emStrongRDelimAst:ef,emStrongLDelim:Jh,url:Ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},cf={...ra,br:Ue(au).replace("{2,}","*").getRegex(),text:Ue(ra.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ei={normal:ba,gfm:Hh,pedantic:zh},or={normal:Na,gfm:ra,breaks:cf,pedantic:of},df={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ys=i=>df[i];function Wt(i,e){if(e){if(Et.escapeTest.test(i))return i.replace(Et.escapeReplace,Ys)}else if(Et.escapeTestNoEncode.test(i))return i.replace(Et.escapeReplaceNoEncode,Ys);return i}function Zs(i){try{i=encodeURI(i).replace(Et.percentDecode,"%")}catch{return null}return i}function Js(i,e){const t=i.replace(Et.findPipe,(s,r,l)=>{let o=!1,c=r;for(;--c>=0&&l[c]==="\\";)o=!o;return o?"|":" |"}),n=t.split(Et.splitPipe);let a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(Et.slashPipe,"|");return n}function cr(i,e,t){const n=i.length;if(n===0)return"";let a=0;for(;a<n&&i.charAt(n-a-1)===e;)a++;return i.slice(0,n-a)}function hf(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===e[0])t++;else if(i[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function Ks(i,e,t,n,a){const s=e.href,r=e.title||null,l=i[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;const o={type:i[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:r,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}function ff(i,e,t){const n=i.match(t.other.indentCodeCompensation);if(n===null)return e;const a=n[1];return e.split(`
`).map(s=>{const r=s.match(t.other.beginningSpace);if(r===null)return s;const[l]=r;return l.length>=a.length?s.slice(a.length):s}).join(`
`)}var oi=class{options;rules;lexer;constructor(i){this.options=i||On}space(i){const e=this.rules.block.newline.exec(i);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(i){const e=this.rules.block.code.exec(i);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:cr(t,`
`)}}}fences(i){const e=this.rules.block.fences.exec(i);if(e){const t=e[0],n=ff(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(i){const e=this.rules.block.heading.exec(i);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const n=cr(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(i){const e=this.rules.block.hr.exec(i);if(e)return{type:"hr",raw:cr(e[0],`
`)}}blockquote(i){const e=this.rules.block.blockquote.exec(i);if(e){let t=cr(e[0],`
`).split(`
`),n="",a="";const s=[];for(;t.length>0;){let r=!1;const l=[];let o;for(o=0;o<t.length;o++)if(this.rules.other.blockquoteStart.test(t[o]))l.push(t[o]),r=!0;else if(!r)l.push(t[o]);else break;t=t.slice(o);const c=l.join(`
`),h=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,a=a?`${a}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,s,!0),this.lexer.state.top=p,t.length===0)break;const m=s.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){const y=m,w=y.raw+`
`+t.join(`
`),x=this.blockquote(w);s[s.length-1]=x,n=n.substring(0,n.length-y.raw.length)+x.raw,a=a.substring(0,a.length-y.text.length)+x.text;break}else if(m?.type==="list"){const y=m,w=y.raw+`
`+t.join(`
`),x=this.list(w);s[s.length-1]=x,n=n.substring(0,n.length-m.raw.length)+x.raw,a=a.substring(0,a.length-y.raw.length)+x.raw,t=w.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:a}}}list(i){let e=this.rules.block.list.exec(i);if(e){let t=e[1].trim();const n=t.length>1,a={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");const s=this.rules.other.listItemRegex(t);let r=!1;for(;i;){let o=!1,c="",h="";if(!(e=s.exec(i))||this.rules.block.hr.test(i))break;c=e[0],i=i.substring(c.length);let p=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,M=>" ".repeat(3*M.length)),m=i.split(`
`,1)[0],y=!p.trim(),w=0;if(this.options.pedantic?(w=2,h=p.trimStart()):y?w=e[1].length+1:(w=e[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=p.slice(w),w+=e[1].length),y&&this.rules.other.blankLine.test(m)&&(c+=m+`
`,i=i.substring(m.length+1),o=!0),!o){const M=this.rules.other.nextBulletRegex(w),R=this.rules.other.hrRegex(w),Z=this.rules.other.fencesBeginRegex(w),Y=this.rules.other.headingBeginRegex(w),T=this.rules.other.htmlBeginRegex(w);for(;i;){const V=i.split(`
`,1)[0];let $;if(m=V,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),$=m):$=m.replace(this.rules.other.tabCharGlobal,"    "),Z.test(m)||Y.test(m)||T.test(m)||M.test(m)||R.test(m))break;if($.search(this.rules.other.nonSpaceChar)>=w||!m.trim())h+=`
`+$.slice(w);else{if(y||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Z.test(p)||Y.test(p)||R.test(p))break;h+=`
`+m}!y&&!m.trim()&&(y=!0),c+=V+`
`,i=i.substring(V.length+1),p=$.slice(w)}}a.loose||(r?a.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(r=!0));let x=null,D;this.options.gfm&&(x=this.rules.other.listIsTask.exec(h),x&&(D=x[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:c,task:!!x,checked:D,loose:!1,text:h,tokens:[]}),a.raw+=c}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let o=0;o<a.items.length;o++)if(this.lexer.state.top=!1,a.items[o].tokens=this.lexer.blockTokens(a.items[o].text,[]),!a.loose){const c=a.items[o].tokens.filter(p=>p.type==="space"),h=c.length>0&&c.some(p=>this.rules.other.anyLine.test(p.raw));a.loose=h}if(a.loose)for(let o=0;o<a.items.length;o++)a.items[o].loose=!0;return a}}html(i){const e=this.rules.block.html.exec(i);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(i){const e=this.rules.block.def.exec(i);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:a}}}table(i){const e=this.rules.block.table.exec(i);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=Js(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(const r of n)this.rules.other.tableAlignRight.test(r)?s.align.push("right"):this.rules.other.tableAlignCenter.test(r)?s.align.push("center"):this.rules.other.tableAlignLeft.test(r)?s.align.push("left"):s.align.push(null);for(let r=0;r<t.length;r++)s.header.push({text:t[r],tokens:this.lexer.inline(t[r]),header:!0,align:s.align[r]});for(const r of a)s.rows.push(Js(r,s.header.length).map((l,o)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[o]})));return s}}lheading(i){const e=this.rules.block.lheading.exec(i);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(i){const e=this.rules.block.paragraph.exec(i);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(i){const e=this.rules.block.text.exec(i);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(i){const e=this.rules.inline.escape.exec(i);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(i){const e=this.rules.inline.tag.exec(i);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(i){const e=this.rules.inline.link.exec(i);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const s=cr(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{const s=hf(e[2],"()");if(s===-2)return;if(s>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let n=e[2],a="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],a=s[3])}else a=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),Ks(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(i,e){let t;if((t=this.rules.inline.reflink.exec(i))||(t=this.rules.inline.nolink.exec(i))){const n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[n.toLowerCase()];if(!a){const s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return Ks(t,a,t[0],this.lexer,this.rules)}}emStrong(i,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(i);if(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const s=[...n[0]].length-1;let r,l,o=s,c=0;const h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*i.length+s);(n=h.exec(e))!=null;){if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!r)continue;if(l=[...r].length,n[3]||n[4]){o+=l;continue}else if((n[5]||n[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(o-=l,o>0)continue;l=Math.min(l,l+o+c);const p=[...n[0]][0].length,m=i.slice(0,s+n.index+p+l);if(Math.min(s,l)%2){const w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(i){const e=this.rules.inline.code.exec(i);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(i){const e=this.rules.inline.br.exec(i);if(e)return{type:"br",raw:e[0]}}del(i){const e=this.rules.inline.del.exec(i);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(i){const e=this.rules.inline.autolink.exec(i);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(i){let e;if(e=this.rules.inline.url.exec(i)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(i){const e=this.rules.inline.text.exec(i);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},un=class ia{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||On,this.options.tokenizer=this.options.tokenizer||new oi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Et,block:ei.normal,inline:or.normal};this.options.pedantic?(t.block=ei.pedantic,t.inline=or.pedantic):this.options.gfm&&(t.block=ei.gfm,this.options.breaks?t.inline=or.breaks:t.inline=or.gfm),this.tokenizer.rules=t}static get rules(){return{block:ei,inline:or}}static lex(e,t){return new ia(t).lex(e)}static lexInline(e,t){return new ia(t).inlineTokens(e)}lex(e){e=e.replace(Et.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Et.tabCharGlobal,"    ").replace(Et.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(r=>(a=r.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const r=t.at(-1);a.raw.length===1&&r!==void 0?r.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const r=t.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=`
`+a.raw,r.text+=`
`+a.text,this.inlineQueue.at(-1).src=r.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const r=t.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=`
`+a.raw,r.text+=`
`+a.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let s=e;if(this.options.extensions?.startBlock){let r=1/0;const l=e.slice(1);let o;this.options.extensions.startBlock.forEach(c=>{o=c.call({lexer:this},l),typeof o=="number"&&o>=0&&(r=Math.min(r,o))}),r<1/0&&r>=0&&(s=e.substring(0,r+1))}if(this.state.top&&(a=this.tokenizer.paragraph(s))){const r=t.at(-1);n&&r?.type==="paragraph"?(r.raw+=`
`+a.raw,r.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):t.push(a),n=s.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const r=t.at(-1);r?.type==="text"?(r.raw+=`
`+a.raw,r.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):t.push(a);continue}if(e){const r="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(r);break}else throw new Error(r)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,a=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,r="";for(;e;){s||(r=""),s=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const c=t.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,n,r)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let o=e;if(this.options.extensions?.startInline){let c=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},h),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(o)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(r=l.raw.slice(-1)),s=!0;const c=t.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):t.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},ci=class{options;parser;constructor(i){this.options=i||On}space(i){return""}code({text:i,lang:e,escaped:t}){const n=(e||"").match(Et.notSpaceStart)?.[0],a=i.replace(Et.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Wt(n)+'">'+(t?a:Wt(a,!0))+`</code></pre>
`:"<pre><code>"+(t?a:Wt(a,!0))+`</code></pre>
`}blockquote({tokens:i}){return`<blockquote>
${this.parser.parse(i)}</blockquote>
`}html({text:i}){return i}heading({tokens:i,depth:e}){return`<h${e}>${this.parser.parseInline(i)}</h${e}>
`}hr(i){return`<hr>
`}list(i){const e=i.ordered,t=i.start;let n="";for(let r=0;r<i.items.length;r++){const l=i.items[r];n+=this.listitem(l)}const a=e?"ol":"ul",s=e&&t!==1?' start="'+t+'"':"";return"<"+a+s+`>
`+n+"</"+a+`>
`}listitem(i){let e="";if(i.task){const t=this.checkbox({checked:!!i.checked});i.loose?i.tokens[0]?.type==="paragraph"?(i.tokens[0].text=t+" "+i.tokens[0].text,i.tokens[0].tokens&&i.tokens[0].tokens.length>0&&i.tokens[0].tokens[0].type==="text"&&(i.tokens[0].tokens[0].text=t+" "+Wt(i.tokens[0].tokens[0].text),i.tokens[0].tokens[0].escaped=!0)):i.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(i.tokens,!!i.loose),`<li>${e}</li>
`}checkbox({checked:i}){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>
`}table(i){let e="",t="";for(let a=0;a<i.header.length;a++)t+=this.tablecell(i.header[a]);e+=this.tablerow({text:t});let n="";for(let a=0;a<i.rows.length;a++){const s=i.rows[a];t="";for(let r=0;r<s.length;r++)t+=this.tablecell(s[r]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:i}){return`<tr>
${i}</tr>
`}tablecell(i){const e=this.parser.parseInline(i.tokens),t=i.header?"th":"td";return(i.align?`<${t} align="${i.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:i}){return`<strong>${this.parser.parseInline(i)}</strong>`}em({tokens:i}){return`<em>${this.parser.parseInline(i)}</em>`}codespan({text:i}){return`<code>${Wt(i,!0)}</code>`}br(i){return"<br>"}del({tokens:i}){return`<del>${this.parser.parseInline(i)}</del>`}link({href:i,title:e,tokens:t}){const n=this.parser.parseInline(t),a=Zs(i);if(a===null)return n;i=a;let s='<a href="'+i+'"';return e&&(s+=' title="'+Wt(e)+'"'),s+=">"+n+"</a>",s}image({href:i,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));const a=Zs(i);if(a===null)return Wt(t);i=a;let s=`<img src="${i}" alt="${t}"`;return e&&(s+=` title="${Wt(e)}"`),s+=">",s}text(i){return"tokens"in i&&i.tokens?this.parser.parseInline(i.tokens):"escaped"in i&&i.escaped?i.text:Wt(i.text)}},Ta=class{strong({text:i}){return i}em({text:i}){return i}codespan({text:i}){return i}del({text:i}){return i}html({text:i}){return i}text({text:i}){return i}link({text:i}){return""+i}image({text:i}){return""+i}br(){return""}},on=class aa{options;renderer;textRenderer;constructor(e){this.options=e||On,this.options.renderer=this.options.renderer||new ci,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ta}static parse(e,t){return new aa(t).parse(e)}static parseInline(e,t){return new aa(t).parseInline(e)}parse(e,t=!0){let n="";for(let a=0;a<e.length;a++){const s=e[a];if(this.options.extensions?.renderers?.[s.type]){const l=s,o=this.options.extensions.renderers[l.type].call({parser:this},l);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=o||"";continue}}const r=s;switch(r.type){case"space":{n+=this.renderer.space(r);continue}case"hr":{n+=this.renderer.hr(r);continue}case"heading":{n+=this.renderer.heading(r);continue}case"code":{n+=this.renderer.code(r);continue}case"table":{n+=this.renderer.table(r);continue}case"blockquote":{n+=this.renderer.blockquote(r);continue}case"list":{n+=this.renderer.list(r);continue}case"html":{n+=this.renderer.html(r);continue}case"paragraph":{n+=this.renderer.paragraph(r);continue}case"text":{let l=r,o=this.renderer.text(l);for(;a+1<e.length&&e[a+1].type==="text";)l=e[++a],o+=`
`+this.renderer.text(l);t?n+=this.renderer.paragraph({type:"paragraph",raw:o,text:o,tokens:[{type:"text",raw:o,text:o,escaped:!0}]}):n+=o;continue}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,t=this.renderer){let n="";for(let a=0;a<e.length;a++){const s=e[a];if(this.options.extensions?.renderers?.[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=l||"";continue}}const r=s;switch(r.type){case"escape":{n+=t.text(r);break}case"html":{n+=t.html(r);break}case"link":{n+=t.link(r);break}case"image":{n+=t.image(r);break}case"strong":{n+=t.strong(r);break}case"em":{n+=t.em(r);break}case"codespan":{n+=t.codespan(r);break}case"br":{n+=t.br(r);break}case"del":{n+=t.del(r);break}case"text":{n+=t.text(r);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},ai=class{options;block;constructor(i){this.options=i||On}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(i){return i}postprocess(i){return i}processAllTokens(i){return i}provideLexer(){return this.block?un.lex:un.lexInline}provideParser(){return this.block?on.parse:on.parseInline}},pf=class{defaults=va();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=on;Renderer=ci;TextRenderer=Ta;Lexer=un;Tokenizer=oi;Hooks=ai;constructor(...i){this.use(...i)}walkTokens(i,e){let t=[];for(const n of i)switch(t=t.concat(e.call(this,n)),n.type){case"table":{const a=n;for(const s of a.header)t=t.concat(this.walkTokens(s.tokens,e));for(const s of a.rows)for(const r of s)t=t.concat(this.walkTokens(r.tokens,e));break}case"list":{const a=n;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=n;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(s=>{const r=a[s].flat(1/0);t=t.concat(this.walkTokens(r,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...i){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=e.renderers[a.name];s?e.renderers[a.name]=function(...r){let l=a.renderer.apply(this,r);return l===!1&&(l=s.apply(this,r)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[a.level];s?s.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),n.extensions=e),t.renderer){const a=this.defaults.renderer||new ci(this.defaults);for(const s in t.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const r=s,l=t.renderer[r],o=a[r];a[r]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=o.apply(a,c)),h||""}}n.renderer=a}if(t.tokenizer){const a=this.defaults.tokenizer||new oi(this.defaults);for(const s in t.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const r=s,l=t.tokenizer[r],o=a[r];a[r]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=o.apply(a,c)),h}}n.tokenizer=a}if(t.hooks){const a=this.defaults.hooks||new ai;for(const s in t.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const r=s,l=t.hooks[r],o=a[r];ai.passThroughHooks.has(s)?a[r]=c=>{if(this.defaults.async)return Promise.resolve(l.call(a,c)).then(p=>o.call(a,p));const h=l.call(a,c);return o.call(a,h)}:a[r]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=o.apply(a,c)),h}}n.hooks=a}if(t.walkTokens){const a=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(r){let l=[];return l.push(s.call(this,r)),a&&(l=l.concat(a.call(this,r))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(i){return this.defaults={...this.defaults,...i},this}lexer(i,e){return un.lex(i,e??this.defaults)}parser(i,e){return on.parse(i,e??this.defaults)}parseMarkdown(i){return(t,n)=>{const a={...n},s={...this.defaults,...a},r=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=i);const l=s.hooks?s.hooks.provideLexer():i?un.lex:un.lexInline,o=s.hooks?s.hooks.provideParser():i?on.parse:on.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(r);try{s.hooks&&(t=s.hooks.preprocess(t));let c=l(t,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let h=o(c,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(c){return r(c)}}}onError(i,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,i){const n="<p>An error occurred:</p><pre>"+Wt(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},Fn=new pf;function Me(i,e){return Fn.parse(i,e)}Me.options=Me.setOptions=function(i){return Fn.setOptions(i),Me.defaults=Fn.defaults,tu(Me.defaults),Me};Me.getDefaults=va;Me.defaults=On;Me.use=function(...i){return Fn.use(...i),Me.defaults=Fn.defaults,tu(Me.defaults),Me};Me.walkTokens=function(i,e){return Fn.walkTokens(i,e)};Me.parseInline=Fn.parseInline;Me.Parser=on;Me.parser=on.parse;Me.Renderer=ci;Me.TextRenderer=Ta;Me.Lexer=un;Me.lexer=un.lex;Me.Tokenizer=oi;Me.Hooks=ai;Me.parse=Me;Me.options;Me.setOptions;Me.use;Me.walkTokens;Me.parseInline;on.parse;un.lex;const mf=[".md",".markdown",".mdown",".mkd",".mkdn"];function gf(i){try{const e=new URL(i).pathname.toLowerCase();return mf.some(t=>e.endsWith(t))}catch{return!1}}function vf(i,e){const t=e.match(null,null,null,i.doc());if(t.length!==0){for(const n of t)if(n.predicate.value==="http://www.w3.org/ns/solid/terms#content"||n.predicate.value==="http://purl.org/dc/terms/content")return n.object.value}}const yf={label:"Markdown",icon:"📝",canHandle(i,e){return gf(i.value)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="markdown-view";const a=vf(i,e);if(a)n.innerHTML=Me.parse(a);else{const s=document.createElement("p");s.className="loading",s.textContent="Loading markdown...",n.appendChild(s),fetch(i.value).then(r=>{if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.text()}).then(r=>{n.innerHTML=Me.parse(r)}).catch(()=>{n.innerHTML="";const r=document.createElement("p");r.className="error",r.textContent="Failed to load markdown content.",n.appendChild(r)})}t.appendChild(n)}};Be(yf);function wf(i){try{return new URL(i).pathname.toLowerCase().endsWith(".pdf")}catch{return!1}}const Ef={label:"PDF",icon:"📄",canHandle(i,e){return wf(i.value)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="pdf-view";const a=document.createElement("h3");a.className="pdf-title",a.textContent=fe(i.value),n.appendChild(a);const s=document.createElement("object");s.className="pdf-embed",s.data=i.value,s.type="application/pdf";const r=document.createElement("div");r.className="pdf-fallback";const l=document.createElement("p");l.textContent="Unable to display PDF inline.",r.appendChild(l);const o=document.createElement("a");o.href=i.value,o.textContent="Download PDF",o.target="_blank",o.rel="noopener",r.appendChild(o),s.appendChild(r),n.appendChild(s),t.appendChild(n)}};Be(Ef);const Cf={".mp4":"video/mp4",".webm":"video/webm",".ogg":"video/ogg",".ogv":"video/ogg",".mov":"video/mp4",".m4v":"video/mp4"};function el(i){try{const e=new URL(i).pathname.toLowerCase();for(const[t,n]of Object.entries(Cf))if(e.endsWith(t))return n}catch{}}function bf(i,e){return!!e.each(i,me("type"),null,null).map(a=>a.value).includes(B("VideoObject").value)}const xf={label:"Video",icon:"🎬",canHandle(i,e){return el(i.value)!==void 0||bf(i,e)},render(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="video-view";const a=document.createElement("video");a.className="video-main",a.controls=!0,a.preload="metadata";const s=el(i.value);if(s){const c=document.createElement("source");c.src=i.value,c.type=s,a.appendChild(c)}else a.src=i.value;const r=document.createElement("p");r.textContent="Your browser does not support this video format.",a.appendChild(r),n.appendChild(a);const l=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value,o=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value;if(l||o){const c=document.createElement("div");if(c.className="video-caption",l){const h=document.createElement("h3");h.textContent=l,c.appendChild(h)}if(o){const h=document.createElement("p");h.textContent=o,c.appendChild(h)}n.appendChild(c)}t.appendChild(n)}};Be(xf);function Nf(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="gallery-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="gallery-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(r){const h=document.createElement("p");h.className="gallery-description",h.textContent=r,n.appendChild(h)}const l=hu(i,e),o=document.createElement("p");if(o.className="gallery-count",o.textContent=`${l.length} image${l.length!==1?"s":""}`,n.appendChild(o),l.length===0){const h=document.createElement("p");h.className="gallery-empty",h.textContent="No images found.",n.appendChild(h),t.appendChild(n);return}const c=document.createElement("div");c.className="gallery-grid";for(const h of l){const p=document.createElement("div");p.className="gallery-cell";const m=document.createElement("img");m.className="gallery-thumb",m.src=h,m.alt=Tf(h),m.loading="lazy",m.addEventListener("click",()=>{Af(h,l,n)}),p.appendChild(m),c.appendChild(p)}n.appendChild(c),t.appendChild(n)}function Tf(i){return i.split("?")[0].split("#")[0].split("/").pop()??"image"}function Af(i,e,t){const n=t.querySelector(".gallery-lightbox");n&&n.remove();let a=e.indexOf(i);a===-1&&(a=0);const s=document.createElement("div");s.className="gallery-lightbox";const r=document.createElement("img");if(r.className="gallery-lightbox-img",r.src=e[a],r.alt="Full size image",s.addEventListener("click",o=>{o.target===s&&s.remove()}),e.length>1){const o=document.createElement("button");o.className="gallery-lightbox-prev",o.textContent="❮",o.addEventListener("click",h=>{h.stopPropagation(),a=(a-1+e.length)%e.length,r.src=e[a]}),s.appendChild(o);const c=document.createElement("button");c.className="gallery-lightbox-next",c.textContent="❯",c.addEventListener("click",h=>{h.stopPropagation(),a=(a+1)%e.length,r.src=e[a]}),s.appendChild(c)}const l=document.createElement("button");l.className="gallery-lightbox-close",l.textContent="×",l.addEventListener("click",()=>s.remove()),s.appendChild(r),s.appendChild(l),t.appendChild(s)}const Df=[B("ImageGallery").value,B("MediaGallery").value,B("CollectionPage").value],_f=[".png",".jpg",".jpeg",".gif",".svg",".webp",".bmp",".ico",".avif",".tiff"];function hu(i,e){const t=new Set;for(const n of e.each(i,B("image"),null,null))t.add(n.value);for(const n of e.each(i,Ce("img"),null,null))t.add(n.value);for(const n of e.each(i,B("hasPart"),null,null)){kf(n.value)&&t.add(n.value);const a=e.each(n,me("type"),null,null).map(s=>s.value);if(a.includes(B("ImageObject").value)||a.includes(Ce("Image").value)){const s=e.any(n,B("contentUrl"),null,null)?.value??e.any(n,B("url"),null,null)?.value??n.value;t.add(s)}}for(const n of e.each(i,B("associatedMedia"),null,null))if(e.each(n,me("type"),null,null).map(s=>s.value).includes(B("ImageObject").value)){const s=e.any(n,B("contentUrl"),null,null)?.value??n.value;t.add(s)}return Array.from(t)}function kf(i){const e=i.split("?")[0].split("#")[0].toLowerCase();return _f.some(t=>e.endsWith(t))}function Sf(i,e){const t=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Df)if(t.includes(a))return!0;return hu(i,e).length>=2}const If={label:"Gallery",icon:"🖼",canHandle(i,e){return Sf(i,e)},render(i,e,t){Nf(i,e,t)}};Be(If);function Bf(i){const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}function Ff(i,e){return e.any(i,B("name"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??fe(i.value)}function Lf(i,e,t){t.innerHTML="";const n=document.createElement("article");n.className="article-view";const a=e.any(i,B("headline"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),s=document.createElement("h1");s.className="article-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("author"),null,null),l=e.any(i,B("datePublished"),null,null)?.value,o=e.any(i,de("created"),null,null)?.value,c=l??o;if(r||c){const x=document.createElement("div");if(x.className="article-byline",r){const D=document.createElement("span");D.className="article-author",D.textContent=Ff(r,e),x.appendChild(D)}if(c){const D=document.createElement("time");D.className="article-date",D.dateTime=c,D.textContent=Bf(c),x.appendChild(D)}n.appendChild(x)}const h=e.any(i,B("image"),null,null)?.value??e.any(i,B("thumbnailUrl"),null,null)?.value;if(h){const x=document.createElement("img");x.className="article-image",x.src=h,x.alt=a,n.appendChild(x)}const p=e.any(i,B("description"),null,null)?.value??e.any(i,B("abstract"),null,null)?.value??e.any(i,de("abstract"),null,null)?.value;if(p){const x=document.createElement("p");x.className="article-description",x.textContent=p,n.appendChild(x)}const m=e.any(i,B("articleBody"),null,null)?.value;if(m){const x=document.createElement("div");x.className="article-body";const D=m.split(/\n\n+/);for(const M of D){const R=M.trim();if(!R)continue;const Z=document.createElement("p");Z.textContent=R,x.appendChild(Z)}n.appendChild(x)}const y=e.any(i,B("publisher"),null,null);if(y){const x=e.any(y,B("name"),null,null)?.value??fe(y.value),D=document.createElement("p");D.className="article-publisher",D.textContent=`Published by ${x}`,n.appendChild(D)}const w=e.each(i,B("keywords"),null,null);if(w.length>0){const x=document.createElement("div");x.className="article-tags";for(const D of w){const M=document.createElement("span");M.className="article-tag",M.textContent=D.value,x.appendChild(M)}n.appendChild(x)}t.appendChild(n)}const Rf=["Article","BlogPosting","NewsArticle","ScholarlyArticle","TechArticle","SocialMediaPosting","Report"];function Of(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Rf)if(n.includes(B(a).value))return!0;return!!(e.any(i,B("articleBody"),null,null)||e.any(i,B("headline"),null,null))}const $f={label:"Article",icon:"📰",canHandle(i,e){return Of(i,e)},render(i,e,t){Lf(i,e,t)}};Be($f);function Mf(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="map-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="map-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("address"),null,null)?.value??void 0;if(r){const c=document.createElement("p");c.className="map-address",c.textContent=r,n.appendChild(c)}const l=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(l){const c=document.createElement("p");c.className="map-description",c.textContent=l,n.appendChild(c)}const o=fu(i,e);if(o){const c=document.createElement("div");c.className="map-embed";const h=document.createElement("iframe");h.className="map-frame",h.src=`https://www.openstreetmap.org/export/embed.html?bbox=${o.lng-.01},${o.lat-.005},${o.lng+.01},${o.lat+.005}&layer=mapnik&marker=${o.lat},${o.lng}`,h.setAttribute("sandbox","allow-scripts allow-same-origin"),h.title=`Map showing ${a}`,c.appendChild(h);const p=document.createElement("a");p.className="map-osm-link",p.href=`https://www.openstreetmap.org/?mlat=${o.lat}&mlon=${o.lng}#map=16/${o.lat}/${o.lng}`,p.textContent="View on OpenStreetMap",p.target="_blank",p.rel="noopener",c.appendChild(p),n.appendChild(c)}else{const c=document.createElement("p");c.className="map-no-coords",c.textContent="No coordinates available for this place.",n.appendChild(c)}t.appendChild(n)}function fu(i,e){const t=e.any(i,B("latitude"),null,null)?.value,n=e.any(i,B("longitude"),null,null)?.value;if(t&&n){const r=parseFloat(t),l=parseFloat(n);if(!isNaN(r)&&!isNaN(l))return{lat:r,lng:l}}const a=e.any(i,B("geo"),null,null);if(a){const r=e.any(a,B("latitude"),null,null)?.value,l=e.any(a,B("longitude"),null,null)?.value;if(r&&l){const o=parseFloat(r),c=parseFloat(l);if(!isNaN(o)&&!isNaN(c))return{lat:o,lng:c}}}const s=e.any(i,B("location"),null,null);if(s){const r=e.any(s,B("geo"),null,null);if(r){const c=e.any(r,B("latitude"),null,null)?.value,h=e.any(r,B("longitude"),null,null)?.value;if(c&&h){const p=parseFloat(c),m=parseFloat(h);if(!isNaN(p)&&!isNaN(m))return{lat:p,lng:m}}}const l=e.any(s,B("latitude"),null,null)?.value,o=e.any(s,B("longitude"),null,null)?.value;if(l&&o){const c=parseFloat(l),h=parseFloat(o);if(!isNaN(c)&&!isNaN(h))return{lat:c,lng:h}}}return null}function Uf(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(B("Place").value)||n.includes(B("GeoCoordinates").value))}const Pf={label:"Map",icon:"🗺",canHandle(i,e){return!!(fu(i,e)||Uf(i,e))},render(i,e,t){Mf(i,e,t)}};Be(Pf);function tl(i){const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ti(i){const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function nl(i,e){const t=e.any(i,B("name"),null,null)?.value;if(t)return t;const n=e.any(i,B("address"),null,null)?.value;return n&&!n.startsWith("http")?n:i.value.startsWith("http")?fe(i.value):i.value}function qf(i){for(const e of i){if(e.includes("Flight"))return"Flight";if(e.includes("TrainTrip"))return"Train";if(e.includes("BusTrip"))return"Bus";if(e.includes("BoatTrip"))return"Boat"}return"Leg"}function rl(i,e,t){const n=document.createElement("div");n.className="trip-leg";const a=e.each(i,me("type"),null,null).map(x=>x.value),s=qf(a),r=document.createElement("div");r.className="trip-leg-header";const l=document.createElement("span");l.className="trip-leg-mode",l.textContent=s;const o=e.any(i,B("flightNumber"),null,null)?.value??e.any(i,B("trainNumber"),null,null)?.value??e.any(i,B("busNumber"),null,null)?.value??e.any(i,B("name"),null,null)?.value;o&&(l.textContent+=` ${o}`),r.appendChild(l);const c=e.any(i,B("provider"),null,null)??e.any(i,B("airline"),null,null);if(c){const x=e.any(c,B("name"),null,null)?.value??(c.value.startsWith("http")?null:c.value);if(x){const D=document.createElement("span");D.className="trip-leg-provider",D.textContent=x,r.appendChild(D)}}n.appendChild(r);const h=document.createElement("div");h.className="trip-leg-route";const p=e.any(i,B("departureStation"),null,null)??e.any(i,B("departureAirport"),null,null)??e.any(i,B("departureStop"),null,null)??e.any(i,B("fromLocation"),null,null),m=e.any(i,B("arrivalStation"),null,null)??e.any(i,B("arrivalAirport"),null,null)??e.any(i,B("arrivalStop"),null,null)??e.any(i,B("toLocation"),null,null);if(p||m){const x=p?nl(p,e):"?",D=m?nl(m,e):"?";h.innerHTML=`<span class="trip-from">${x}</span><span class="trip-arrow">→</span><span class="trip-to">${D}</span>`,n.appendChild(h)}const y=e.any(i,B("departureTime"),null,null)?.value,w=e.any(i,B("arrivalTime"),null,null)?.value;if(y||w){const x=document.createElement("div");if(x.className="trip-leg-times",y){const D=document.createElement("span");D.className="trip-leg-time",D.textContent=`Departs: ${tl(y)}`,x.appendChild(D)}if(w){const D=document.createElement("span");D.className="trip-leg-time",D.textContent=`Arrives: ${tl(w)}`,x.appendChild(D)}n.appendChild(x)}t.appendChild(n)}function Hf(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="trip-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="trip-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(r){const m=document.createElement("p");m.className="trip-description",m.textContent=r,n.appendChild(m)}const l=e.any(i,B("departureTime"),null,null)?.value??e.any(i,B("startDate"),null,null)?.value,o=e.any(i,B("arrivalTime"),null,null)?.value??e.any(i,B("endDate"),null,null)?.value;if(l||o){const m=document.createElement("p");m.className="trip-dates",l&&o?m.textContent=`${ti(l)} — ${ti(o)}`:l?m.textContent=ti(l):o&&(m.textContent=`Until ${ti(o)}`),n.appendChild(m)}e.each(i,me("type"),null,null).map(m=>m.value).some(m=>m.includes("Flight")||m.includes("TrainTrip")||m.includes("BusTrip")||m.includes("BoatTrip"))&&rl(i,e,n);const p=e.each(i,B("itinerary"),null,null);if(p.length>0){const m=document.createElement("div");m.className="trip-itinerary";const y=document.createElement("h3");y.textContent=`Itinerary (${p.length} leg${p.length!==1?"s":""})`,m.appendChild(y);const w=[...p].sort((x,D)=>{const M=e.any(x,B("departureTime"),null,null)?.value??"",R=e.any(D,B("departureTime"),null,null)?.value??"";return M.localeCompare(R)});for(const x of w)rl(x,e,m);n.appendChild(m)}t.appendChild(n)}const zf=["Trip","TouristTrip","Flight","TrainTrip","BusTrip","BoatTrip","TravelAction"];function jf(i,e){const t=e.each(i,me("type"),null,null).map(s=>s.value);for(const s of zf)if(t.includes(B(s).value))return!0;if(e.any(i,B("itinerary"),null,null))return!0;const n=e.any(i,B("departureTime"),null,null),a=e.any(i,B("arrivalTime"),null,null);return!!(n&&a)}const Vf={label:"Trip",icon:"✈",canHandle(i,e){return jf(i,e)},render(i,e,t){Hf(i,e,t)}};Be(Vf);function Gf(i,e){const t=new Set,n=[],a=[B("event"),B("subEvent")];for(const s of a)for(const r of e.each(i,s,null,null))r.termType==="NamedNode"&&!t.has(r.value)&&(t.add(r.value),n.push(r));return n}function Xf(i,e){const t=e.any(i,B("name"),null,null)?.value??e.any(i,it("label"),null,null)?.value??"Untitled Event",n=e.any(i,B("startDate"),null,null)?.value??null,a=e.any(i,B("endDate"),null,null)?.value??null,s=e.any(i,B("location"),null,null);let r="";return s&&(s.termType==="Literal"?r=s.value:s.termType==="NamedNode"&&(r=e.any(s,B("name"),null,null)?.value??e.any(s,it("label"),null,null)?.value??s.value)),{uri:i.value,name:t,startDate:n?new Date(n):null,endDate:a?new Date(a):null,location:r}}function Wf(i,e){return new Date(i,e+1,0).getDate()}function Qf(i,e){return new Date(i,e,1).getDay()}function Yf(i,e){return i.getFullYear()===e.getFullYear()&&i.getMonth()===e.getMonth()&&i.getDate()===e.getDate()}function Zf(i,e,t,n){const a=new Date(e,t,n);return i.filter(s=>s.startDate?!!(Yf(s.startDate,a)||s.endDate&&s.startDate<=a&&s.endDate>=a):!1)}function Jf(i){return i.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}const il=["January","February","March","April","May","June","July","August","September","October","November","December"],Kf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function ji(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function ep(i,e,t){const n=e.any(i,B("name"),null,null)?.value??e.any(i,it("label"),null,null)?.value??"Schedule",a=e.any(i,B("description"),null,null)?.value??null,r=Gf(i,e).map(T=>Xf(T,e)),l=r.filter(T=>T.startDate!==null);l.sort((T,V)=>T.startDate.getTime()-V.startDate.getTime());let o,c;if(l.length>0)o=l[0].startDate.getFullYear(),c=l[0].startDate.getMonth();else{const T=new Date;o=T.getFullYear(),c=T.getMonth()}const h=document.createElement("div");h.className="sched-pane",t.appendChild(h);const p=document.createElement("h2");if(p.className="sched-title",p.textContent=n,h.appendChild(p),a){const T=document.createElement("p");T.className="sched-description",T.textContent=a,h.appendChild(T)}const m=document.createElement("p");m.className="sched-count",m.textContent=`${r.length} event${r.length!==1?"s":""}`,h.appendChild(m);const y=document.createElement("div");y.className="sched-nav",h.appendChild(y);const w=document.createElement("button");w.className="sched-prev",w.textContent="←",w.setAttribute("aria-label","Previous month");const x=document.createElement("span");x.className="sched-month-label";const D=document.createElement("button");D.className="sched-next",D.textContent="→",D.setAttribute("aria-label","Next month"),y.appendChild(w),y.appendChild(x),y.appendChild(D);const M=document.createElement("div");M.className="sched-calendar",h.appendChild(M);const R=document.createElement("div");R.className="sched-detail",h.appendChild(R);function Z(){x.textContent=`${il[c]} ${o}`,M.innerHTML="";for(const $ of Kf){const q=document.createElement("div");q.className="sched-day-header",q.textContent=$,M.appendChild(q)}const T=Wf(o,c),V=Qf(o,c);for(let $=0;$<V;$++){const q=document.createElement("div");q.className="sched-day sched-day-empty",M.appendChild(q)}for(let $=1;$<=T;$++){const q=document.createElement("div");q.className="sched-day",q.setAttribute("data-day",String($));const F=document.createElement("span");F.className="sched-day-num",F.textContent=String($),q.appendChild(F);const P=Zf(r,o,c,$);if(P.length>0){q.classList.add("sched-has-events");const j=document.createElement("span");j.className="sched-event-dot",j.textContent=String(P.length),q.appendChild(j),q.addEventListener("click",()=>{Y($,P)})}M.appendChild(q)}R.innerHTML=""}function Y(T,V){R.innerHTML="";const $=document.createElement("h3");$.className="sched-detail-heading",$.textContent=`${il[c]} ${T}, ${o}`,R.appendChild($);for(const q of V){const F=document.createElement("div");F.className="sched-event-item";let P=`<span class="sched-event-name">${ji(q.name)}</span>`;q.startDate&&(P+=` <span class="sched-event-time">${ji(Jf(q.startDate))}</span>`),q.location&&(P+=` <span class="sched-event-location">${ji(q.location)}</span>`),F.innerHTML=P,R.appendChild(F)}}w.addEventListener("click",()=>{c--,c<0&&(c=11,o--),Z()}),D.addEventListener("click",()=>{c++,c>11&&(c=0,o++),Z()}),Z()}const tp=[B("Schedule"),B("EventSeries"),B("EventSchedule")];function np(i,e){const t=new Set,n=[],a=[B("event"),B("subEvent")];for(const s of a)for(const r of e.each(i,s,null,null))r.termType==="NamedNode"&&!t.has(r.value)&&(t.add(r.value),n.push(r));return n}const rp={label:"Schedule",icon:"📅",canHandle(i,e){for(const n of tp)if(e.holds(i,me("type"),n))return!0;return np(i,e).length>=2},render(i,e,t){ep(i,e,t)}};Be(rp);function al(i){const e=new Date(i);return isNaN(e.getTime())?i:/^\d{4}-\d{2}-\d{2}$/.test(i)?e.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):e.toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ip(i){const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}function ap(i,e){const t=new Date(i),n=new Date(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function dr(i,e,t,n=!1){if(!t)return;const a=document.createElement("div");a.className="event-detail";const s=document.createElement("span");if(s.className="event-label",s.textContent=e,a.appendChild(s),n&&(t.startsWith("http://")||t.startsWith("https://"))){const r=document.createElement("a");r.href=t,r.textContent=fe(t),r.target="_blank",r.rel="noopener",a.appendChild(r)}else{const r=document.createElement("span");r.className="event-value",r.textContent=t,a.appendChild(r)}i.appendChild(a)}function sp(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="event-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="event-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("startDate"),null,null)?.value,l=e.any(i,B("endDate"),null,null)?.value;if(r){let D=al(r);l&&(ap(r,l)?D+=` – ${ip(l)}`:D+=` – ${al(l)}`);const M=document.createElement("p");M.className="event-date",M.textContent=D,n.appendChild(M)}const o=document.createElement("div");o.className="event-details";const c=e.any(i,B("location"),null,null);let h;c&&(h=e.any(c,B("name"),null,null)?.value??c.value),dr(o,"Location",h);const p=e.any(i,B("organizer"),null,null);if(p){const D=e.any(p,B("name"),null,null)?.value??e.any(p,Ce("name"),null,null)?.value??fe(p.value);dr(o,"Organizer",D)}const m=e.any(i,B("url"),null,null)?.value;dr(o,"Link",m,!0);const y=e.any(i,B("eventStatus"),null,null)?.value;y&&dr(o,"Status",fe(y));const w=e.any(i,B("eventAttendanceMode"),null,null)?.value;w&&dr(o,"Format",fe(w)),n.appendChild(o);const x=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(x){const D=document.createElement("div");D.className="event-description",D.textContent=x,n.appendChild(D)}t.appendChild(n)}function lp(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(B("Event").value)||n.includes(B("SocialEvent").value)||n.includes(B("BusinessEvent").value)||n.includes(B("MusicEvent").value)||n.includes(B("EducationEvent").value)||e.any(i,B("startDate"),null,null)&&e.any(i,B("name"),null,null))}const up={label:"Event",icon:"📅",canHandle(i,e){return lp(i,e)},render(i,e,t){sp(i,e,t)}};Be(up);function op(i,e){return e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??"Bookmarks"}function cp(i,e){const t=e.each(i,_n("hasMember"),null,null),n=[];for(const a of t){const s=a,r=e.any(s,de("title"),null,null)?.value??e.any(s,B("name"),null,null)?.value??e.any(s,_n("title"),null,null)?.value??fe(s.value),l=e.any(s,_n("recalls"),null,null)?.value??null,o=e.any(s,de("created"),null,null)?.value,c=o?new Date(o):null,h=e.any(s,de("description"),null,null)?.value??e.any(s,B("description"),null,null)?.value??null;n.push({uri:s.value,title:r,recalls:l,created:c,description:h})}return n.sort((a,s)=>a.created&&s.created?s.created.getTime()-a.created.getTime():a.created?-1:s.created?1:a.title.localeCompare(s.title)),n}function dp(i){return i.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function hp(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="bookmarks-view";const a=op(i,e),s=document.createElement("h2");s.className="bookmarks-title",s.textContent=a,n.appendChild(s);const r=cp(i,e),l=document.createElement("p");if(l.className="bookmarks-count",l.textContent=`${r.length} bookmark${r.length!==1?"s":""}`,n.appendChild(l),r.length===0){const c=document.createElement("p");c.className="bookmarks-empty",c.textContent="No bookmarks saved.",n.appendChild(c),t.appendChild(n);return}const o=document.createElement("ul");o.className="bookmarks-list";for(const c of r){const h=document.createElement("li");h.className="bookmark-item";const p=document.createElement("a");if(p.className="bookmark-title",p.textContent=c.title,c.recalls?(p.href=c.recalls,p.target="_blank",p.rel="noopener"):(p.href=c.uri,p.target="_blank",p.rel="noopener"),h.appendChild(p),c.recalls){const m=document.createElement("span");m.className="bookmark-url",m.textContent=c.recalls,h.appendChild(m)}if(c.created||c.description){const m=document.createElement("div");if(m.className="bookmark-meta",c.created){const y=document.createElement("span");y.className="bookmark-date",y.textContent=dp(c.created),m.appendChild(y)}if(c.description){const y=document.createElement("span");y.className="bookmark-desc",y.textContent=c.description,m.appendChild(y)}h.appendChild(m)}o.appendChild(h)}n.appendChild(o),t.appendChild(n)}function fp(i,e){const n=e.each(i,me("type"),null,null).map(s=>s.value);if(n.includes(_n("BookmarkList").value)||n.includes(_n("Topic").value))return!0;const a=e.each(i,_n("hasMember"),null,null);if(a.length>0){for(const s of a)if(e.each(s,me("type"),null,null).some(l=>l.value===_n("Bookmark").value))return!0}return!1}const pp={label:"Bookmarks",icon:"🔖",canHandle(i,e){return fp(i,e)},render(i,e,t){hp(i,e,t)}};Be(pp);function sl(i,e){return e.any(i,Ze("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??fe(i.value)}function mp(i,e){const t=e.each(i,me("type"),null,null);for(const n of t)switch(fe(n.value).toLowerCase()){case"create":return"created";case"update":return"updated";case"delete":return"deleted";case"follow":return"followed";case"like":return"liked";case"announce":return"shared";case"add":return"added";case"remove":return"removed";case"accept":return"accepted";case"reject":return"rejected";case"undo":return"undid";case"invite":return"invited";case"join":return"joined";case"leave":return"left";case"offer":return"offered"}return"did something with"}function ll(i,e){const t=e.any(i,Ze("actor"),null,null),n=e.any(i,Ze("object"),null,null),a=e.any(i,Ze("published"),null,null)?.value;return{uri:i.value,actorName:t?sl(t,e):null,actorUri:t?.value??null,verb:mp(i,e),objectName:n?sl(n,e):null,objectUri:n?.value??null,summary:e.any(i,Ze("summary"),null,null)?.value??null,content:e.any(i,Ze("content"),null,null)?.value??null,published:a?new Date(a):null}}function gp(i,e){return[...e.each(i,Ze("items"),null,null),...e.each(i,Ze("orderedItems"),null,null)]}function vp(i,e){const t=e.each(i,me("type"),null,null).map(n=>n.value);return["Collection","OrderedCollection","CollectionPage","OrderedCollectionPage"].some(n=>t.includes(Ze(n).value))}function yp(i){return i.toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ul(i){const e=document.createElement("div");e.className="activity-item";const t=document.createElement("div");if(t.className="activity-summary",i.summary)t.textContent=i.summary;else{if(i.actorName){const n=document.createElement("a");n.className="activity-actor",n.textContent=i.actorName,i.actorUri&&(n.href=`?uri=${encodeURIComponent(i.actorUri)}`,n.addEventListener("click",a=>{a.preventDefault(),na(i.actorUri)})),t.appendChild(n),t.appendChild(document.createTextNode(` ${i.verb} `))}if(i.objectName){const n=document.createElement("a");n.className="activity-object",n.textContent=i.objectName,i.objectUri&&(n.href=`?uri=${encodeURIComponent(i.objectUri)}`,n.addEventListener("click",a=>{a.preventDefault(),na(i.objectUri)})),t.appendChild(n)}}if(e.appendChild(t),i.content){const n=document.createElement("p");n.className="activity-content",n.textContent=i.content,e.appendChild(n)}if(i.published){const n=document.createElement("time");n.className="activity-time",n.dateTime=i.published.toISOString(),n.textContent=yp(i.published),e.appendChild(n)}return e}function wp(i,e,t){t.innerHTML="";const n=document.createElement("div");if(n.className="activity-view",vp(i,e)){const a=e.any(i,Ze("name"),null,null)?.value??"Activities",s=document.createElement("h2");s.className="activity-title",s.textContent=a,n.appendChild(s);const r=e.any(i,Ze("totalItems"),null,null)?.value;if(r){const c=document.createElement("p");c.className="activity-count",c.textContent=`${r} item${r!=="1"?"s":""}`,n.appendChild(c)}const l=gp(i,e),o=document.createElement("div");if(o.className="activity-timeline",l.length===0){const c=document.createElement("p");c.className="activity-empty",c.textContent="No activities.",n.appendChild(c)}else{for(const c of l){const h=ll(c,e);o.appendChild(ul(h))}n.appendChild(o)}}else{const a=ll(i,e),s=document.createElement("div");s.className="activity-timeline",s.appendChild(ul(a)),n.appendChild(s)}t.appendChild(n)}const Ep=["Activity","Create","Update","Delete","Follow","Like","Announce","Add","Remove","Accept","Reject","Undo","Invite","Join","Leave","Offer"],Cp=["Collection","OrderedCollection","CollectionPage","OrderedCollectionPage"];function bp(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Ep)if(n.includes(Ze(a).value))return!0;for(const a of Cp)if(n.includes(Ze(a).value))return!0;return!!(e.any(i,Ze("actor"),null,null)&&e.any(i,Ze("object"),null,null))}const xp={label:"Activity",icon:"🔔",canHandle(i,e){return bp(i,e)},render(i,e,t){wp(i,e,t)}};Be(xp);function sa(i,e){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:e||"USD"}).format(i)}catch{return`${e?`${e} `:""}${i.toFixed(2)}`}}function Np(i,e){const t=e.each(i,me("type"),null,null).map(n=>n.value);return!!(t.includes(vt("BankAccount").value)||t.includes(vt("PaymentCard").value)||t.includes(B("BankAccount").value)||e.any(i,vt("transaction"),null,null))}function pu(i,e){const t=e.any(i,vt("description"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,B("description"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value),n=e.any(i,vt("amount"),null,null)?.value??e.any(i,B("price"),null,null)?.value??e.any(i,B("amount"),null,null)?.value,a=n?parseFloat(n):null,s=e.any(i,vt("currency"),null,null)?.value??e.any(i,B("priceCurrency"),null,null)?.value??e.any(i,B("currency"),null,null)?.value??"",r=e.any(i,vt("date"),null,null)?.value??e.any(i,de("date"),null,null)?.value??e.any(i,B("dateCreated"),null,null)?.value??null,l=e.any(i,vt("category"),null,null),o=l?e.any(l,it("label"),null,null)?.value??e.any(l,B("name"),null,null)?.value??fe(l.value):null,c=e.any(i,vt("payee"),null,null)??e.any(i,B("recipient"),null,null),h=c?e.any(c,B("name"),null,null)?.value??(c.value.startsWith("http")?fe(c.value):c.value):null;return{uri:i.value,date:r,description:t,amount:a,currency:s,category:o,payee:h}}function Tp(i,e,t){const a=e.each(i,vt("transaction"),null,null).map(m=>pu(m,e));a.sort((m,y)=>!m.date&&!y.date?0:m.date?y.date?y.date.localeCompare(m.date):-1:1);const s=document.createElement("p");if(s.className="txn-count",s.textContent=`${a.length} transaction${a.length!==1?"s":""}`,t.appendChild(s),a.length===0){const m=document.createElement("p");m.className="txn-empty",m.textContent="No transactions found.",t.appendChild(m);return}const r=a.reduce((m,y)=>m+(y.amount??0),0),l=a.find(m=>m.currency)?.currency??"";if(r!==0){const m=document.createElement("p");m.className="txn-total",m.textContent=`Balance: ${sa(r,l)}`,t.appendChild(m)}const o=document.createElement("div");o.className="txn-table-wrapper";const c=document.createElement("table");c.className="txn-table";const h=document.createElement("thead");h.innerHTML='<tr><th>Date</th><th>Description</th><th>Category</th><th class="txn-amount-col">Amount</th></tr>',c.appendChild(h);const p=document.createElement("tbody");for(const m of a){const y=document.createElement("tr");y.className="txn-row";const w=document.createElement("td");if(w.className="txn-date",m.date){const R=new Date(m.date);w.textContent=isNaN(R.getTime())?m.date:R.toLocaleDateString(void 0,{month:"short",day:"numeric"})}y.appendChild(w);const x=document.createElement("td");x.className="txn-desc",x.textContent=m.payee?`${m.description} — ${m.payee}`:m.description,y.appendChild(x);const D=document.createElement("td");D.className="txn-category",D.textContent=m.category??"",y.appendChild(D);const M=document.createElement("td");M.className="txn-amount",m.amount!==null&&(M.textContent=sa(m.amount,m.currency),m.amount<0&&M.classList.add("txn-negative"),m.amount>0&&M.classList.add("txn-positive")),y.appendChild(M),p.appendChild(y)}c.appendChild(p),o.appendChild(c),t.appendChild(o)}function Ap(i,e,t){const n=pu(i,e),a=document.createElement("div");a.className="txn-details";const s=[];if(n.date){const l=new Date(n.date),o=isNaN(l.getTime())?n.date:l.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});s.push(["Date",o])}n.amount!==null&&s.push(["Amount",sa(n.amount,n.currency)]),n.payee&&s.push(["Payee",n.payee]),n.category&&s.push(["Category",n.category]);for(const[l,o]of s){const c=document.createElement("div");c.className="txn-detail",c.innerHTML=`<span class="txn-label">${l}</span><span class="txn-value">${o}</span>`,a.appendChild(c)}t.appendChild(a);const r=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(r&&r!==n.description){const l=document.createElement("p");l.className="txn-body",l.textContent=r,t.appendChild(l)}}function Dp(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="txn-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,vt("description"),null,null)?.value??e.any(i,it("label"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="txn-title",s.textContent=a,n.appendChild(s),Np(i,e)?Tp(i,e,n):Ap(i,e,n),t.appendChild(n)}const _p=[vt("Transaction").value,vt("BankAccount").value,vt("PaymentCard").value,B("Invoice").value,B("MoneyTransfer").value,B("PayAction").value,B("BankAccount").value];function kp(i,e){const t=e.each(i,me("type"),null,null).map(n=>n.value);for(const n of _p)if(t.includes(n))return!0;return!!(e.any(i,vt("transaction"),null,null)||e.any(i,B("totalPaymentDue"),null,null)||e.any(i,vt("amount"),null,null))}const Sp={label:"Transactions",icon:"💳",canHandle(i,e){return kp(i,e)},render(i,e,t){Dp(i,e,t)}};Be(Sp);function Ip(i,e){const t=e.any(i,B("price"),null,null)?.value;if(t){const a=e.any(i,B("priceCurrency"),null,null)?.value??"";return{price:t,currency:a}}const n=e.any(i,B("offers"),null,null);if(n){const a=e.any(n,B("price"),null,null)?.value;if(a){const s=e.any(n,B("priceCurrency"),null,null)?.value??"";return{price:a,currency:s}}}return null}function Bp(i,e){const t=parseFloat(i);if(isNaN(t))return`${e} ${i}`.trim();try{return new Intl.NumberFormat(void 0,{style:"currency",currency:e||"USD"}).format(t)}catch{return`${e} ${i}`.trim()}}function Fp(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="product-view";const a=e.any(i,B("image"),null,null)?.value??e.any(i,B("thumbnailUrl"),null,null)?.value;if(a){const w=document.createElement("img");w.className="product-image",w.src=a,w.alt="Product image",n.appendChild(w)}const s=document.createElement("div");s.className="product-info";const r=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),l=document.createElement("h2");l.className="product-name",l.textContent=r,s.appendChild(l);const o=e.any(i,B("brand"),null,null);if(o){const w=e.any(o,B("name"),null,null)?.value??o.value;if(w&&!w.startsWith("http")){const x=document.createElement("p");x.className="product-brand",x.textContent=w,s.appendChild(x)}}const c=Ip(i,e);if(c){const w=document.createElement("p");w.className="product-price",w.textContent=Bp(c.price,c.currency),s.appendChild(w)}const h=e.any(i,B("aggregateRating"),null,null);if(h){const w=e.any(h,B("ratingValue"),null,null)?.value,x=e.any(h,B("reviewCount"),null,null)?.value,D=e.any(h,B("bestRating"),null,null)?.value??"5";if(w){const M=document.createElement("div");M.className="product-rating";const R=Math.round(parseFloat(w)),Z=parseInt(D),Y="★".repeat(Math.min(R,Z))+"☆".repeat(Math.max(Z-R,0)),T=document.createElement("span");T.className="product-stars",T.textContent=Y,M.appendChild(T);const V=document.createElement("span");V.className="product-score",V.textContent=`${w}/${D}`,x&&(V.textContent+=` (${x} reviews)`),M.appendChild(V),s.appendChild(M)}}const p=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(p){const w=document.createElement("p");w.className="product-description",w.textContent=p,s.appendChild(w)}const m=e.any(i,B("sku"),null,null)?.value;if(m){const w=document.createElement("p");w.className="product-sku",w.textContent=`SKU: ${m}`,s.appendChild(w)}const y=e.any(i,B("url"),null,null)?.value;if(y){const w=document.createElement("a");w.className="product-link",w.href=y,w.textContent="View product",w.target="_blank",w.rel="noopener",s.appendChild(w)}n.appendChild(s),t.appendChild(n)}const Lp=["Product","IndividualProduct","SomeProducts","Vehicle","Car","CreativeWork","SoftwareApplication","Book","Movie","MusicAlbum","Game"];function Rp(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Lp)if(n.includes(B(a).value))return!0;return!!(e.any(i,B("offers"),null,null)||e.any(i,B("price"),null,null))}const Op={label:"Product",icon:"📦",canHandle(i,e){return Rp(i,e)},render(i,e,t){Fp(i,e,t)}};Be(Op);function Vi(i){const e=i.match(/^PT?(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/i);if(!e)return i;const t=[];return e[1]&&t.push(`${e[1]} hr`),e[2]&&t.push(`${e[2]} min`),e[3]&&t.push(`${e[3]} sec`),t.join(" ")||i}function $p(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="recipe-view";const a=e.any(i,B("image"),null,null)?.value??e.any(i,B("thumbnailUrl"),null,null)?.value;if(a){const T=document.createElement("img");T.className="recipe-image",T.src=a,T.alt="Recipe photo",n.appendChild(T)}const s=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),r=document.createElement("h2");r.className="recipe-name",r.textContent=s,n.appendChild(r);const l=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(l){const T=document.createElement("p");T.className="recipe-description",T.textContent=l,n.appendChild(T)}const o=[],c=e.any(i,B("prepTime"),null,null)?.value;c&&o.push({label:"Prep",value:Vi(c)});const h=e.any(i,B("cookTime"),null,null)?.value;h&&o.push({label:"Cook",value:Vi(h)});const p=e.any(i,B("totalTime"),null,null)?.value;p&&o.push({label:"Total",value:Vi(p)});const m=e.any(i,B("recipeYield"),null,null)?.value;m&&o.push({label:"Yield",value:m});const y=e.any(i,B("recipeServings"),null,null)?.value;if(y&&o.push({label:"Servings",value:y}),o.length>0){const T=document.createElement("div");T.className="recipe-meta";for(const V of o){const $=document.createElement("span");$.className="recipe-meta-item",$.innerHTML=`<strong>${V.label}</strong> ${V.value}`,T.appendChild($)}n.appendChild(T)}const w=e.any(i,B("aggregateRating"),null,null);if(w){const T=e.any(w,B("ratingValue"),null,null)?.value,V=e.any(w,B("reviewCount"),null,null)?.value;if(T){const $=document.createElement("div");$.className="recipe-rating";const q=Math.round(parseFloat(T)),F="★".repeat(Math.min(q,5))+"☆".repeat(Math.max(5-q,0)),P=document.createElement("span");P.className="recipe-stars",P.textContent=F,$.appendChild(P);const j=document.createElement("span");j.className="recipe-score",j.textContent=`${T}/5`,V&&(j.textContent+=` (${V} reviews)`),$.appendChild(j),n.appendChild($)}}const x=e.any(i,B("recipeCategory"),null,null)?.value,D=e.any(i,B("recipeCuisine"),null,null)?.value;if(x||D){const T=document.createElement("div");if(T.className="recipe-tags",x){const V=document.createElement("span");V.className="recipe-tag",V.textContent=x,T.appendChild(V)}if(D){const V=document.createElement("span");V.className="recipe-tag",V.textContent=D,T.appendChild(V)}n.appendChild(T)}const M=e.each(i,B("recipeIngredient"),null,null);if(M.length>0){const T=document.createElement("div");T.className="recipe-section";const V=document.createElement("h3");V.textContent="Ingredients",T.appendChild(V);const $=document.createElement("ul");$.className="recipe-ingredients";for(const q of M){const F=document.createElement("li");F.textContent=q.value,$.appendChild(F)}T.appendChild($),n.appendChild(T)}const R=e.each(i,B("recipeInstructions"),null,null);if(R.length>0){const T=document.createElement("div");T.className="recipe-section";const V=document.createElement("h3");V.textContent="Instructions",T.appendChild(V);const $=document.createElement("ol");$.className="recipe-instructions";for(const q of R){const F=e.any(q,B("text"),null,null)?.value??q.value;if(F&&!F.startsWith("http")){const P=document.createElement("li");P.textContent=F,$.appendChild(P)}}T.appendChild($),n.appendChild(T)}const Z=e.any(i,B("nutrition"),null,null);if(Z){const T=[["calories","Calories"],["fatContent","Fat"],["carbohydrateContent","Carbs"],["proteinContent","Protein"],["fiberContent","Fiber"],["sugarContent","Sugar"],["sodiumContent","Sodium"]],V=[];for(const[$,q]of T){const F=e.any(Z,B($),null,null)?.value;F&&V.push({label:q,value:F})}if(V.length>0){const $=document.createElement("div");$.className="recipe-section";const q=document.createElement("h3");q.textContent="Nutrition",$.appendChild(q);const F=document.createElement("div");F.className="recipe-nutrition";for(const P of V){const j=document.createElement("div");j.className="recipe-nutrition-item",j.innerHTML=`<span class="recipe-nutrition-value">${P.value}</span><span class="recipe-nutrition-label">${P.label}</span>`,F.appendChild(j)}$.appendChild(F),n.appendChild($)}}const Y=e.any(i,B("author"),null,null);if(Y){const T=e.any(Y,B("name"),null,null)?.value??Y.value;if(T&&!T.startsWith("http")){const V=document.createElement("p");V.className="recipe-author",V.textContent=`Recipe by ${T}`,n.appendChild(V)}}t.appendChild(n)}const Mp=["Recipe","HowTo"];function Up(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Mp)if(n.includes(B(a).value))return!0;return!!(e.any(i,B("recipeIngredient"),null,null)||e.any(i,B("recipeInstructions"),null,null))}const Pp={label:"Recipe",icon:"🍳",canHandle(i,e){return Up(i,e)},render(i,e,t){$p(i,e,t)}};Be(Pp);function qp(i,e){const t=e.each(i,me("type"),null,null).map(n=>n.value);return!!(t.includes(Ct("Tracker").value)||t.includes(ta("Tracker").value)||e.any(i,Ct("issue"),null,null))}function la(i){return(i.split("#").pop()??i.split("/").pop()??i).replace(/([a-z])([A-Z])/g,"$1 $2")}function mu(i){const e=i.toLowerCase();return e.includes("open")||e.includes("new")?"issue-state-open":e.includes("closed")||e.includes("done")||e.includes("resolved")||e.includes("fixed")?"issue-state-closed":e.includes("progress")||e.includes("active")?"issue-state-active":"issue-state-default"}function Hp(i,e,t){const n=document.createElement("div");n.className="issue-view";const a=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,it("label"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="issue-title",s.textContent=a,n.appendChild(s);const r=e.any(i,Ct("state"),null,null);if(r){const m=document.createElement("span");m.className=`issue-state ${mu(r.value)}`,m.textContent=la(r.value),n.appendChild(m)}const l=document.createElement("div");l.className="issue-details";const o=e.any(i,Ct("assignee"),null,null);if(o){const m=e.any(o,B("name"),null,null)?.value??fe(o.value),y=document.createElement("div");y.className="issue-detail",y.innerHTML=`<span class="issue-label">Assignee</span><span class="issue-value">${m}</span>`,l.appendChild(y)}const c=e.any(i,Ct("priority"),null,null)?.value??e.any(i,B("priority"),null,null)?.value;if(c){const m=document.createElement("div");m.className="issue-detail",m.innerHTML=`<span class="issue-label">Priority</span><span class="issue-value">${la(c)}</span>`,l.appendChild(m)}const h=e.any(i,de("created"),null,null)?.value??e.any(i,B("dateCreated"),null,null)?.value;if(h){const m=document.createElement("div");m.className="issue-detail";const y=new Date(h),w=isNaN(y.getTime())?h:y.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});m.innerHTML=`<span class="issue-label">Created</span><span class="issue-value">${w}</span>`,l.appendChild(m)}l.children.length>0&&n.appendChild(l);const p=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value??e.any(i,it("comment"),null,null)?.value;if(p){const m=document.createElement("div");m.className="issue-description",m.textContent=p,n.appendChild(m)}t.appendChild(n)}function zp(i,e,t){const n=document.createElement("div");n.className="tracker-view";const a=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,it("label"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="tracker-title",s.textContent=a,n.appendChild(s);const r=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value;if(r){const c=document.createElement("p");c.className="tracker-description",c.textContent=r,n.appendChild(c)}const l=e.each(i,Ct("issue"),null,null),o=document.createElement("p");if(o.className="tracker-count",o.textContent=`${l.length} issue${l.length!==1?"s":""}`,n.appendChild(o),l.length===0){const c=document.createElement("p");c.className="tracker-empty",c.textContent="No issues found.",n.appendChild(c)}else{const c=document.createElement("ul");c.className="tracker-issues";for(const h of l){const p=h,m=document.createElement("li");m.className="tracker-issue";const y=e.any(p,Ct("state"),null,null);if(y){const M=document.createElement("span");M.className=`issue-state ${mu(y.value)}`,M.textContent=la(y.value),m.appendChild(M)}const w=e.any(p,de("title"),null,null)?.value??e.any(p,B("name"),null,null)?.value??fe(p.value),x=document.createElement("a");x.className="tracker-issue-title",x.href=p.value,x.textContent=w,m.appendChild(x);const D=e.any(p,Ct("assignee"),null,null);if(D){const M=e.any(D,B("name"),null,null)?.value??fe(D.value),R=document.createElement("span");R.className="tracker-issue-assignee",R.textContent=M,m.appendChild(R)}c.appendChild(m)}n.appendChild(c)}t.appendChild(n)}function jp(i,e,t){t.innerHTML="",qp(i,e)?zp(i,e,t):Hp(i,e,t)}const Vp=[Ct("Tracker").value,Ct("Issue").value,ta("Tracker").value,ta("Issue").value];function Gp(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of Vp)if(n.includes(a))return!0;return!!(e.any(i,Ct("issue"),null,null)||e.any(i,Ct("state"),null,null))}const Xp={label:"Issues",icon:"📋",canHandle(i,e){return Gp(i,e)},render(i,e,t){jp(i,e,t)}};Be(Xp);function Wp(i){const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Qp(i,e){return e.any(i,B("name"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??fe(i.value)}function Yp(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="meeting-view";const a=e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,it("label"),null,null)?.value??fe(i.value),s=document.createElement("h2");s.className="meeting-title",s.textContent=a,n.appendChild(s);const r=e.any(i,B("startDate"),null,null)?.value??e.any(i,de("created"),null,null)?.value??e.any(i,de("date"),null,null)?.value;if(r){const y=document.createElement("p");y.className="meeting-date",y.textContent=Wp(r),n.appendChild(y)}const l=e.any(i,B("location"),null,null)?.value??e.any(i,Ut("location"),null,null)?.value;if(l&&!l.startsWith("http")){const y=document.createElement("p");y.className="meeting-location",y.textContent=l,n.appendChild(y)}const o=e.any(i,de("description"),null,null)?.value??e.any(i,B("description"),null,null)?.value;if(o){const y=document.createElement("p");y.className="meeting-description",y.textContent=o,n.appendChild(y)}const c=e.each(i,Ut("participant"),null,null);if(c.length>0){const y=document.createElement("div");y.className="meeting-section";const w=document.createElement("h3");w.textContent="Participants",y.appendChild(w);const x=document.createElement("ul");x.className="meeting-participants";for(const D of c){const M=D,R=Qp(M,e),Z=document.createElement("li"),Y=document.createElement("a");Y.className="meeting-participant",Y.href=M.value,Y.textContent=R,Z.appendChild(Y),x.appendChild(Z)}y.appendChild(x),n.appendChild(y)}const h=e.each(i,Ut("agenda"),null,null);if(h.length>0){const y=document.createElement("div");y.className="meeting-section";const w=document.createElement("h3");w.textContent="Agenda",y.appendChild(w);const x=document.createElement("ol");x.className="meeting-agenda";for(const D of h){const M=document.createElement("li"),R=e.any(D,de("title"),null,null)?.value??e.any(D,B("name"),null,null)?.value??D.value;R&&!R.startsWith("http")?M.textContent=R:M.textContent=fe(R),x.appendChild(M)}y.appendChild(x),n.appendChild(y)}const p=e.each(i,Ut("action"),null,null);if(p.length>0){const y=document.createElement("div");y.className="meeting-section";const w=document.createElement("h3");w.textContent="Action Items",y.appendChild(w);const x=document.createElement("ul");x.className="meeting-actions";for(const D of p){const M=document.createElement("li"),R=e.any(D,de("title"),null,null)?.value??e.any(D,B("name"),null,null)?.value??e.any(D,it("label"),null,null)?.value??D.value;R&&!R.startsWith("http")?M.textContent=R:M.textContent=fe(R),x.appendChild(M)}y.appendChild(x),n.appendChild(y)}const m=e.any(i,Lt("content"),null,null)?.value??e.any(i,B("text"),null,null)?.value;if(m){const y=document.createElement("div");y.className="meeting-section";const w=document.createElement("h3");w.textContent="Notes",y.appendChild(w);const x=document.createElement("div");x.className="meeting-notes",x.textContent=m,y.appendChild(x),n.appendChild(y)}t.appendChild(n)}Ut("Meeting").value,B("Event").value;function Zp(i,e){return!!(e.each(i,me("type"),null,null).map(a=>a.value).includes(Ut("Meeting").value)||e.any(i,Ut("participant"),null,null)||e.any(i,Ut("agenda"),null,null))}const Jp={label:"Meeting",icon:"🤝",canHandle(i,e){return Zp(i,e)},render(i,e,t){Yp(i,e,t)}};Be(Jp);const ol={Create:"created",Update:"updated",Delete:"deleted",Add:"added",Remove:"removed",Like:"liked",Follow:"followed",Announce:"shared",Accept:"accepted",Reject:"rejected",Invite:"invited",Offer:"offered",Undo:"undid",Block:"blocked",Flag:"flagged",Move:"moved",Read:"read",View:"viewed",Listen:"listened to",Join:"joined",Leave:"left"};function Kp(i,e){const t=[],n=[...e.each(i,tt("contains"),null,null),...e.each(i,Ze("items"),null,null),...e.each(i,Jt("notification"),null,null)],a=new Set;for(const s of n){if(a.has(s.value))continue;a.add(s.value);const r=s,l=e.each(r,me("type"),null,null).map(R=>R.value);let o="";for(const R of l){const Z=R.split("#").pop()??R.split("/").pop()??"";if(ol[Z]){o=Z;break}}const c=e.any(r,Ze("actor"),null,null);let h="",p=null;c&&(p=c.value,h=e.any(c,B("name"),null,null)?.value??e.any(c,Ze("name"),null,null)?.value??fe(c.value));const m=e.any(r,Ze("object"),null,null);let y="",w=null;m&&(w=m.value,y=e.any(m,B("name"),null,null)?.value??e.any(m,Ze("name"),null,null)?.value??fe(m.value));const x=e.any(r,Ze("content"),null,null)?.value??e.any(r,Ze("summary"),null,null)?.value??e.any(r,de("description"),null,null)?.value??null,D=e.any(r,Ze("published"),null,null)?.value??e.any(r,de("created"),null,null)?.value??e.any(r,de("date"),null,null)?.value??null,M=ol[o]??(o.toLowerCase()||"notified");t.push({uri:r.value,type:o,actor:h,actorUri:p,verb:M,object:y,objectUri:w,content:x,timestamp:D})}return t.sort((s,r)=>!s.timestamp&&!r.timestamp?0:s.timestamp?r.timestamp?new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime():-1:1),t}function em(i){const e=new Date(i);if(isNaN(e.getTime()))return i;const t=new Date,n=t.getTime()-e.getTime(),a=Math.floor(n/6e4),s=Math.floor(n/36e5),r=Math.floor(n/864e5);return a<1?"just now":a<60?`${a}m ago`:s<24?`${s}h ago`:r<7?`${r}d ago`:e.toLocaleDateString(void 0,{month:"short",day:"numeric",year:e.getFullYear()!==t.getFullYear()?"numeric":void 0})}function tm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="notif-view";const a=e.any(i,B("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,it("label"),null,null)?.value??"Notifications",s=document.createElement("h2");s.className="notif-title",s.textContent=a,n.appendChild(s);const r=Kp(i,e),l=document.createElement("p");if(l.className="notif-count",l.textContent=`${r.length} notification${r.length!==1?"s":""}`,n.appendChild(l),r.length===0){const c=document.createElement("p");c.className="notif-empty",c.textContent="No notifications.",n.appendChild(c),t.appendChild(n);return}const o=document.createElement("div");o.className="notif-list";for(const c of r){const h=document.createElement("div");h.className="notif-item";const p=document.createElement("div");if(p.className="notif-summary",c.actor){const m=document.createElement("a");m.className="notif-actor",m.textContent=c.actor,c.actorUri&&(m.href=c.actorUri),p.appendChild(m),p.appendChild(document.createTextNode(` ${c.verb} `))}else p.appendChild(document.createTextNode(`${c.verb} `));if(c.object){const m=document.createElement("a");m.className="notif-object",m.textContent=c.object,c.objectUri&&(m.href=c.objectUri),p.appendChild(m)}if(h.appendChild(p),c.content){const m=document.createElement("p");m.className="notif-content",m.textContent=c.content,h.appendChild(m)}if(c.timestamp){const m=document.createElement("time");m.className="notif-time",m.dateTime=c.timestamp,m.textContent=em(c.timestamp),h.appendChild(m)}o.appendChild(h)}n.appendChild(o),t.appendChild(n)}function nm(i,e){const t=e.each(i,me("type"),null,null).map(n=>n.value);return!!((t.includes(tt("Container").value)||t.includes(tt("BasicContainer").value))&&(e.match(null,tt("inbox"),i,null).length>0||e.match(null,Jt("inbox"),i,null).length>0)||t.includes(Ze("OrderedCollection").value)||t.includes(Ze("Collection").value)&&(e.any(i,Ze("items"),null,null)||e.any(i,tt("contains"),null,null))||e.any(i,Jt("notification"),null,null))}const rm={label:"Notifications",icon:"🔔",canHandle(i,e){return nm(i,e)},render(i,e,t){tm(i,e,t)}};Be(rm);const im={SingleLineTextField:{inputType:"text"},TextField:{inputType:"text"},NamedNodeURIField:{inputType:"url"},IntegerField:{inputType:"number",xsdType:"integer"},DecimalField:{inputType:"number",xsdType:"decimal"},FloatField:{inputType:"number",xsdType:"float"},DateField:{inputType:"date",xsdType:"date"},DateTimeField:{inputType:"datetime-local",xsdType:"dateTime"},TimeField:{inputType:"time",xsdType:"time"},ColorField:{inputType:"color"},PhoneField:{inputType:"tel"},EmailField:{inputType:"email"}};function cl(i,e){return e.any(i,it("label"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,nt("title"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function am(i,e){const t=e.each(i,me("type"),null,null);for(const n of t){const a=fe(n.value);if(a!=="type")return a}return"Unknown"}function sm(i,e){const t=[],n=e.each(i,yt("part"),null,null),a=e.any(i,yt("parts"),null,null);a&&a.termType==="NamedNode"&&lm(a,e,t);for(const s of n){if(s.termType!=="NamedNode")continue;const r=s;t.some(l=>l.uri===r.value)||t.push(gu(r,e))}return t.sort((s,r)=>s.sequence-r.sequence),t}function lm(i,e,t){let n=i;const a=new Set;for(;n&&!a.has(n.value)&&(a.add(n.value),n.value!==me("nil").value);){const s=e.any(n,me("first"),null,null);s&&s.termType==="NamedNode"&&t.push(gu(s,e));const r=e.any(n,me("rest"),null,null);if(r&&r.termType==="NamedNode")n=r;else break}}function gu(i,e){const t=am(i,e),n=e.any(i,yt("property"),null,null)?.value??null,a=e.any(i,yt("label"),null,null)?.value??(n?fe(n):t),s=e.any(i,yt("sequence"),null,null)?.value,r=s?parseInt(s,10):999,l=e.any(i,yt("contents"),null,null)?.value??null;return{uri:i.value,fieldType:t,property:n,label:a,sequence:r,contents:l}}function um(i,e){const t=e.each(i,me("type"),null,null);if(t.some(n=>n.value===yt("Form").value))return i;for(const n of t){if(n.termType!=="NamedNode")continue;const a=e.any(n,yt("annotationForm"),null,null);if(a&&a.termType==="NamedNode")return a;const s=e.any(n,yt("creationForm"),null,null);if(s&&s.termType==="NamedNode")return s;const r=e.each(n,it("subClassOf"),null,null);for(const l of r){if(l.termType!=="NamedNode")continue;const o=e.any(l,yt("annotationForm"),null,null);if(o&&o.termType==="NamedNode")return o;const c=e.any(l,yt("creationForm"),null,null);if(c&&c.termType==="NamedNode")return c}}return null}function om(i,e,t){const n=document.createElement("div");if(n.className="form-field",i.fieldType==="Comment"){const c=document.createElement("p");return c.className="form-comment",c.textContent=i.contents??"",c}if(i.fieldType==="Heading"){const c=document.createElement("h3");return c.className="form-heading",c.textContent=i.contents??i.label,c}const a=document.createElement("label");a.className="form-field-label",a.textContent=i.label,i.property&&(a.title=i.property),n.appendChild(a);const s=document.createElement("div");s.className="form-field-value";let r="";if(i.property){const c={termType:"NamedNode",value:i.property},h=t.any(e,c,null,null);h&&(r=h.value)}if(i.fieldType==="BooleanField"||i.fieldType==="TristateField"){const c=document.createElement("span");return c.className="form-boolean",r==="true"||r==="1"?(c.textContent="✓",c.classList.add("form-bool-true")):r==="false"||r==="0"?(c.textContent="✗",c.classList.add("form-bool-false")):(c.textContent=i.fieldType==="TristateField"?"—":"✗",c.classList.add("form-bool-null")),s.appendChild(c),n.appendChild(s),n}if(i.fieldType==="MultiLineTextField"){const c=document.createElement("textarea");return c.className="form-textarea",c.value=r,c.readOnly=!0,c.rows=4,s.appendChild(c),n.appendChild(s),n}if(i.fieldType==="Choice"||i.fieldType==="Classifier"){const c=document.createElement("select");c.className="form-select",c.disabled=!0;const h=document.createElement("option");return h.textContent=r?fe(r):"(none)",h.value=r,c.appendChild(h),s.appendChild(c),n.appendChild(s),n}const l=im[i.fieldType],o=document.createElement("input");return o.className="form-input",o.type=l?.inputType??"text",o.value=r,o.readOnly=!0,s.appendChild(o),n.appendChild(s),n}function cm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="form-view";const a=um(i,e);if(!a){const p=document.createElement("p");p.className="form-empty",p.textContent="No form definition found for this resource.",n.appendChild(p),t.appendChild(n);return}const s=e.any(a,de("title"),null,null)?.value??e.any(a,nt("title"),null,null)?.value??cl(a,e),r=document.createElement("h2");if(r.className="form-title",r.textContent=s,n.appendChild(r),!(a.value===i.value)){const p=document.createElement("p");p.className="form-subject",p.textContent=`Editing: ${cl(i,e)}`,n.appendChild(p)}const o=sm(a,e);if(o.length===0){const p=document.createElement("p");p.className="form-no-fields",p.textContent="This form has no fields defined.",n.appendChild(p),t.appendChild(n);return}const c=document.createElement("p");c.className="form-count",c.textContent=`${o.length} field${o.length!==1?"s":""}`,n.appendChild(c);const h=document.createElement("div");h.className="form-fields";for(const p of o)h.appendChild(om(p,i,e));n.appendChild(h),t.appendChild(n)}function dm(i,e){const t=e.each(i,me("type"),null,null);if(t.map(a=>a.value).includes(yt("Form").value))return!0;for(const a of t){if(a.termType!=="NamedNode")continue;if(e.any(a,yt("creationForm"),null,null)||e.any(a,yt("annotationForm"),null,null))return!0;const s=e.each(a,it("subClassOf"),null,null);for(const r of s)if(r.termType==="NamedNode"&&(e.any(r,yt("creationForm"),null,null)||e.any(r,yt("annotationForm"),null,null)))return!0}return!1}const hm={label:"Form",icon:"📋",canHandle(i,e){return dm(i,e)},render(i,e,t){cm(i,e,t)}};Be(hm);const fm=[{uri:"Read",label:"Read"},{uri:"Write",label:"Write"},{uri:"Append",label:"Append"},{uri:"Control",label:"Control"}];function pm(i,e){return e.any(i,Ce("name"),null,null)?.value??e.any(i,be("fn"),null,null)?.value??fe(i.value)}function mm(i,e){const t=[],n=e.each(i,wt("trustedApp"),null,null);for(const a of n){const s=e.any(a,wt("origin"),null,null);if(!s)continue;const r=s.value,l=fe(r),c=e.each(a,wt("mode"),null,null).map(h=>fe(h.value));t.push({originUri:r,originLabel:l,modes:c})}return t.sort((a,s)=>a.originUri.localeCompare(s.originUri)),t}function gm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="trusted-apps-view";const a=document.createElement("h2");a.className="trusted-apps-title",a.textContent="Trusted Applications",n.appendChild(a);const s=pm(i,e),r=document.createElement("p");r.className="trusted-apps-subtitle",r.textContent=`Manage applications trusted by ${s}`,n.appendChild(r);const l=mm(i,e),o=document.createElement("p");if(o.className="trusted-apps-count",o.textContent=`${l.length} trusted application${l.length!==1?"s":""}`,n.appendChild(o),l.length===0){const x=document.createElement("p");x.className="trusted-apps-empty",x.textContent="No trusted applications configured.",n.appendChild(x),dl(n),t.appendChild(n);return}const c=document.createElement("table");c.className="trusted-apps-table";const h=document.createElement("thead"),p=document.createElement("tr"),m=document.createElement("th");m.textContent="Application URL";const y=document.createElement("th");y.textContent="Access Modes",p.appendChild(m),p.appendChild(y),h.appendChild(p),c.appendChild(h);const w=document.createElement("tbody");for(const x of l){const D=document.createElement("tr");D.className="trusted-apps-row";const M=document.createElement("td");M.className="trusted-apps-origin";const R=document.createElement("a");R.href=x.originUri,R.textContent=x.originUri,R.target="_blank",R.rel="noopener",M.appendChild(R),D.appendChild(M);const Z=document.createElement("td");Z.className="trusted-apps-modes";for(const Y of fm){const T=document.createElement("span"),V=x.modes.includes(Y.uri);T.className=`trusted-apps-mode ${V?"trusted-apps-mode-active":"trusted-apps-mode-inactive"}`,T.textContent=Y.label,Z.appendChild(T)}D.appendChild(Z),w.appendChild(D)}c.appendChild(w),n.appendChild(c),dl(n),t.appendChild(n)}function dl(i){const e=document.createElement("div");e.className="trusted-apps-notes";const t=document.createElement("h3");t.textContent="Notes",e.appendChild(t);const n=document.createElement("ol"),a=["Trusted applications get access to all resources that you have access to.","You can limit which modes they have by default.","They will not gain more access than you have."];for(const s of a){const r=document.createElement("li");r.textContent=s,n.appendChild(r)}e.appendChild(n),i.appendChild(e)}function vm(i,e){return e.each(i,wt("trustedApp"),null,null).length>0}const ym={label:"Trusted Apps",icon:"🛡️",canHandle(i,e){return vm(i,e)},render(i,e,t){gm(i,e,t)}};Be(ym);function wm(i,e){return e.any(i,de("title"),null,null)?.value??e.any(i,nt("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??"Notepad"}function vu(i,e){return e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function Em(i,e){const t=[],n=new Set;let a=e.any(i,li("next"),null,null);for(;a&&a.termType==="NamedNode"&&!n.has(a.value)&&a.value!==i.value;){n.add(a.value);const s=a,r=e.any(s,Lt("content"),null,null)?.value??e.any(s,nt("description"),null,null)?.value??"",l=e.any(s,nt("author"),null,null)??e.any(s,de("creator"),null,null)??e.any(s,Ce("maker"),null,null);let o=null,c=null;l&&(c=l.value,l.termType==="NamedNode"?o=vu(l,e):o=l.value),t.push({uri:s.value,content:r,author:o,authorUri:c}),a=e.any(s,li("next"),null,null)}return t}function Cm(i,e){const t=e.any(i,de("created"),null,null)?.value??e.any(i,nt("date"),null,null)?.value;if(!t)return null;const n=new Date(t);return isNaN(n.getTime())?t:n.toLocaleDateString()}function bm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="pad-view";const a=wm(i,e),s=document.createElement("h2");s.className="pad-title",s.textContent=a,n.appendChild(s);const r=document.createElement("div");r.className="pad-meta";const l=Cm(i,e);if(l){const w=document.createElement("span");w.className="pad-date",w.textContent=`Created: ${l}`,r.appendChild(w)}const o=e.any(i,nt("author"),null,null)??e.any(i,de("creator"),null,null);if(o&&o.termType==="NamedNode"){const w=vu(o,e),x=document.createElement("span");x.className="pad-author",x.textContent=`Author: ${w}`,r.appendChild(x)}r.children.length>0&&n.appendChild(r);const c=Em(i,e);if(c.length===0){const w=document.createElement("p");w.className="pad-empty",w.textContent="This notepad is empty.",n.appendChild(w),t.appendChild(n);return}const h=document.createElement("div");h.className="pad-content";const m=new Set(c.filter(w=>w.author).map(w=>w.authorUri)).size>1;for(const w of c){const x=document.createElement("div");if(x.className="pad-chunk",m&&w.author){const R=document.createElement("span");R.className="pad-chunk-author",R.textContent=w.author,w.authorUri&&(R.title=w.authorUri),x.appendChild(R)}const D=document.createElement("div");D.className="pad-chunk-text";const M=w.content.split(`
`);for(let R=0;R<M.length;R++)R>0&&D.appendChild(document.createElement("br")),D.appendChild(document.createTextNode(M[R]));x.appendChild(D),h.appendChild(x)}n.appendChild(h);const y=document.createElement("p");y.className="pad-count",y.textContent=`${c.length} chunk${c.length!==1?"s":""}`,n.appendChild(y),t.appendChild(n)}function xm(i,e){return!!(e.each(i,me("type"),null,null).map(a=>a.value).includes(li("Notepad").value)||e.any(i,li("next"),null,null))}const Nm={label:"Notepad",icon:"📝",canHandle(i,e){return xm(i,e)},render(i,e,t){bm(i,e,t)}};Be(Nm);function Tm(i,e){return e.any(i,de("title"),null,null)?.value??e.any(i,nt("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,Lt("name"),null,null)?.value??"Microblog"}function Am(i,e){return e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function Dm(i,e){return e.each(i,me("type"),null,null).some(n=>n.value===ii("MicroblogPost").value)}function yu(i,e){const t=e.any(i,Lt("content"),null,null)?.value??e.any(i,de("description"),null,null)?.value??e.any(i,nt("description"),null,null)?.value??"",n=e.any(i,de("created"),null,null)?.value??e.any(i,nt("date"),null,null)?.value,a=n?new Date(n):null,s=e.any(i,Lt("has_creator"),null,null)??e.any(i,Ce("maker"),null,null)??e.any(i,de("creator"),null,null);let r=null,l=null;return s&&(l=s.value,s.termType==="NamedNode"?r=Am(s,e):r=s.value),{uri:i.value,content:t,created:a,creator:r,creatorUri:l}}function _m(i,e){const t=e.each(i,Lt("container_of"),null,null),n=[];for(const a of t)a.termType==="NamedNode"&&n.push(yu(a,e));return n.sort((a,s)=>!a.created&&!s.created?0:a.created?s.created?s.created.getTime()-a.created.getTime():-1:1),n}function km(i){const e=new Date,t=e.getTime()-i.getTime(),n=Math.floor(t/6e4),a=Math.floor(t/36e5),s=Math.floor(t/864e5);return n<1?"just now":n<60?`${n}m ago`:a<24?`${a}h ago`:s<7?`${s}d ago`:i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:i.getFullYear()!==e.getFullYear()?"numeric":void 0})}function Sm(i,e){const t=/(https?:\/\/[^\s<>"]+)/g,n=i.split(t);for(const a of n)if(t.test(a)){t.lastIndex=0;const s=document.createElement("a");s.href=a,s.textContent=a,s.target="_blank",s.rel="noopener",e.appendChild(s)}else a&&e.appendChild(document.createTextNode(a))}function hl(i){const e=document.createElement("div");e.className="microblog-post";const t=document.createElement("div");if(t.className="microblog-post-header",i.creator){const s=document.createElement("span");s.className="microblog-post-author",s.textContent=i.creator,i.creatorUri&&(s.title=i.creatorUri),t.appendChild(s)}if(i.created){const s=document.createElement("time");s.className="microblog-post-time",s.dateTime=i.created.toISOString(),s.textContent=km(i.created),t.appendChild(s)}e.appendChild(t);const n=document.createElement("div");n.className="microblog-post-content",Sm(i.content,n),e.appendChild(n);const a=i.content.length;if(a>0){const s=document.createElement("span");s.className="microblog-char-count",s.textContent=`${a}`,e.appendChild(s)}return e}function Im(i,e,t){t.innerHTML="";const n=document.createElement("div");if(n.className="microblog-view",Dm(i,e)){const h=yu(i,e),p=document.createElement("h2");p.className="microblog-title",p.textContent="Microblog Post",n.appendChild(p),n.appendChild(hl(h)),t.appendChild(n);return}const a=Tm(i,e),s=document.createElement("h2");s.className="microblog-title",s.textContent=a,n.appendChild(s);const r=e.any(i,de("description"),null,null)?.value??e.any(i,nt("description"),null,null)?.value;if(r){const h=document.createElement("p");h.className="microblog-description",h.textContent=r,n.appendChild(h)}const l=_m(i,e),o=document.createElement("p");if(o.className="microblog-count",o.textContent=`${l.length} post${l.length!==1?"s":""}`,n.appendChild(o),l.length===0){const h=document.createElement("p");h.className="microblog-empty",h.textContent="No posts yet.",n.appendChild(h),t.appendChild(n);return}const c=document.createElement("div");c.className="microblog-feed";for(const h of l)c.appendChild(hl(h));n.appendChild(c),t.appendChild(n)}function Bm(i,e){const n=e.each(i,me("type"),null,null).map(s=>s.value);if(n.includes(ii("Microblog").value)||n.includes(ii("MessageBoard").value)||n.includes(Lt("Forum").value)||n.includes(ii("MicroblogPost").value))return!0;const a=e.each(i,Lt("container_of"),null,null);if(a.length>0){for(const s of a)if(s.termType==="NamedNode"&&e.any(s,Lt("content"),null,null))return!0}return!1}const Fm={label:"Microblog",icon:"📢",canHandle(i,e){return Bm(i,e)},render(i,e,t){Im(i,e,t)}};Be(Fm);function Lm(i,e){const t=e.each(i,gr("slot"),null,null),n=[];for(const a of t){const s=e.any(a,gr("index"),null,null),r=e.any(a,gr("item"),null,null);if(!r)continue;const l=r,o=e.any(l,nt("title"),null,null)?.value??e.any(l,de("title"),null,null)?.value??e.any(l,B("name"),null,null)?.value??l.value,c=e.any(l,B("video"),null,null)?.value??e.any(l,B("contentUrl"),null,null)?.value??void 0;n.push({index:s?Number(s.value):0,title:o,uri:l.value,videoUrl:c})}return n.sort((a,s)=>a.index-s.index),n}function Rm(i){const e=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/];for(const t of e){const n=i.match(t);if(n)return n[1]}return null}function Om(i,e,t){t.innerHTML="";const n=e.any(i,nt("title"),null,null)?.value??e.any(i,de("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??"Untitled Playlist",a=document.createElement("h2");a.textContent=n,t.appendChild(a);const s=Lm(i,e);if(s.length===0){const l=document.createElement("p");l.textContent="No tracks found in this playlist.",t.appendChild(l);return}const r=document.createElement("ol");r.className="playlist-tracks";for(const l of s){const o=document.createElement("li");o.className="playlist-track",o.dataset.uri=l.uri;const c=document.createElement("span");if(c.className="track-title",c.textContent=l.title,o.appendChild(c),l.videoUrl){const h=document.createElement("div");h.className="track-video";const p=Rm(l.videoUrl);if(p){const m=document.createElement("iframe");m.src=`https://www.youtube-nocookie.com/embed/${p}`,m.width="560",m.height="315",m.allowFullscreen=!0,m.setAttribute("loading","lazy"),m.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),h.appendChild(m)}else{const m=document.createElement("video");m.src=l.videoUrl,m.controls=!0,m.width=560,h.appendChild(m)}o.appendChild(h)}r.appendChild(o)}t.appendChild(r)}function $m(i,e){const n=e.each(i,me("type"),null,null).map(s=>s.value);return n.includes(gr("OrderedList").value)||n.includes(Wd("Playlist").value)?!0:e.each(i,gr("slot"),null,null).length>0}const Mm={label:"Playlist",icon:"🎵",canHandle(i,e){return $m(i,e)},render(i,e,t){Om(i,e,t)}};Be(Mm);function Um(i,e){if(e)return"📁";const t=i.split(".").pop()?.toLowerCase()??"";return{jpg:"🖼",jpeg:"🖼",png:"🖼",gif:"🖼",svg:"🖼",webp:"🖼",bmp:"🖼",ico:"🖼",mp3:"🎵",wav:"🎵",ogg:"🎵",flac:"🎵",m4a:"🎵",mp4:"🎬",webm:"🎬",avi:"🎬",mov:"🎬",mkv:"🎬",pdf:"📑",doc:"📝",docx:"📝",ttl:"📊",rdf:"📊",jsonld:"📊",n3:"📊",nq:"📊",json:"📋",xml:"📋",csv:"📋",js:"📜",ts:"📜",py:"📜",html:"📜",css:"📜",txt:"📄",md:"📄",zip:"📦",tar:"📦",gz:"📦"}[t]??"📄"}function Pm(i,e){const t=e.each(i,tt("contains"),null,null),n=[];for(const a of t){const s=a,r=s.value,l=e.each(s,me("type"),null,null).map(x=>x.value),o=l.includes(tt("Container").value)||l.includes(tt("BasicContainer").value)||r.endsWith("/"),c=Aa(r,o),p=(e.any(s,de("modified"),null,null)??e.any(s,js("mtime"),null,null))?.value,m=e.any(s,js("size"),null,null),y=m?Number(m.value):void 0,w=e.any(s,de("format"),null,null)?.value??void 0;n.push({uri:r,name:c,isContainer:o,modified:p,size:y,contentType:w})}return n.sort((a,s)=>a.isContainer!==s.isContainer?a.isContainer?-1:1:a.name.localeCompare(s.name)),n}function Aa(i,e){const n=(e?i.replace(/\/$/,""):i).split("/");return decodeURIComponent(n[n.length-1]||i)}function qm(i){return i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(1)} KB`:`${(i/(1024*1024)).toFixed(1)} MB`}function Hm(i){const e=Number(i),t=Number.isNaN(e)?new Date(i):new Date(e*1e3);return Number.isNaN(t.getTime())?i:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function zm(i){const e=i.replace(/\/$/,""),t=e.lastIndexOf("/");return t<=7?null:e.slice(0,t+1)}function jm(i){const e=[];let t=i;for(;;){const n=Aa(t,!0);e.unshift({label:n||"Root",uri:t});const a=zm(t);if(!a)break;t=a}return e}function Vm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="folder-view";const a=e.any(i,nt("title"),null,null)?.value??e.any(i,de("title"),null,null)?.value??Aa(i.value,!0),s=document.createElement("h2");s.className="folder-title",s.textContent=a,n.appendChild(s);const r=jm(i.value);if(r.length>1){const D=document.createElement("nav");D.className="folder-breadcrumbs",D.setAttribute("aria-label","Folder path");for(let M=0;M<r.length;M++){if(M>0){const R=document.createElement("span");R.className="folder-breadcrumb-sep",R.textContent=" / ",D.appendChild(R)}if(M<r.length-1){const R=Kt(r[M].uri,r[M].label);R.className="folder-breadcrumb",D.appendChild(R)}else{const R=document.createElement("span");R.className="folder-breadcrumb-current",R.textContent=r[M].label,D.appendChild(R)}}n.appendChild(D)}const l=document.createElement("p");l.className="folder-path",l.textContent=i.value,n.appendChild(l);const o=Pm(i,e),c=o.filter(D=>D.isContainer),h=o.filter(D=>!D.isContainer),p=[];c.length>0&&p.push(`${c.length} folder${c.length!==1?"s":""}`),h.length>0&&p.push(`${h.length} file${h.length!==1?"s":""}`);const m=document.createElement("p");if(m.className="folder-count",m.textContent=p.length>0?p.join(", "):"0 items",n.appendChild(m),o.length===0){const D=document.createElement("p");D.className="folder-empty",D.textContent="This folder is empty.",n.appendChild(D),t.appendChild(n);return}const y=document.createElement("table");y.className="folder-listing";const w=document.createElement("thead");w.innerHTML="<tr><th></th><th>Name</th><th>Type</th><th>Size</th><th>Modified</th></tr>",y.appendChild(w);const x=document.createElement("tbody");for(const D of o){const M=document.createElement("tr");M.className=D.isContainer?"folder-row":"file-row";const R=document.createElement("td");R.className="folder-icon",R.textContent=Um(D.name,D.isContainer),M.appendChild(R);const Z=document.createElement("td");Z.className="folder-name";const Y=Kt(D.uri,D.name+(D.isContainer?"/":""));Z.appendChild(Y),M.appendChild(Z);const T=document.createElement("td");T.className="folder-type",D.isContainer?T.textContent="Folder":D.contentType?T.textContent=D.contentType:T.textContent="",M.appendChild(T);const V=document.createElement("td");V.className="folder-size",V.textContent=D.size!=null?qm(D.size):"",M.appendChild(V);const $=document.createElement("td");$.className="folder-modified",$.textContent=D.modified?Hm(D.modified):"",M.appendChild($),x.appendChild(M)}y.appendChild(x),n.appendChild(y),t.appendChild(n)}function Gm(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(tt("Container").value)||n.includes(tt("BasicContainer").value)||i.value.endsWith("/")&&e.match(i,tt("contains"),null,null).length>0)}const Xm={label:"Folder",icon:"📁",canHandle(i,e){return Gm(i,e)},render(i,e,t){Vm(i,e,t)}};Be(Xm);function Wm(i,e){const t=e.each(null,Qn("storage"),i,null);for(const a of t){if(a.termType!=="NamedNode")continue;const s=e.any(a,Ce("name"),null,null)?.value??e.any(a,be("fn"),null,null)?.value;if(s)return s}const n=e.any(i,Ce("primaryTopic"),null,null);if(n&&n.termType==="NamedNode"){const a=e.any(n,Ce("name"),null,null)?.value??e.any(n,be("fn"),null,null)?.value;if(a)return a}try{const s=new URL(i.value).hostname.split(".")[0];if(s&&s!=="www")return s}catch{}return null}function Qm(i,e){const t=e.each(null,Qn("storage"),i,null);for(const a of t)if(a.termType==="NamedNode")return a.value;const n=e.any(i,Ce("primaryTopic"),null,null);return n&&n.termType==="NamedNode"?n.value:null}function Ym(i,e){const t=[],n=e.each(i,tt("contains"),null,null);for(const a of n){if(a.termType!=="NamedNode")continue;const s=a,l=e.each(s,me("type"),null,null).map(h=>h.value),o=l.includes(tt("Container").value)||l.includes(tt("BasicContainer").value)||s.value.endsWith("/"),c=e.any(s,de("title"),null,null)?.value??e.any(s,nt("title"),null,null)?.value??fe(s.value);t.push({uri:s.value,label:c,type:o?"container":"resource"})}return t.sort((a,s)=>a.type!==s.type?a.type==="container"?-1:1:a.label.localeCompare(s.label)),t}function Zm(i,e){const n=e.each(i,me("type"),null,null).map(s=>s.value);let a=null;return n.includes(Jt("Account").value)?a="Solid Account":n.includes(Qn("Storage").value)&&(a="Solid Pod"),{typeLabel:a}}function Jm(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="dashboard-view";const a=Wm(i,e),s=Qm(i,e),r=document.createElement("h2");r.className="dashboard-title",r.textContent=a?`${a}'s Pod`:"Solid Pod",n.appendChild(r);const l=document.createElement("p");l.className="dashboard-url";const o=document.createElement("code");o.textContent=i.value,l.appendChild(o),n.appendChild(l);const{typeLabel:c}=Zm(i,e);if(c){const y=document.createElement("span");y.className="dashboard-badge",y.textContent=c,n.appendChild(y)}if(s){const y=document.createElement("div");y.className="dashboard-section";const w=document.createElement("h3");w.textContent="Profile",y.appendChild(w);const x=Kt(s,a?`View ${a}'s profile`:"View profile");x.className="dashboard-link",y.appendChild(x),n.appendChild(y)}const h=Ym(i,e),p=document.createElement("div");p.className="dashboard-section";const m=document.createElement("h3");if(m.textContent="Data",p.appendChild(m),h.length===0){const y=document.createElement("p");y.className="dashboard-empty",y.textContent="No visible contents.",p.appendChild(y)}else{const y=document.createElement("p");y.className="dashboard-count";const w=h.filter(R=>R.type==="container").length,x=h.filter(R=>R.type==="resource").length,D=[];w>0&&D.push(`${w} folder${w!==1?"s":""}`),x>0&&D.push(`${x} file${x!==1?"s":""}`),y.textContent=D.join(", "),p.appendChild(y);const M=document.createElement("ul");M.className="dashboard-contents";for(const R of h){const Z=document.createElement("li");Z.className=`dashboard-item dashboard-item-${R.type}`;const Y=document.createElement("span");Y.className="dashboard-item-icon",Y.textContent=R.type==="container"?"📁":"📄",Z.appendChild(Y);const T=Kt(R.uri,R.label);T.className="dashboard-item-link",T.title=R.uri,Z.appendChild(T),M.appendChild(Z)}p.appendChild(M)}n.appendChild(p),t.appendChild(n)}function Km(i,e){const n=e.each(i,me("type"),null,null).map(r=>r.value);if(n.includes(Qn("Storage").value)||n.includes(Jt("Account").value))return!0;if(n.includes(tt("Container").value)||n.includes(tt("BasicContainer").value))try{if(new URL(i.value).pathname==="/")return!0}catch{}return e.each(null,Qn("storage"),i,null).length>0}const e0={label:"Dashboard",icon:"🏠",canHandle(i,e){return Km(i,e)},render(i,e,t){Jm(i,e,t)}};Be(e0);const t0=/\.(png|jpe?g|gif|webp|svg|bmp|ico)(\?.*)?$/i;function n0(i,e){return e.any(i,de("title"),null,null)?.value??e.any(i,nt("title"),null,null)?.value??e.any(i,B("name"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??"Chat"}function wu(i,e){return e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function r0(i,e){const t=e.each(i,Ct("message"),null,null),n=[];for(const a of t){const s=a,r=e.any(s,Lt("content"),null,null)?.value??e.any(s,de("content"),null,null)?.value??e.any(s,nt("description"),null,null)?.value??"",l=e.any(s,de("created"),null,null)?.value??e.any(s,nt("date"),null,null)?.value,o=l?new Date(l):null,c=e.any(s,Ce("maker"),null,null)??e.any(s,nt("creator"),null,null);let h=null,p=null;c&&(p=c.value,c.termType==="NamedNode"?h=wu(c,e):h=c.value),n.push({uri:s.value,content:r,created:o,maker:h,makerUri:p})}return n.sort((a,s)=>!a.created&&!s.created?0:a.created?s.created?a.created.getTime()-s.created.getTime():1:-1),n}function i0(i){return i.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}function a0(i){return i.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function s0(i){return i.toISOString().slice(0,10)}function l0(i,e){const t=/(https?:\/\/[^\s<>"]+)/g,n=i.split(t);for(const a of n)if(t.test(a))if(t.lastIndex=0,t0.test(a)){const s=document.createElement("img");s.className="chat-inline-image",s.src=a,s.alt="Shared image",s.loading="lazy",e.appendChild(s)}else{const s=document.createElement("a");s.href=a,s.textContent=a,s.target="_blank",s.rel="noopener",e.appendChild(s)}else a&&e.appendChild(document.createTextNode(a))}function u0(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="chat-view";const a=n0(i,e),s=document.createElement("h2");s.className="chat-title",s.textContent=a,n.appendChild(s);const r=e.any(i,nt("author"),null,null)??e.any(i,de("creator"),null,null);if(r&&r.termType==="NamedNode"){const p=wu(r,e),m=document.createElement("p");m.className="chat-creator",m.textContent=`Created by ${p}`,n.appendChild(m)}const l=r0(i,e),o=document.createElement("p");if(o.className="chat-count",o.textContent=`${l.length} message${l.length!==1?"s":""}`,n.appendChild(o),l.length===0){const p=document.createElement("p");p.className="chat-empty",p.textContent="No messages yet.",n.appendChild(p),t.appendChild(n);return}const c=document.createElement("div");c.className="chat-messages";let h=null;for(const p of l){if(p.created){const x=s0(p.created);if(x!==h){h=x;const D=document.createElement("div");D.className="chat-date-header",D.textContent=a0(p.created),c.appendChild(D)}}const m=document.createElement("div");m.className="chat-message";const y=document.createElement("div");if(y.className="chat-message-header",p.maker)if(p.makerUri){const x=Kt(p.makerUri,p.maker);x.className="chat-author",x.title=p.makerUri,y.appendChild(x)}else{const x=document.createElement("span");x.className="chat-author",x.textContent=p.maker,y.appendChild(x)}if(p.created){const x=document.createElement("time");x.className="chat-time",x.dateTime=p.created.toISOString(),x.textContent=i0(p.created),y.appendChild(x)}m.appendChild(y);const w=document.createElement("div");w.className="chat-content",l0(p.content,w),m.appendChild(w),c.appendChild(m)}n.appendChild(c),t.appendChild(n)}function o0(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(Ut("LongChat").value)||n.includes(Ut("ShortChat").value)||n.includes(Ut("Chat").value)||n.includes(Ct("Flow").value)||n.includes(Lt("Thread").value)||e.match(i,Ct("message"),null,null).length>0||e.any(i,Lt("content"),null,null)&&e.any(i,de("created"),null,null))}const c0={label:"Chat",icon:"💬",canHandle(i,e){return o0(i,e)},render(i,e,t){u0(i,e,t)}};Be(c0);function Eu(i,e){return e.any(i,be("fn"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function d0(i,e){const t=[],n=e.each(i,be("hasEmail"),null,null);for(const a of n){const s=e.any(a,be("value"),null,null)?.value;s?t.push(s):a.value.startsWith("mailto:")&&t.push(a.value)}if(t.length===0){const a=e.any(i,Ce("mbox"),null,null)?.value;a&&t.push(a)}return t}function h0(i,e){const t=[],n=e.each(i,be("hasTelephone"),null,null);for(const a of n){const s=e.any(a,be("value"),null,null)?.value;s?t.push(s):a.value.startsWith("tel:")&&t.push(a.value)}return t}function f0(i,e){const t=e.any(i,be("hasAddress"),null,null);if(!t)return;const n=t,a=e.any(n,be("street-address"),null,null)?.value,s=e.any(n,be("locality"),null,null)?.value,r=e.any(n,be("region"),null,null)?.value,l=e.any(n,be("postal-code"),null,null)?.value,o=e.any(n,be("country-name"),null,null)?.value,c=[a,s,r,l,o].filter(Boolean);return c.length>0?c.join(", "):void 0}function Cu(i,e){const t=e.each(i,be("hasMember"),null,null),n=[];for(const a of t){const s=a;if(e.holds(s,me("type"),be("Group"))){const r=Cu(s,e);n.push(...r);continue}n.push({uri:s.value,name:Eu(s,e),emails:d0(s,e),phones:h0(s,e),title:e.any(s,be("title"),null,null)?.value??void 0,org:e.any(s,be("organization-name"),null,null)?.value??void 0,photo:e.any(s,be("hasPhoto"),null,null)?.value??e.any(s,Ce("img"),null,null)?.value??void 0,address:f0(s,e),note:e.any(s,be("note"),null,null)?.value??void 0})}return n.sort((a,s)=>a.name.localeCompare(s.name)),n}function p0(i,e){const t=[],n=e.each(i,be("hasMember"),null,null);for(const a of n){const s=a;if(e.holds(s,me("type"),be("Group"))){const r=Eu(s,e),l=e.each(s,be("hasMember"),null,null).length;t.push({name:r,count:l,uri:s.value})}}return t.sort((a,s)=>a.name.localeCompare(s.name)),t}function m0(i,e){return e.any(i,be("fn"),null,null)?.value??e.any(i,B("name"),null,null)?.value??"Address Book"}function g0(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="contacts-view";const a=m0(i,e),s=document.createElement("h2");s.className="contacts-title",s.textContent=a,n.appendChild(s);const r=Cu(i,e),l=p0(i,e),o=document.createElement("p");if(o.className="contacts-count",o.textContent=`${r.length} contact${r.length!==1?"s":""}`,n.appendChild(o),r.length>5){const h=document.createElement("input");h.className="contacts-search",h.type="search",h.placeholder="Filter contacts...",h.setAttribute("aria-label","Filter contacts"),h.addEventListener("input",()=>{const p=h.value.toLowerCase(),m=n.querySelectorAll(".contact-card");for(const y of m){const w=y,x=w.getAttribute("data-name")??"";w.style.display=x.toLowerCase().includes(p)?"":"none"}}),n.appendChild(h)}if(l.length>0){const h=document.createElement("div");h.className="contacts-groups";const p=document.createElement("h3");p.textContent="Groups",h.appendChild(p);const m=document.createElement("ul");m.className="contacts-group-list";for(const y of l){const w=document.createElement("li");w.className="contacts-group-item";const x=Kt(y.uri,`${y.name} (${y.count})`);w.appendChild(x),m.appendChild(w)}h.appendChild(m),n.appendChild(h)}if(r.length===0){const h=document.createElement("p");h.className="contacts-empty",h.textContent="No contacts found.",n.appendChild(h),t.appendChild(n);return}const c=document.createElement("ul");c.className="contacts-list";for(const h of r){const p=document.createElement("li");if(p.className="contact-card",p.setAttribute("data-name",h.name),h.photo){const w=document.createElement("img");w.className="contact-photo",w.src=h.photo,w.alt=h.name,p.appendChild(w)}else{const w=document.createElement("div");w.className="contact-photo-placeholder",w.textContent=h.name.charAt(0).toUpperCase(),p.appendChild(w)}const m=document.createElement("div");m.className="contact-info";const y=Kt(h.uri,h.name);if(y.className="contact-name",y.title=h.uri,m.appendChild(y),h.title){const w=document.createElement("span");w.className="contact-title",w.textContent=h.title,m.appendChild(w)}if(h.org){const w=document.createElement("span");w.className="contact-org",w.textContent=h.org,m.appendChild(w)}for(const w of h.emails){const x=document.createElement("a");x.className="contact-email";const D=w.replace("mailto:","");x.href=w.startsWith("mailto:")?w:`mailto:${D}`,x.textContent=D,m.appendChild(x)}for(const w of h.phones){const x=document.createElement("a");x.className="contact-phone";const D=w.replace("tel:","");x.href=w.startsWith("tel:")?w:`tel:${D}`,x.textContent=D,m.appendChild(x)}if(h.address){const w=document.createElement("span");w.className="contact-address",w.textContent=h.address,m.appendChild(w)}if(h.note){const w=document.createElement("p");w.className="contact-note",w.textContent=h.note,m.appendChild(w)}p.appendChild(m),c.appendChild(p)}n.appendChild(c),t.appendChild(n)}function v0(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(be("AddressBook").value)||n.includes(be("Group").value)||e.match(i,be("hasMember"),null,null).length>0)}const y0={label:"Contacts",icon:"📇",canHandle(i,e){return v0(i,e)},render(i,e,t){g0(i,e,t)}};Be(y0);function An(i,e,t,n=!1){if(!t)return;const a=document.createElement("div");a.className="org-detail";const s=document.createElement("span");if(s.className="org-label",s.textContent=e,a.appendChild(s),n&&(t.startsWith("http://")||t.startsWith("https://"))){const r=document.createElement("a");r.href=t,r.textContent=fe(t),r.target="_blank",r.rel="noopener",a.appendChild(r)}else if(n&&t.startsWith("mailto:")){const r=document.createElement("a");r.href=t,r.textContent=t.replace("mailto:",""),a.appendChild(r)}else{const r=document.createElement("span");r.className="org-value",r.textContent=t,a.appendChild(r)}i.appendChild(a)}function w0(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="org-card";const a=e.any(i,B("logo"),null,null)?.value??e.any(i,Ce("logo"),null,null)?.value??e.any(i,Ce("img"),null,null)?.value;if(a){const R=document.createElement("img");R.className="org-logo",R.src=a,R.alt="Organization logo",n.appendChild(R)}const s=e.any(i,B("name"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??e.any(i,de("title"),null,null)?.value??fe(i.value),r=document.createElement("h2");r.className="org-name",r.textContent=s,n.appendChild(r);const l=e.any(i,B("description"),null,null)?.value??e.any(i,de("description"),null,null)?.value;if(l){const R=document.createElement("p");R.className="org-description",R.textContent=l,n.appendChild(R)}const o=document.createElement("div");o.className="org-details";const c=e.any(i,B("url"),null,null)?.value;An(o,"Website",c,!0);const h=e.any(i,B("email"),null,null)?.value;An(o,"Email",h,!0);const p=e.any(i,B("telephone"),null,null)?.value;An(o,"Phone",p);const m=e.any(i,B("address"),null,null);if(m){const R=e.any(m,B("streetAddress"),null,null)?.value,Z=e.any(m,B("addressLocality"),null,null)?.value,Y=e.any(m,B("addressRegion"),null,null)?.value,T=e.any(m,B("addressCountry"),null,null)?.value;if(R||Z){const V=[R,Z,Y,T].filter(Boolean);An(o,"Address",V.join(", "))}else An(o,"Address",m.value)}const y=e.any(i,B("foundingDate"),null,null)?.value;An(o,"Founded",y);const w=e.any(i,B("numberOfEmployees"),null,null)?.value;An(o,"Employees",w),n.appendChild(o);const x=e.each(i,B("member"),null,null),D=e.each(i,B("employee"),null,null),M=[...x,...D];if(M.length>0){const R=document.createElement("div");R.className="org-people";const Z=document.createElement("h3");Z.textContent=`People (${M.length})`,R.appendChild(Z);const Y=document.createElement("ul");Y.className="org-people-list";for(const T of M){const V=e.any(T,B("name"),null,null)?.value??e.any(T,Ce("name"),null,null)?.value??fe(T.value),$=document.createElement("li"),q=Kt(T.value,V);q.title=T.value,$.appendChild(q),Y.appendChild($)}R.appendChild(Y),n.appendChild(R)}t.appendChild(n)}const E0=[B("Organization"),B("Corporation"),B("GovernmentOrganization"),B("NGO"),B("EducationalOrganization"),B("LocalBusiness"),Ce("Organization"),Ce("Group")];function C0(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);for(const a of E0)if(n.includes(a.value))return!0;return!1}const b0={label:"Organization",icon:"🏢",canHandle(i,e){return C0(i,e)},render(i,e,t){w0(i,e,t)}};Be(b0);function x0(i,e){return e.any(i,be("fn"),null,null)?.value??e.any(i,Ce("name"),null,null)?.value??e.any(i,B("name"),null,null)?.value??fe(i.value)}function N0(i,e){return e.any(i,be("hasPhoto"),null,null)?.value??e.any(i,Ce("img"),null,null)?.value??e.any(i,B("image"),null,null)?.value??e.any(i,Ce("depiction"),null,null)?.value??void 0}function T0(i,e){const t=e.any(i,Jt("preferredSubjectPronoun"),null,null)?.value;if(!t)return;let n=t;const a=e.any(i,Jt("preferredObjectPronoun"),null,null)?.value;if(a){n+="/"+a;const s=e.any(i,Jt("preferredRelativePronoun"),null,null)?.value;s&&(n+="/"+s)}return n}function A0(i,e){const t=e.any(i,be("hasAddress"),null,null);if(!t)return;const n=t,a=e.any(n,be("locality"),null,null)?.value,s=e.any(n,be("region"),null,null)?.value,r=e.any(n,be("country-name"),null,null)?.value,l=[a,s,r].filter(Boolean);return l.length>0?l.join(", "):void 0}function D0(i,e){const t=[],n=e.each(i,Ce("account"),null,null);for(const a of n){const s=a,r=e.any(s,Ce("name"),null,null)?.value??e.any(s,it("label"),null,null)?.value??fe(s.value),l=e.any(s,Ce("homepage"),null,null)?.value??s.value;t.push({name:r,uri:l})}return t}function _0(i,e){const t=[],n=e.each(i,be("hasTelephone"),null,null);for(const a of n){const s=e.any(a,be("value"),null,null)?.value;s?t.push(s):a.value.startsWith("tel:")&&t.push(a.value)}return t}function k0(i,e){const t=[],n=e.each(i,be("hasEmail"),null,null);for(const a of n){const s=e.any(a,be("value"),null,null)?.value;s?t.push(s):a.value.startsWith("mailto:")&&t.push(a.value)}if(t.length===0){const a=e.any(i,Ce("mbox"),null,null)?.value;a&&t.push(a)}return t}function S0(i,e){const t=e.each(null,Hi("member"),i,null),n=[],a=[];for(const s of t){const r=s,l=e.any(r,Hi("organization"),null,null),o=l?e.any(l,B("name"),null,null)?.value??e.any(l,Ce("name"),null,null)?.value??fe(l.value):"",c=e.any(r,Hi("role"),null,null),h=e.any(r,be("role"),null,null)?.value,p=c?e.any(c,B("name"),null,null)?.value:void 0,m=h&&p?`${p} - ${h}`:h||p||"",y=e.any(r,B("startDate"),null,null)?.value,w=e.any(r,B("endDate"),null,null)?.value,x=y?`${y.slice(0,10)} – ${w?w.slice(0,10):"present"}`:"",D={orgName:o,roleText:m,dates:x};e.holds(r,me("type"),Jt("PastRole"))?a.push(D):n.push(D)}return{current:n,past:a}}function Pn(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function ln(i,e,t,n=!1){if(!t)return;const a=document.createElement("div");a.className="profile-detail";const s=document.createElement("span");if(s.className="profile-label",s.textContent=e,a.appendChild(s),n&&(t.startsWith("http://")||t.startsWith("https://"))){const r=document.createElement("a");r.href=t,r.textContent=fe(t),r.target="_blank",r.rel="noopener",a.appendChild(r)}else if(n&&t.startsWith("mailto:")){const r=document.createElement("a");r.href=t,r.textContent=t.replace("mailto:",""),a.appendChild(r)}else if(n&&t.startsWith("tel:")){const r=document.createElement("a");r.href=t,r.textContent=t.replace("tel:",""),a.appendChild(r)}else{const r=document.createElement("span");r.className="profile-value",r.textContent=t,a.appendChild(r)}i.appendChild(a)}function I0(i,e,t){t.innerHTML="";const n=document.createElement("div");n.className="profile-card";const a=N0(i,e);if(a){const q=document.createElement("img");q.className="profile-photo",q.src=a,q.alt="Profile photo",n.appendChild(q)}const s=x0(i,e),r=document.createElement("h2");r.className="profile-name",r.textContent=s,n.appendChild(r);const l=T0(i,e);if(l){const q=document.createElement("p");q.className="profile-pronouns",q.textContent=l,n.appendChild(q)}const o=e.any(i,Ce("nick"),null,null)?.value;if(o){const q=document.createElement("p");q.className="profile-nick",q.textContent=`@${o}`,n.appendChild(q)}const c=A0(i,e);if(c){const q=document.createElement("p");q.className="profile-location",q.textContent=c,n.appendChild(q)}const h=document.createElement("p");h.className="profile-webid";const p=document.createElement("a");p.href=i.value,p.textContent=i.value,p.target="_blank",p.rel="noopener",h.appendChild(p),n.appendChild(h);const m=document.createElement("div");m.className="profile-details";const y=e.any(i,be("role"),null,null)?.value,w=e.any(i,be("organization-name"),null,null)?.value;y&&w?ln(m,"Role",`${y}, ${w}`):(ln(m,"Role",y),ln(m,"Organization",w)),ln(m,"Birthday",e.any(i,be("bday"),null,null)?.value);const x=e.any(i,be("note"),null,null)?.value??e.any(i,Ce("bio"),null,null)?.value;ln(m,"About",x?.trim());const D=k0(i,e);for(const q of D)ln(m,"Email",q,!0);const M=_0(i,e);for(const q of M)ln(m,"Phone",q,!0);const R=e.any(i,Ce("homepage"),null,null)?.value;ln(m,"Homepage",R,!0);const Z=e.any(i,Qn("storage"),null,null)?.value;ln(m,"Pod",Z,!0),n.appendChild(m);const{current:Y,past:T}=S0(i,e);if(Y.length>0||T.length>0){const q=document.createElement("div");q.className="profile-roles";const F=document.createElement("h3");if(F.textContent="Experience",q.appendChild(F),Y.length>0){const P=document.createElement("h4");P.className="profile-roles-subheader",P.textContent="Current",q.appendChild(P);for(const j of Y){const H=document.createElement("div");H.className="profile-role-item";let K=`<strong class="profile-role-org">${Pn(j.orgName)}</strong>`;j.roleText&&(K+=` <span class="profile-role-title">${Pn(j.roleText)}</span>`),j.dates&&(K+=` <span class="profile-role-dates">${Pn(j.dates)}</span>`),H.innerHTML=K,q.appendChild(H)}}if(T.length>0){const P=document.createElement("h4");P.className="profile-roles-subheader",P.textContent="Past",q.appendChild(P);for(const j of T){const H=document.createElement("div");H.className="profile-role-item";let K=`<strong class="profile-role-org">${Pn(j.orgName)}</strong>`;j.roleText&&(K+=` <span class="profile-role-title">${Pn(j.roleText)}</span>`),j.dates&&(K+=` <span class="profile-role-dates">${Pn(j.dates)}</span>`),H.innerHTML=K,q.appendChild(H)}}n.appendChild(q)}const V=D0(i,e);if(V.length>0){const q=document.createElement("div");q.className="profile-social";const F=document.createElement("h3");F.textContent="Social Accounts",q.appendChild(F);const P=document.createElement("ul");P.className="profile-social-list";for(const j of V){const H=document.createElement("li"),K=document.createElement("a");K.href=j.uri,K.textContent=j.name,K.target="_blank",K.rel="noopener noreferrer",H.appendChild(K),P.appendChild(H)}q.appendChild(P),n.appendChild(q)}const $=e.each(i,Ce("knows"),null,null);if($.length>0){const q=document.createElement("div");q.className="profile-friends";const F=document.createElement("h3");F.textContent=`Contacts (${$.length})`,q.appendChild(F);const P=document.createElement("ul");P.className="profile-friends-list";for(const j of $){const H=document.createElement("li"),K=Kt(j.value,fe(j.value));K.title=j.value,H.appendChild(K),P.appendChild(H)}q.appendChild(P),n.appendChild(q)}t.appendChild(n)}function B0(i,e){const n=e.each(i,me("type"),null,null).map(a=>a.value);return!!(n.includes(Ce("Person").value)||n.includes(B("Person").value)||n.includes(be("Individual").value)||e.any(i,Ce("name"),null,null)||e.any(i,be("fn"),null,null))}const F0={label:"Profile",icon:"👤",canHandle(i,e){return B0(i,e)},render(i,e,t){I0(i,e,t)}};Be(F0);const _t=new Vd;let di=Xl();function bu(){const i=_t.isActive?_t.authFetch.bind(_t):void 0;di=Xl(i?{fetch:i}:void 0)}function L0(i,e,t,n){const{store:a}=di;n.innerHTML="",i.length<=1?n.hidden=!0:n.hidden=!1;for(let s=0;s<i.length;s++){const r=i[s],l=document.createElement("button");l.className="pane-tab",l.role="tab",l.textContent=`${r.icon} ${r.label}`,l.setAttribute("aria-selected",s===0?"true":"false"),l.addEventListener("click",()=>{for(const o of n.children)o.setAttribute("aria-selected","false");l.setAttribute("aria-selected","true"),t.innerHTML="",r.render(e,a,t)}),n.appendChild(l)}t.innerHTML="",i[0].render(e,a,t)}async function Da(i,e,t){e.innerHTML='<p class="loading">Loading...</p>',t.innerHTML="",t.hidden=!0;try{await di.fetchDocument(i);const n=fi(i),a=$d(n,di.store);if(a.length===0){e.innerHTML=`
        <div class="error">
          <p><strong>No pane available</strong> for this resource.</p>
          <p>URI: <code>${fl(i)}</code></p>
          <p>The resource was fetched successfully, but no registered pane
          knows how to display it.</p>
        </div>
      `;return}L0(a,n,e,t)}catch(n){const a=n instanceof Error?n.message:String(n);e.innerHTML=`
      <div class="error">
        <p><strong>Failed to load resource</strong></p>
        <p>${fl(a)}</p>
      </div>
    `}}async function R0(){try{await _t.handleRedirectFromLogin()}catch{}try{await _t.restore()}catch{}_t.isActive&&bu()}function O0(){bu()}function fl(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}const $0=document.getElementById("url-form"),Ar=document.getElementById("url-input"),gi=document.getElementById("pane-container"),_a=document.getElementById("pane-tabs"),ua=document.getElementById("login-btn"),oa=document.getElementById("logout-btn"),hr=document.getElementById("user-info");async function ka(i,e){if(Ar.value=i,e){const t=new URL(window.location.href);t.searchParams.set("uri",i),window.history.pushState({uri:i},"",t.toString())}await Da(i,gi,_a)}function xu(){_t.isActive?(ua.hidden=!0,oa.hidden=!1,hr.hidden=!1,hr.textContent=_t.webId?fe(_t.webId):"Logged in",hr.title=_t.webId??""):(ua.hidden=!1,oa.hidden=!0,hr.hidden=!0,hr.textContent="")}_t.addEventListener("sessionStateChange",()=>{O0(),xu();const i=Ar.value.trim();i&&Da(i,gi,_a)});ua.addEventListener("click",()=>{const i=prompt("Solid identity provider:","https://solidcommunity.net");i&&_t.login(i,window.location.href)});oa.addEventListener("click",()=>{_t.logout()});$0.addEventListener("submit",i=>{i.preventDefault();const e=Ar.value.trim();e&&ka(e,!0)});window.addEventListener(Zl,(i=>{const e=i.detail.uri;e&&ka(e,!0)}));window.addEventListener("popstate",()=>{const e=new URLSearchParams(window.location.search).get("uri");e?ka(e,!1):(Ar.value="",gi.innerHTML='<p class="placeholder">Enter a URL above to browse a Linked Data resource.</p>')});async function M0(){await R0(),xu();const e=new URLSearchParams(window.location.search).get("uri");e&&(Ar.value=e,window.history.replaceState({uri:e},"",window.location.href),Da(e,gi,_a))}M0();export{zr as c,Cl as g};
